<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>APM:Libraries: libraries/AP_Motors/AP_MotorsHeli_Single.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">APM:Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_e2208a4dfd218f697a2a26cf1e819f73.html">AP_Motors</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">AP_MotorsHeli_Single.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="AP__MotorsHeli__Single_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment"> *  This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"> *  it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"> *  the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment"> *  (at your option) any later version.</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"> *</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment"> *  This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment"> *  but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment"> *  GNU General Public License for more details.</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment"> *</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment"> *  You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment"> *  along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"> */</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;<a class="code" href="AP__HAL_8h.html">AP_HAL/AP_HAL.h</a>&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;<a class="code" href="SRV__Channel_8h.html">SRV_Channel/SRV_Channel.h</a>&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;<a class="code" href="AP__MotorsHeli__Single_8h.html">AP_MotorsHeli_Single.h</a>&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;<a class="code" href="GCS_8h.html">GCS_MAVLink/GCS.h</a>&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span> </div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="keyword">extern</span> <span class="keyword">const</span> <a class="code hl_class" href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a>&amp; <a class="code hl_variable" href="AP__MotorsHeli__Single_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>;</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span> </div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="keyword">const</span> <a class="code hl_struct" href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a> <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#aecbda05789d8b1f7c5d5b18b7303bcda">AP_MotorsHeli_Single::var_info</a>[] = {</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>    <a class="code hl_define" href="AP__Param_8h.html#a0a8f85b5d68c3b15980239a2a6c1d4fb">AP_NESTEDGROUPINFO</a>(<a class="code hl_class" href="classAP__MotorsHeli.html">AP_MotorsHeli</a>, 0),</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span> </div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>    <span class="comment">// Indices 1-3 were used by servo position params and should not be used</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span> </div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>    <span class="comment">// @Param: TAIL_TYPE</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>    <span class="comment">// @DisplayName: Tail Type</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>    <span class="comment">// @Description: Tail type selection. Servo Only uses tail rotor pitch to provide yaw control (including stabilization) via an output assigned to Motor4.  Servo with External Gyro uses an external gyro to control tail rotor pitch via a servo.  Yaw control without stabilization is passed to the external gyro via the output assigned to Motor4.  Direct Drive Variable Pitch(DDVP) is used for tails that have a motor whose ESC is connected to an output with function HeliTailRSC. Tail pitch is still accomplished with a servo on an output assigned to Motor4 function.  Direct Drive Fixed Pitch (DDFP) CW is used for helicopters with a rotor that spins clockwise when viewed from above with a motor whose ESC is controlled by an output whose function is Motor4. Direct Drive Fixed Pitch (DDFP) CCW is used for helicopters with a rotor that spins counter clockwise when viewed from above with a motor whose ESC is controlled by an output whose function is Motor4. In both DDFP cases, no servo is used for the tail and the tail motor esc on Motor4 output is used to control the yaw axis using motor speed.</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>    <span class="comment">// @Values: 0:Servo only,1:Servo with ExtGyro,2:DirectDrive VarPitch,3:DirectDrive FixedPitch CW,4:DirectDrive FixedPitch CCW</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;TAIL_TYPE&quot;</span>, 4, <a class="code hl_class" href="classAP__MotorsHeli__Single.html">AP_MotorsHeli_Single</a>, _tail_type, <span class="keywordtype">float</span>(TAIL_TYPE::SERVO)),</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>    <span class="comment">// Indice 5 was used by SWASH_TYPE and should not be used</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>    <span class="comment">// @Param: GYR_GAIN</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>    <span class="comment">// @DisplayName: External Gyro Gain</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    <span class="comment">// @Description: PWM in microseconds sent to external gyro on an servo/output whose function is Motor7 when tail type is Servo w/ ExtGyro</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    <span class="comment">// @Range: 0 1000</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    <span class="comment">// @Units: PWM</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>    <span class="comment">// @Increment: 1</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;GYR_GAIN&quot;</span>, 6, <a class="code hl_class" href="classAP__MotorsHeli__Single.html">AP_MotorsHeli_Single</a>, _ext_gyro_gain_std, <a class="code hl_define" href="AP__MotorsHeli__Single_8h.html#abb65299c2e22fc8cb0353dc2f8885792">AP_MOTORS_HELI_SINGLE_EXT_GYRO_GAIN</a>),</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span> </div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    <span class="comment">// Index 7 was used for phase angle and should not be used</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span> </div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    <span class="comment">// Indice 8 was used by COLYAW and should not be used</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span> </div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    <span class="comment">// @Param: FLYBAR_MODE</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    <span class="comment">// @DisplayName: Flybar Mode Selector</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    <span class="comment">// @Description: Flybar present or not.  Affects attitude controller used during ACRO flight mode</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    <span class="comment">// @Values: 0:NoFlybar,1:Flybar</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;FLYBAR_MODE&quot;</span>, 9, <a class="code hl_class" href="classAP__MotorsHeli__Single.html">AP_MotorsHeli_Single</a>, _flybar_mode, <a class="code hl_define" href="AP__MotorsHeli_8h.html#a1c770f440a786266b1c706e0936ee70e">AP_MOTORS_HELI_NOFLYBAR</a>),</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span> </div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    <span class="comment">// @Param: TAIL_SPEED</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <span class="comment">// @DisplayName: DDVP Tail ESC speed</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <span class="comment">// @Description: Direct drive, variable pitch tail ESC speed in percent output to the tail motor esc (HeliTailRSC Servo) when motor interlock enabled (throttle hold off) and speed fully ramped up after spoolup.</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <span class="comment">// @Range: 0 100</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    <span class="comment">// @Units: %</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>    <span class="comment">// @Increment: 1</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;TAIL_SPEED&quot;</span>, 10, <a class="code hl_class" href="classAP__MotorsHeli__Single.html">AP_MotorsHeli_Single</a>, _direct_drive_tailspeed, <a class="code hl_define" href="AP__MotorsHeli__Single_8h.html#a8fee0b32975e66a249fc04c9ab591ff0">AP_MOTORS_HELI_SINGLE_DDVP_SPEED_DEFAULT</a>),</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <span class="comment">// @Param: GYR_GAIN_ACRO</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    <span class="comment">// @DisplayName: ACRO External Gyro Gain</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    <span class="comment">// @Description: PWM in microseconds sent to external gyro on an servo/output whose function is Motor7 when tail type is Servo w/ ExtGyro in mode ACRO instead of H_GYR_GAIN. A value of zero means to use H_GYR_GAIN</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    <span class="comment">// @Range: 0 1000</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <span class="comment">// @Units: PWM</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    <span class="comment">// @Increment: 1</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;GYR_GAIN_ACRO&quot;</span>, 11, <a class="code hl_class" href="classAP__MotorsHeli__Single.html">AP_MotorsHeli_Single</a>,  _ext_gyro_gain_acro, 0),</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span> </div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    <span class="comment">// Indices 16-19 were used by RSC_PWM_MIN, RSC_PWM_MAX, RSC_PWM_REV, and COL_CTRL_DIR and should not be used</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span> </div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>    <span class="comment">// @Param: SW_TYPE</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    <span class="comment">// @DisplayName: Swashplate Type</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    <span class="comment">// @Description: H3 is generic, three-servo only. H3_120/H3_140 plates have Motor1 left side, Motor2 right side, Motor3 elevator in rear. HR3_120/HR3_140 have Motor1 right side, Motor2 left side, Motor3 elevator in front - use H3_120/H3_140 and reverse servo and collective directions as necessary. For all H3_90 swashplates use H4_90 and don&#39;t use servo output for the missing servo. For H4-90 Motors1&amp;2 are left/right respectively, Motors3&amp;4 are rear/front respectively. For H4-45 Motors1&amp;2 are LF/RF, Motors3&amp;4 are LR/RR </span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    <span class="comment">// @Values: 0:H3 Generic,1:H1 non-CPPM,2:H3_140,3:H3_120,4:H4_90,5:H4_45</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    <span class="comment">// @Param: SW_COL_DIR</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    <span class="comment">// @DisplayName: Collective Direction</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    <span class="comment">// @Description: Direction collective moves for positive pitch. 0 for Normal, 1 for Reversed</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    <span class="comment">// @Values: 0:Normal,1:Reversed</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span> </div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>    <span class="comment">// @Param: SW_LIN_SVO</span></div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    <span class="comment">// @DisplayName: Linearize Swash Servos</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    <span class="comment">// @Description: This linearizes the swashplate servo&#39;s mechanical output to account for nonlinear output due to arm rotation.  This requires a specific setup procedure to work properly.  The servo arm must be centered on the mechanical throw at the servo trim position and the servo trim position kept as close to 1500 as possible. Leveling the swashplate can only be done through the pitch links.  See the ardupilot wiki for more details on setup.</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>    <span class="comment">// @Values: 0:Disabled,1:Enabled</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span> </div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    <span class="comment">// @Param: SW_H3_ENABLE</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    <span class="comment">// @DisplayName: H3 Generic Enable</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="comment">// @Description: Automatically set when H3 generic swash type is selected for swashplate. Do not set manually.</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    <span class="comment">// @Values: 0:Disabled,1:Enabled</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span> </div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <span class="comment">// @Param: SW_H3_SV1_POS</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <span class="comment">// @DisplayName: H3 Generic Servo 1 Position</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    <span class="comment">// @Description: Azimuth position on swashplate for servo 1 with the front of the heli being 0 deg</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <span class="comment">// @Range: -180 180</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    <span class="comment">// @Units: deg</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span> </div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    <span class="comment">// @Param: SW_H3_SV2_POS</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <span class="comment">// @DisplayName: H3 Generic Servo 2 Position</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <span class="comment">// @Description: Azimuth position on swashplate for servo 2 with the front of the heli being 0 deg</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    <span class="comment">// @Range: -180 180</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <span class="comment">// @Units: deg</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span> </div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    <span class="comment">// @Param: SW_H3_SV3_POS</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="comment">// @DisplayName: H3 Generic Servo 3 Position</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    <span class="comment">// @Description: Azimuth position on swashplate for servo 3 with the front of the heli being 0 deg</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    <span class="comment">// @Range: -180 180</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <span class="comment">// @Units: deg</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span> </div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    <span class="comment">// @Param: SW_H3_PHANG</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    <span class="comment">// @DisplayName: H3 Generic Phase Angle Comp</span></div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="comment">// @Description: Only for H3 swashplate.  If pitching the swash forward induces a roll, this can be correct the problem</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="comment">// @Range: -30 30</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <span class="comment">// @Units: deg</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <span class="comment">// @Increment: 1</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <a class="code hl_define" href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a>(_swashplate, <span class="stringliteral">&quot;SW_&quot;</span>, 20, <a class="code hl_class" href="classAP__MotorsHeli__Single.html">AP_MotorsHeli_Single</a>, <a class="code hl_class" href="classAP__MotorsHeli__Swash.html">AP_MotorsHeli_Swash</a>),</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span> </div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <span class="comment">// @Param: COL2YAW</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="comment">// @DisplayName: Collective-Yaw Mixing</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="comment">// @Description: Feed-forward compensation to automatically add rudder input when collective pitch is increased. Can be positive or negative depending on mechanics.</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="comment">// @Range: -2 2</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;COL2YAW&quot;</span>, 21,  <a class="code hl_class" href="classAP__MotorsHeli__Single.html">AP_MotorsHeli_Single</a>, _collective_yaw_scale, 0),</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span> </div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <span class="comment">// @Param: DDFP_THST_EXPO</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    <span class="comment">// @DisplayName: DDFP Tail Rotor Thrust Curve Expo</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <span class="comment">// @Description: Tail rotor DDFP motor thrust curve exponent (0.0 for linear to 1.0 for second order curve)</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <span class="comment">// @Range: -1 1</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span> </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <span class="comment">// @Param: DDFP_SPIN_MIN</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <span class="comment">// @DisplayName: DDFP Tail Rotor Motor Spin minimum</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="comment">// @Description: Point at which the thrust starts expressed as a number from 0 to 1 in the entire output range.</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    <span class="comment">// @Values: 0.0:Low, 0.15:Default, 0.3:High</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span> </div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    <span class="comment">// @Param: DDFP_SPIN_MAX</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    <span class="comment">// @DisplayName: DDFP Tail Rotor Motor Spin maximum</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    <span class="comment">// @Description: Point at which the thrust saturates expressed as a number from 0 to 1 in the entire output range</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    <span class="comment">// @Values: 0.9:Low, 0.95:Default, 1.0:High</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span> </div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <span class="comment">// @Param: DDFP_BAT_IDX</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    <span class="comment">// @DisplayName: DDFP Tail Rotor Battery compensation index</span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <span class="comment">// @Description: Which battery monitor should be used for doing compensation</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <span class="comment">// @Values: 0:First battery, 1:Second battery</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span> </div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <span class="comment">// @Param: DDFP_BAT_V_MAX</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    <span class="comment">// @DisplayName: Battery voltage compensation maximum voltage</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    <span class="comment">// @Description: Battery voltage compensation maximum voltage (voltage above this will have no additional scaling effect on thrust).  Recommend 4.2 * cell count, 0 = Disabled</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="comment">// @Range: 6 53</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <span class="comment">// @Units: V</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span> </div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    <span class="comment">// @Param: DDFP_BAT_V_MIN</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <span class="comment">// @DisplayName: Battery voltage compensation minimum voltage</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <span class="comment">// @Description: Battery voltage compensation minimum voltage (voltage below this will have no additional scaling effect on thrust).  Recommend 3.3 * cell count, 0 = Disabled</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <span class="comment">// @Range: 6 42</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="comment">// @Units: V</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    <a class="code hl_define" href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a>(thr_lin, <span class="stringliteral">&quot;DDFP_&quot;</span>, 22, <a class="code hl_class" href="classAP__MotorsHeli__Single.html">AP_MotorsHeli_Single</a>, <a class="code hl_class" href="classThrust__Linearization.html">Thrust_Linearization</a>),</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span> </div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    <span class="comment">// @Param: YAW_TRIM</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <span class="comment">// @DisplayName: Tail Rotor Trim</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <span class="comment">// @Description: Fixed offset applied to yaw output to minimize yaw I-term contribution needed to counter rotor drag. Currently only works of DDFP tails (H_TAIL_TYPE = 3 or H_TAIL_TYPE = 4). If using the H_COL2YAW compensation this trim is used to compensate for the main rotor profile drag. If H_COL2YAW is not used, this value can be set to reduce the yaw I contribution to zero when in a steady hover.</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <span class="comment">// @Range: 0 1</span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;YAW_TRIM&quot;</span>, 23,  <a class="code hl_class" href="classAP__MotorsHeli__Single.html">AP_MotorsHeli_Single</a>, _yaw_trim, 0.0f),</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span> </div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <a class="code hl_define" href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>};</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span> </div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno"><a class="line" href="AP__MotorsHeli__Single_8cpp.html#aa5d7c41407f1e7ae35faab73004e4ad5">  189</a></span><span class="preprocessor">#define YAW_SERVO_MAX_ANGLE 4500</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span> </div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span><span class="comment">// set update rate to motors - a value in hertz</span></div>
<div class="foldopen" id="foldopen00192" data-start="{" data-end="}">
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Single.html#a54ccb51f6ac963c50ba729ec458c356d">  192</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Single.html#a54ccb51f6ac963c50ba729ec458c356d">AP_MotorsHeli_Single::set_update_rate</a>( uint16_t speed_hz )</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>{</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <span class="comment">// record requested speed</span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <a class="code hl_variable" href="classAP__Motors.html#a54a436586a970d55788b909fc69d7a0c">_speed_hz</a> = speed_hz;</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span> </div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <span class="comment">// setup fast channels</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    uint32_t mask = (1U &lt;&lt; <a class="code hl_define" href="AP__Motors__Class_8h.html#abcf98ec585e2206c7b1a89c89827ef7e">AP_MOTORS_MOT_4</a>) | <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a0ab48532d48443c19a692f4f4353bdde">_swashplate</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#a6f669cda1b14e12302b1b3ebf7cdc5ab">get_output_mask</a>();</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span> </div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <a class="code hl_function" href="classAP__Motors.html#a3d84a895c644d34e7fe78d7301ccf534">rc_set_freq</a>(mask, <a class="code hl_variable" href="classAP__Motors.html#a54a436586a970d55788b909fc69d7a0c">_speed_hz</a>);</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>}</div>
</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span> </div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span><span class="comment">// init_outputs - initialise Servo/PWM ranges and endpoints</span></div>
<div class="foldopen" id="foldopen00204" data-start="{" data-end="}">
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Single.html#a56c0ecfa4da1c04ba4d1a256bd56f193">  204</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Single.html#a56c0ecfa4da1c04ba4d1a256bd56f193">AP_MotorsHeli_Single::init_outputs</a>()</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>{</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Motors.html#a1d624c6828c0843a8475a122d47afaac">initialised_ok</a>()) {</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>        <span class="comment">// yaw servo</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>        <a class="code hl_function" href="classAP__Motors.html#ad0a73edfaa0d7b5c4f325a823c7781f4">add_motor_num</a>(<a class="code hl_define" href="AP__HAL_2RCOutput_8h.html#a4352dfb5bb425f7ff9a71a3f9ab4c65d">CH_4</a>);</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>        <span class="comment">// initialize main rotor servo</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#aeb6143de2bc88e0540acd68349f61c73">init_servo</a>();</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span> </div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>        <span class="keywordflow">switch</span> (<a class="code hl_function" href="classAP__MotorsHeli__Single.html#a608f96b9882d01ce9434d51f94d2381e">get_tail_type</a>()) {</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367a9e80f61b1ddeb4128c296a0a614dd89b">TAIL_TYPE::DIRECTDRIVE_FIXEDPITCH_CW</a>:</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367a00b6adc21f69ab6a79bad2fdb3f4a904">TAIL_TYPE::DIRECTDRIVE_FIXEDPITCH_CCW</a>:</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>                <span class="comment">// DDFP tails use range as it is easier to ignore servo trim in making for simple implementation of thrust linearisation.</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>                <a class="code hl_function" href="classSRV__Channels.html#adba039e2df3bb2c744f8b8590581827f">SRV_Channels::set_range</a>(<a class="code hl_enumvalue" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a323602c02b20f75a236c749e83dcb3c3">SRV_Channel::k_motor4</a>, 1.0f);</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span> </div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367a2eaa96c8c3197ce61a8088398d8b92fb">TAIL_TYPE::DIRECTDRIVE_VARPITCH</a>:</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367a58d9d276f60bf8322724f345bdccb61b">TAIL_TYPE::DIRECTDRIVE_VARPIT_EXT_GOV</a>:</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>                <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#aeb6143de2bc88e0540acd68349f61c73">init_servo</a>();</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span> </div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367adf62657018d378d29d7e32b6db489966">TAIL_TYPE::SERVO_EXTGYRO</a>:</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>                <span class="comment">// external gyro output</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>                <a class="code hl_function" href="classAP__Motors.html#ad0a73edfaa0d7b5c4f325a823c7781f4">add_motor_num</a>(<a class="code hl_define" href="AP__MotorsHeli__Single_8h.html#a108799af97f979cdda8be13a2c628f9d">AP_MOTORS_HELI_SINGLE_EXTGYRO</a>);</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span> </div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span> </div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>                <span class="comment">// External Gyro uses PWM output thus servo endpoints are forced</span></div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>                <a class="code hl_function" href="classSRV__Channels.html#aa2626631db73931bb32210314aed1c65">SRV_Channels::set_output_min_max</a>(<a class="code hl_function" href="classSRV__Channels.html#acab9e1aba9fcbde6e598169af5b3181f">SRV_Channels::get_motor_function</a>(<a class="code hl_define" href="AP__MotorsHeli__Single_8h.html#a108799af97f979cdda8be13a2c628f9d">AP_MOTORS_HELI_SINGLE_EXTGYRO</a>), 1000, 2000);</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>                <a class="code hl_define" href="AP__Common_8h.html#a0cf2d82c57a09723ab59e6f4dcc45b84">FALLTHROUGH</a>;</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span> </div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367a3ccb65e7a10663f62f8d1b762a958a79">TAIL_TYPE::SERVO</a>:</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>                <span class="comment">// yaw servo is an angle from -4500 to 4500</span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>                <a class="code hl_function" href="classSRV__Channels.html#a7522c0412b2174273d656caec3c55317">SRV_Channels::set_angle</a>(<a class="code hl_enumvalue" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a323602c02b20f75a236c749e83dcb3c3">SRV_Channel::k_motor4</a>, <a class="code hl_define" href="AP__MotorsHeli__Single_8cpp.html#aa5d7c41407f1e7ae35faab73004e4ad5">YAW_SERVO_MAX_ANGLE</a>);</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>        }</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    }</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span> </div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    <a class="code hl_function" href="classAP__Motors.html#aa6dd949317fd0d3e44e10b00a4cdece5">set_initialised_ok</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a6b1ea5d5d974ee9796086b26815d0b1a">_frame_class</a> == <a class="code hl_enumvalue" href="classAP__Motors.html#a67c3d8b0e216ff11e444992571fa10c3a7191c8771005a12bbda261b3aecc51e5">MOTOR_FRAME_HELI</a>);</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>}</div>
</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span> </div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span><span class="comment">// set_desired_rotor_speed</span></div>
<div class="foldopen" id="foldopen00246" data-start="{" data-end="}">
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Single.html#a81752454d1d370eb6d85a7e02e1addf1">  246</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Single.html#a81752454d1d370eb6d85a7e02e1addf1">AP_MotorsHeli_Single::set_desired_rotor_speed</a>(<span class="keywordtype">float</span> desired_speed)</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>{</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#ad42108be3ceab3461850ec4ad4b5519d">set_desired_speed</a>(desired_speed);</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span> </div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    <span class="comment">// always send desired speed to tail rotor control, will do nothing if not DDVP not enabled</span></div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>    <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#ad42108be3ceab3461850ec4ad4b5519d">set_desired_speed</a>(<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#acc1d9dc3f4f3d69fccdf09c0d5582068">_direct_drive_tailspeed</a>*0.01f);</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>}</div>
</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span> </div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span><span class="comment">// calculate_scalars - recalculates various scalers used.</span></div>
<div class="foldopen" id="foldopen00255" data-start="{" data-end="}">
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Single.html#a366dcf3bdb67ab852feca02fa1cc3055">  255</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Single.html#a366dcf3bdb67ab852feca02fa1cc3055">AP_MotorsHeli_Single::calculate_armed_scalars</a>()</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>{</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    <span class="comment">// Set rsc mode specific parameters</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a1b6672292d361239bf11433a6ee62a01">_rsc_mode</a>.get() == <a class="code hl_enumvalue" href="AP__MotorsHeli__RSC_8h.html#a36de13430db64e7068d0522f9dc24b96a7433b022b4d35a121548001f3ec5cf9e">ROTOR_CONTROL_MODE_THROTTLECURVE</a> || <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a1b6672292d361239bf11433a6ee62a01">_rsc_mode</a>.get() == <a class="code hl_enumvalue" href="AP__MotorsHeli__RSC_8h.html#a36de13430db64e7068d0522f9dc24b96a3aecae8a93464861924e151011a67619">ROTOR_CONTROL_MODE_AUTOTHROTTLE</a>) {</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a897f34035252d1ce89f564d38ab35dea">set_throttle_curve</a>();</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    }</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    <span class="comment">// keeps user from changing RSC mode while armed</span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a1b6672292d361239bf11433a6ee62a01">_rsc_mode</a>.get() != <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#aca3a4d81f1f2921be0099f1f240c60ea">get_control_mode</a>()) {</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a4434e7e3d56b0cf9e0d0901676b8a5a4">reset_rsc_mode_param</a>();</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a2c566a23e7650f17c9375ae2a5119059">save_rsc_mode</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    }</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    <span class="comment">// saves rsc mode parameter when disarmed if it had been reset while armed</span></div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a2c566a23e7650f17c9375ae2a5119059">save_rsc_mode</a> &amp;&amp; !<a class="code hl_function" href="classAP__Motors.html#a67a133570ae075a874c6522b23c5261b">armed</a>()) {</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a1b6672292d361239bf11433a6ee62a01">_rsc_mode</a>.save();</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a2c566a23e7650f17c9375ae2a5119059">save_rsc_mode</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    }</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span> </div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    <span class="comment">// allow use of external governor autorotation bailout</span></div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a9cd22561061579ae281aac2a92dc0042">in_autorotation</a>) {</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a9917c1b3cd96935708cdb8b6118da87a">set_autorotation_flag</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a9cd22561061579ae281aac2a92dc0042">in_autorotation</a>);</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>        <span class="comment">// set bailout ramp time</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#ad63386ff867bc4220f388a133d315ca7">use_bailout_ramp_time</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a2419f82e97d52acf5410c1fc654f8888">enable_bailout</a>);</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__MotorsHeli__Single.html#af9a0ba27f686748bac47e99effb32984">use_tail_RSC</a>()) {</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>            <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a9917c1b3cd96935708cdb8b6118da87a">set_autorotation_flag</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a9cd22561061579ae281aac2a92dc0042">in_autorotation</a>);</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>            <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#ad63386ff867bc4220f388a133d315ca7">use_bailout_ramp_time</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a2419f82e97d52acf5410c1fc654f8888">enable_bailout</a>);</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>        }</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a9917c1b3cd96935708cdb8b6118da87a">set_autorotation_flag</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__MotorsHeli__Single.html#af9a0ba27f686748bac47e99effb32984">use_tail_RSC</a>()) {</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>            <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a9917c1b3cd96935708cdb8b6118da87a">set_autorotation_flag</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>        }</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    }</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>}</div>
</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span> </div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span><span class="comment">// calculate_scalars - recalculates various scalers used.</span></div>
<div class="foldopen" id="foldopen00290" data-start="{" data-end="}">
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Single.html#a7b5237d9ac4b926d7d84e1e34b18ee4f">  290</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Single.html#a7b5237d9ac4b926d7d84e1e34b18ee4f">AP_MotorsHeli_Single::calculate_scalars</a>()</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>{</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    <span class="comment">// range check collective min, max and zero</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classAP__MotorsHeli.html#a6abf37ce818bf3317e80b69377a5a14a">_collective_min</a> &gt;= <a class="code hl_variable" href="classAP__MotorsHeli.html#a372ef59a8edcf950ff5ff4f1bcf13571">_collective_max</a> ) {</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a6abf37ce818bf3317e80b69377a5a14a">_collective_min</a>.set(<a class="code hl_define" href="AP__MotorsHeli_8h.html#aaa0a7ad796ec7b2416f3afa84534bea7">AP_MOTORS_HELI_COLLECTIVE_MIN</a>);</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a372ef59a8edcf950ff5ff4f1bcf13571">_collective_max</a>.set(<a class="code hl_define" href="AP__MotorsHeli_8h.html#a2d874d74f7f67ba067290f76a7455059">AP_MOTORS_HELI_COLLECTIVE_MAX</a>);</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    }</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span> </div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#a229f1fd270a23534043885bbc674aa3a">_collective_zero_thrust_deg</a>.set(<a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a229f1fd270a23534043885bbc674aa3a">_collective_zero_thrust_deg</a>, <a class="code hl_variable" href="classAP__MotorsHeli.html#a946467f33d7d0e01d7adffefafdebafa">_collective_min_deg</a>, <a class="code hl_variable" href="classAP__MotorsHeli.html#adcf40cee4254ffd6581de67ba17b6358">_collective_max_deg</a>));</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span> </div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#a3542b3ce4b6a87fe03a32d8278913ffa">_collective_land_min_deg</a>.set(<a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a3542b3ce4b6a87fe03a32d8278913ffa">_collective_land_min_deg</a>, <a class="code hl_variable" href="classAP__MotorsHeli.html#a946467f33d7d0e01d7adffefafdebafa">_collective_min_deg</a>, <a class="code hl_variable" href="classAP__MotorsHeli.html#adcf40cee4254ffd6581de67ba17b6358">_collective_max_deg</a>));</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span> </div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="AP__Math_8cpp.html#a74db690fa0d764d7e0900a9c97f629b2">is_equal</a>((<span class="keywordtype">float</span>)<a class="code hl_variable" href="classAP__MotorsHeli.html#adcf40cee4254ffd6581de67ba17b6358">_collective_max_deg</a>, (<span class="keywordtype">float</span>)<a class="code hl_variable" href="classAP__MotorsHeli.html#a946467f33d7d0e01d7adffefafdebafa">_collective_min_deg</a>)) {</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>        <span class="comment">// calculate collective zero thrust point as a number from 0 to 1</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#aaed6411adeface8fd4b0078a8c6f7445">_collective_zero_thrust_pct</a> = (<a class="code hl_variable" href="classAP__MotorsHeli.html#a229f1fd270a23534043885bbc674aa3a">_collective_zero_thrust_deg</a>-<a class="code hl_variable" href="classAP__MotorsHeli.html#a946467f33d7d0e01d7adffefafdebafa">_collective_min_deg</a>)/(<a class="code hl_variable" href="classAP__MotorsHeli.html#adcf40cee4254ffd6581de67ba17b6358">_collective_max_deg</a>-<a class="code hl_variable" href="classAP__MotorsHeli.html#a946467f33d7d0e01d7adffefafdebafa">_collective_min_deg</a>);</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span> </div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        <span class="comment">// calculate collective land min point as a number from 0 to 1</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#adb52106b2ca4bfbeee13d675c69891a9">_collective_land_min_pct</a> = (<a class="code hl_variable" href="classAP__MotorsHeli.html#a3542b3ce4b6a87fe03a32d8278913ffa">_collective_land_min_deg</a>-<a class="code hl_variable" href="classAP__MotorsHeli.html#a946467f33d7d0e01d7adffefafdebafa">_collective_min_deg</a>)/(<a class="code hl_variable" href="classAP__MotorsHeli.html#adcf40cee4254ffd6581de67ba17b6358">_collective_max_deg</a>-<a class="code hl_variable" href="classAP__MotorsHeli.html#a946467f33d7d0e01d7adffefafdebafa">_collective_min_deg</a>);</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#aaed6411adeface8fd4b0078a8c6f7445">_collective_zero_thrust_pct</a> = 0.0f;</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#adb52106b2ca4bfbeee13d675c69891a9">_collective_land_min_pct</a> = 0.0f;</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>    }</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span> </div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>    <span class="comment">// configure swashplate and update scalars</span></div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a0ab48532d48443c19a692f4f4353bdde">_swashplate</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#a18b0de3c790a8985f7b3fd3b0b636c5c">configure</a>();</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span> </div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    <span class="comment">// send setpoints to main rotor controller and trigger recalculation of scalars</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#ace1311fec7bf1c155d5a50db0f6d2c53">set_control_mode</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="AP__MotorsHeli__RSC_8h.html#a36de13430db64e7068d0522f9dc24b96">RotorControlMode</a><span class="keyword">&gt;</span>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a1b6672292d361239bf11433a6ee62a01">_rsc_mode</a>.get()));</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>    <a class="code hl_function" href="classAP__MotorsHeli__Single.html#a366dcf3bdb67ab852feca02fa1cc3055">calculate_armed_scalars</a>();</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span> </div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    <span class="comment">// send setpoints to DDVP rotor controller and trigger recalculation of scalars</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__MotorsHeli__Single.html#af9a0ba27f686748bac47e99effb32984">use_tail_RSC</a>()) {</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#ace1311fec7bf1c155d5a50db0f6d2c53">set_control_mode</a>(<a class="code hl_enumvalue" href="AP__MotorsHeli__RSC_8h.html#a36de13430db64e7068d0522f9dc24b96ab4d215852d45fa88aa8a4d674f828a81">ROTOR_CONTROL_MODE_SETPOINT</a>);</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#aebdd1e8a17dde4d2bab170c8ebd8532c">set_ramp_time</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a99ac103562c8bc8e4ad793cc57a22a5e">_ramp_time</a>.get());</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#aa5d4bbc71b96eeeff793eb3b2ccf60b9">set_runup_time</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#af5ad3a88652248723b4431d2c9dee51f">_runup_time</a>.get());</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a7505e3e3e250559ba06a2742186743c2">set_critical_speed</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a51825fd057a3e4b2e51b8d9661c09463">_critical_speed</a>.get());</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a756586a634a184a31e13645b8fcc6c43">set_idle_output</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a3522e7aa2b53aec2846e7531408e5ebe">_idle_output</a>.get());</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a207d07515a912ae43f64092c0a54c1c3">set_arot_idle_output</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#ae0395f872657dd9b8b45955e890bbb35">_arot_idle_output</a>.get());</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#ad2f5744fd6521b92c529f4b8ec9520a6">set_rsc_arot_man_enable</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a2b44b6c62c0bc4a773b34bea5fab975d">_rsc_arot_man_enable</a>.get());</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a230d8dbd1206818f7157b9aa66f2459e">set_rsc_arot_engage_time</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a14305475afe062865e7f768809a65bd1">_rsc_arot_engage_time</a>.get());</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#ace1311fec7bf1c155d5a50db0f6d2c53">set_control_mode</a>(<a class="code hl_enumvalue" href="AP__MotorsHeli__RSC_8h.html#a36de13430db64e7068d0522f9dc24b96a8ac5d4e5f2ced1033f42e77703c03d82">ROTOR_CONTROL_MODE_DISABLED</a>);</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#aebdd1e8a17dde4d2bab170c8ebd8532c">set_ramp_time</a>(0);</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#aa5d4bbc71b96eeeff793eb3b2ccf60b9">set_runup_time</a>(0);</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a7505e3e3e250559ba06a2742186743c2">set_critical_speed</a>(0);</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a756586a634a184a31e13645b8fcc6c43">set_idle_output</a>(0);</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a207d07515a912ae43f64092c0a54c1c3">set_arot_idle_output</a>(0);</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#ad2f5744fd6521b92c529f4b8ec9520a6">set_rsc_arot_man_enable</a>(0);</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a230d8dbd1206818f7157b9aa66f2459e">set_rsc_arot_engage_time</a>(0);</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    }</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>}</div>
</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span> </div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span><span class="comment">// get_motor_mask - returns a bitmask of which outputs are being used for motors or servos (1 means being used)</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span><span class="comment">//  this can be used to ensure other pwm outputs (i.e. for servos) do not conflict</span></div>
<div class="foldopen" id="foldopen00344" data-start="{" data-end="}">
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Single.html#a3f8a792acb1ad4f02e933c4a6f6e617a">  344</a></span>uint32_t <a class="code hl_function" href="classAP__MotorsHeli__Single.html#a3f8a792acb1ad4f02e933c4a6f6e617a">AP_MotorsHeli_Single::get_motor_mask</a>()</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>{</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#ac295567cd6824fbf86be7e34ec8845c0">get_output_mask</a>() | <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#ac295567cd6824fbf86be7e34ec8845c0">get_output_mask</a>();</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>}</div>
</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span> </div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span><span class="comment">// update_motor_controls - sends commands to motor controllers</span></div>
<div class="foldopen" id="foldopen00350" data-start="{" data-end="}">
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Single.html#af5c6634509de0db54b391bb6a61c2767">  350</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Single.html#af5c6634509de0db54b391bb6a61c2767">AP_MotorsHeli_Single::update_motor_control</a>(<a class="code hl_enumeration" href="classAP__MotorsHeli__RSC.html#aedbcba02e003b6a77f71d6112723e28e">AP_MotorsHeli_RSC::RotorControlState</a> <a class="code hl_variable" href="AP__Scripting_2generator_2src_2main_8c.html#a8d04d02fe8bb190484bba202fee18f5c">state</a>)</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>{</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>    <span class="comment">// Send state update to motors</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>    <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#ab23a1aebfd83a9e76acf076a2f15841b">output</a>(<a class="code hl_variable" href="AP__Scripting_2generator_2src_2main_8c.html#a8d04d02fe8bb190484bba202fee18f5c">state</a>);</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#ab23a1aebfd83a9e76acf076a2f15841b">output</a>(<a class="code hl_variable" href="AP__Scripting_2generator_2src_2main_8c.html#a8d04d02fe8bb190484bba202fee18f5c">state</a>);</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span> </div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="AP__Scripting_2generator_2src_2main_8c.html#a8d04d02fe8bb190484bba202fee18f5c">state</a> == <a class="code hl_enumvalue" href="classAP__MotorsHeli__RSC.html#aedbcba02e003b6a77f71d6112723e28ea615a46af313786fc4e349f34118be111">AP_MotorsHeli_RSC::RotorControlState::STOP</a>){</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>        <span class="comment">// set engine run enable aux output to not run position to kill engine when disarmed</span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>        <a class="code hl_function" href="classSRV__Channels.html#aff9ab18c996b319de867b4e87b75d4e5">SRV_Channels::set_output_limit</a>(<a class="code hl_enumvalue" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a9092e3ef14fd05ed3913977030258cda">SRV_Channel::k_engine_run_enable</a>, <a class="code hl_enumvalue" href="classSRV__Channel.html#a86fdf4fa1eaa8f844eccb555359aa129ace31e2a082d17e038fcc6e3006166653">SRV_Channel::Limit::MIN</a>);</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>        <span class="comment">// else if armed, set engine run enable output to run position</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>        <a class="code hl_function" href="classSRV__Channels.html#aff9ab18c996b319de867b4e87b75d4e5">SRV_Channels::set_output_limit</a>(<a class="code hl_enumvalue" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a9092e3ef14fd05ed3913977030258cda">SRV_Channel::k_engine_run_enable</a>, <a class="code hl_enumvalue" href="classSRV__Channel.html#a86fdf4fa1eaa8f844eccb555359aa129a26a4b44a837bf97b972628509912b4a5">SRV_Channel::Limit::MAX</a>);</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    }</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span> </div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    <span class="comment">// Check if both rotors are run-up, tail rotor controller always returns true if not enabled</span></div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a99ea09bf2b220cb66752a5e0d89c9ef2">rotor_runup_complete</a> = ( <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a44ac49dc9bd2beb3528ba6aedc608c49">is_runup_complete</a>() &amp;&amp; <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">_tail_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a44ac49dc9bd2beb3528ba6aedc608c49">is_runup_complete</a>() );</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span> </div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    <span class="comment">// Check if both rotors are spooled down, tail rotor controller always returns true if not enabled</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a0c30ba83758973bae63a9b0f515b995b">rotor_spooldown_complete</a> = ( <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a44b88d267e3ab3efb45910761808a083">is_spooldown_complete</a>() );</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>}</div>
</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span> </div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span><span class="comment">//</span></div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span><span class="comment">// move_actuators - moves swash plate and tail rotor</span></div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span><span class="comment">//                 - expected ranges:</span></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span><span class="comment">//                       roll : -1 ~ +1</span></div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span><span class="comment">//                       pitch: -1 ~ +1</span></div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span><span class="comment">//                       collective: 0 ~ 1</span></div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span><span class="comment">//                       yaw:   -1 ~ +1</span></div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span><span class="comment">//</span></div>
<div class="foldopen" id="foldopen00379" data-start="{" data-end="}">
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Single.html#a7be196cb13761dc47480224bc1b51115">  379</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Single.html#a7be196cb13761dc47480224bc1b51115">AP_MotorsHeli_Single::move_actuators</a>(<span class="keywordtype">float</span> roll_out, <span class="keywordtype">float</span> pitch_out, <span class="keywordtype">float</span> coll_in, <span class="keywordtype">float</span> yaw_out)</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>{</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    <span class="comment">// initialize limits flag</span></div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#afd0229f4c5b9f51c174b3581dea3f51c">throttle_lower</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#ac52a828197746fda049c092888a10c40">throttle_upper</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span> </div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <span class="comment">// rescale roll_out and pitch_out into the min and max ranges to provide linear motion</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    <span class="comment">// across the input range instead of stopping when the input hits the constrain value</span></div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    <span class="comment">// these calculations are based on an assumption of the user specified cyclic_max</span></div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>    <span class="comment">// coming into this equation at 4500 or less</span></div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    <span class="keywordtype">float</span> total_out = <a class="code hl_function" href="AP__Math_8h.html#a3bc9391295c1f7aaa8fb95ee897f639a">norm</a>(pitch_out, roll_out);</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span> </div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    <span class="keywordflow">if</span> (total_out &gt; (<a class="code hl_variable" href="classAP__MotorsHeli.html#ad9d651d8d68486a820d62950ebc5164f">_cyclic_max</a>/4500.0f)) {</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>        <span class="keywordtype">float</span> ratio = (float)(<a class="code hl_variable" href="classAP__MotorsHeli.html#ad9d651d8d68486a820d62950ebc5164f">_cyclic_max</a>/4500.0f) / total_out;</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>        roll_out *= ratio;</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>        pitch_out *= ratio;</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>        <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#aab5d837b1dba97ce081478af57f63ce2">roll</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>        <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#aa97af39fbb03d91e8eb0b566beadd4fe">pitch</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    }</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span> </div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    <span class="comment">// constrain collective input</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    <span class="keywordtype">float</span> collective_out = coll_in;</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    <span class="keywordflow">if</span> (collective_out &lt;= 0.0f) {</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>        collective_out = 0.0f;</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>        <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#afd0229f4c5b9f51c174b3581dea3f51c">throttle_lower</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    }</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>    <span class="keywordflow">if</span> (collective_out &gt;= 1.0f) {</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>        collective_out = 1.0f;</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>        <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#ac52a828197746fda049c092888a10c40">throttle_upper</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>    }</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span> </div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>    <span class="comment">// ensure not below landed/landing collective</span></div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a76a09fed86331cc44469ad0d90e8867a">landing_collective</a> &amp;&amp; collective_out &lt; <a class="code hl_variable" href="classAP__MotorsHeli.html#adb52106b2ca4bfbeee13d675c69891a9">_collective_land_min_pct</a> &amp;&amp; !<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a9cd22561061579ae281aac2a92dc0042">in_autorotation</a>) {</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>        collective_out = <a class="code hl_variable" href="classAP__MotorsHeli.html#adb52106b2ca4bfbeee13d675c69891a9">_collective_land_min_pct</a>;</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>        <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#afd0229f4c5b9f51c174b3581dea3f51c">throttle_lower</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span> </div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>    }</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span> </div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>    <span class="comment">// updates below land min collective flag</span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>    <span class="keywordflow">if</span> (collective_out &lt;= <a class="code hl_variable" href="classAP__MotorsHeli.html#adb52106b2ca4bfbeee13d675c69891a9">_collective_land_min_pct</a>) {</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a5edc094fa547a133e48b52ccae013b3e">below_land_min_coll</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a5edc094fa547a133e48b52ccae013b3e">below_land_min_coll</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>    }</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span> </div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>    <span class="comment">// updates takeoff collective flag based on 50% hover collective</span></div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>    <a class="code hl_function" href="classAP__MotorsHeli.html#a57451b83ffd98c2ec06dbc92610f5ade">update_takeoff_collective_flag</a>(collective_out);</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span> </div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>    <span class="comment">// Get yaw offset required to cancel out steady state main rotor torque</span></div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> yaw_offset = <a class="code hl_function" href="classAP__MotorsHeli__Single.html#aa648ab72947bd7b6a569a0b1b4cc9faa">get_yaw_offset</a>(collective_out);</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span> </div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>    <span class="comment">// feed power estimate into main rotor controller</span></div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>    <span class="comment">// ToDo: include tail rotor power?</span></div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>    <span class="comment">// ToDo: add main rotor cyclic power?</span></div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#ad4321593bc1f5d440790d10e71048c46">set_collective</a>(fabsf(collective_out));</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span> </div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    <span class="comment">// scale collective pitch for swashplate servos</span></div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    <span class="keywordtype">float</span> collective_scalar = ((float)(<a class="code hl_variable" href="classAP__MotorsHeli.html#a372ef59a8edcf950ff5ff4f1bcf13571">_collective_max</a>-<a class="code hl_variable" href="classAP__MotorsHeli.html#a6abf37ce818bf3317e80b69377a5a14a">_collective_min</a>))*0.001f;</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>    <span class="keywordtype">float</span> collective_out_scaled = collective_out * collective_scalar + (<a class="code hl_variable" href="classAP__MotorsHeli.html#a6abf37ce818bf3317e80b69377a5a14a">_collective_min</a> - 1000)*0.001f;</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span> </div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>    <span class="comment">// Caculate servo positions from swashplate library</span></div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>    <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a0ab48532d48443c19a692f4f4353bdde">_swashplate</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#a22b946d1f0acd118c59bd2f0e8f7d824">calculate</a>(roll_out, pitch_out, collective_out_scaled);</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span> </div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>    <span class="comment">// update the yaw rate using the tail rotor/servo</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>    <a class="code hl_function" href="classAP__MotorsHeli__Single.html#aee95052c1595896c05db5b1617e504d0">move_yaw</a>(yaw_out + yaw_offset);</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>}</div>
</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span> </div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span><span class="comment">// move_yaw</span></div>
<div class="foldopen" id="foldopen00447" data-start="{" data-end="}">
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Single.html#aee95052c1595896c05db5b1617e504d0">  447</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Single.html#aee95052c1595896c05db5b1617e504d0">AP_MotorsHeli_Single::move_yaw</a>(<span class="keywordtype">float</span> yaw_out)</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>{</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>    <span class="comment">// sanity check yaw_out</span></div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>    <span class="keywordflow">if</span> (yaw_out &lt; -1.0f) {</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>        yaw_out = -1.0f;</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>        <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#a44fcc5cc1c9a35b07f6a1add36edbac6">yaw</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>    }</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>    <span class="keywordflow">if</span> (yaw_out &gt; 1.0f) {</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>        yaw_out = 1.0f;</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>        <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#a44fcc5cc1c9a35b07f6a1add36edbac6">yaw</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>    }</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span> </div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>    <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#aa3f546b8f2086997545fd18d9f43080d">_servo4_out</a> = yaw_out;</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>}</div>
</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span> </div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span><span class="comment">// Get yaw offset required to cancel out steady state main rotor torque</span></div>
<div class="foldopen" id="foldopen00463" data-start="{" data-end="}">
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Single.html#aa648ab72947bd7b6a569a0b1b4cc9faa">  463</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAP__MotorsHeli__Single.html#aa648ab72947bd7b6a569a0b1b4cc9faa">AP_MotorsHeli_Single::get_yaw_offset</a>(<span class="keywordtype">float</span> collective)</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>{</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>    <span class="keywordflow">if</span> ((<a class="code hl_function" href="classAP__MotorsHeli__Single.html#a608f96b9882d01ce9434d51f94d2381e">get_tail_type</a>() == <a class="code hl_enumvalue" href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367adf62657018d378d29d7e32b6db489966">TAIL_TYPE::SERVO_EXTGYRO</a>) || (<a class="code hl_variable" href="classAP__MotorsHeli.html#aafd84af3b1560f7b86bd2b68344c615c">_servo_mode</a> != <a class="code hl_enumvalue" href="classAP__MotorsHeli.html#a925cc56a1a581f42507ac39218e26632a9a0cd8b8b01a7a8369c12df193d8f4e2">SERVO_CONTROL_MODE_AUTOMATED</a>)) {</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>        <span class="comment">// Not in direct control of tail with external gyro or manual servo mode</span></div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>    }</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span> </div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a9cd22561061579ae281aac2a92dc0042">in_autorotation</a> || (<a class="code hl_function" href="classAP__MotorsHeli.html#a0611e84b3e62261e3381289f7b4e280c">get_control_output</a>() &lt;= <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a9380697f739256f1bc6b32ed61f98322">get_idle_output</a>())) {</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>        <span class="comment">// Motor is stopped or at idle, and thus not creating torque</span></div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    }</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span> </div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>    <span class="comment">// sanity check collective_yaw_scale</span></div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>    <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a3874f81ec3f5b69453c7600af165cd76">_collective_yaw_scale</a>.set(<a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a3874f81ec3f5b69453c7600af165cd76">_collective_yaw_scale</a>, -<a class="code hl_define" href="AP__MotorsHeli__Single_8h.html#ae7d409ea6dc4ce3014274592c06d356b">AP_MOTORS_HELI_SINGLE_COLYAW_RANGE</a>, <a class="code hl_define" href="AP__MotorsHeli__Single_8h.html#ae7d409ea6dc4ce3014274592c06d356b">AP_MOTORS_HELI_SINGLE_COLYAW_RANGE</a>));</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span> </div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>    <span class="comment">// This feedforward compensation follows the hover performance theory that hover power required</span></div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>    <span class="comment">// is a function of gross weight to the 3/2 power</span></div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>    <span class="keywordtype">float</span> yaw_offset = <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a3874f81ec3f5b69453c7600af165cd76">_collective_yaw_scale</a> * powf(fabsf(collective - <a class="code hl_variable" href="classAP__MotorsHeli.html#aaed6411adeface8fd4b0078a8c6f7445">_collective_zero_thrust_pct</a>),1.5f);</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span> </div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>    <span class="comment">// Add yaw trim for DDFP tails</span></div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__MotorsHeli__Single.html#a00496c8283d5f6dc9b226d51c9b2f7a2">have_DDFP_tail</a>()) {</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>        yaw_offset += <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a79cbd10df7946cfa60bc2050c1552623">_yaw_trim</a>.get();</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>    }</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span> </div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>    <span class="keywordflow">return</span> yaw_offset;</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>}</div>
</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span> </div>
<div class="foldopen" id="foldopen00490" data-start="{" data-end="}">
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Single.html#abe1905fd5d97f5ef2fb16410766bbc90">  490</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Single.html#abe1905fd5d97f5ef2fb16410766bbc90">AP_MotorsHeli_Single::output_to_motors</a>()</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>{</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Motors.html#a1d624c6828c0843a8475a122d47afaac">initialised_ok</a>()) {</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>    }</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span> </div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>    <span class="comment">// Write swashplate outputs</span></div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>    <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a0ab48532d48443c19a692f4f4353bdde">_swashplate</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#a3fe8a3c35a811bcb99609e769c8f7e4f">output</a>();</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span> </div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>    <span class="comment">// Output main rotor</span></div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>    <a class="code hl_function" href="classAP__MotorsHeli__Single.html#af5c6634509de0db54b391bb6a61c2767">update_motor_control</a>(<a class="code hl_function" href="classAP__MotorsHeli.html#ab63a34a6f966cabf867ca1f6ce49a5e1">get_rotor_control_state</a>());</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span> </div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>    <span class="comment">// Output tail rotor</span></div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>    <span class="keywordflow">switch</span> (<a class="code hl_function" href="classAP__MotorsHeli__Single.html#a608f96b9882d01ce9434d51f94d2381e">get_tail_type</a>()) {</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367a00b6adc21f69ab6a79bad2fdb3f4a904">TAIL_TYPE::DIRECTDRIVE_FIXEDPITCH_CCW</a>:</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>            <span class="comment">// Invert output for CCW tail</span></div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>            <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#aa3f546b8f2086997545fd18d9f43080d">_servo4_out</a> *= -1.0;</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>            <a class="code hl_define" href="AP__Common_8h.html#a0cf2d82c57a09723ab59e6f4dcc45b84">FALLTHROUGH</a>;</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span> </div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367a9e80f61b1ddeb4128c296a0a614dd89b">TAIL_TYPE::DIRECTDRIVE_FIXEDPITCH_CW</a>: {</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>            <span class="comment">// calc filtered battery voltage and lift_max</span></div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>            <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a8c14b07a7414e1d5415f7b0084610dd6">thr_lin</a>.<a class="code hl_function" href="classThrust__Linearization.html#ad7de350d2606aa173c9a74f9c6cd4f59">update_lift_max_from_batt_voltage</a>();</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span> </div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>            <span class="comment">// Only throttle up if in active spool state</span></div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>            <span class="keywordflow">switch</span> (<a class="code hl_variable" href="classAP__Motors.html#aeb6348556f3e0f7ba016c8acaa0e4adc">_spool_state</a>) {</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a7e129e38b98ca1e41fa3861938d6c0e2">AP_Motors::SpoolState::SHUT_DOWN</a>:</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11adcf419d8df609385bfcde58697857178">AP_Motors::SpoolState::GROUND_IDLE</a>:</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a40badbb2bca8336d5c737768cc0db265">AP_Motors::SpoolState::SPOOLING_DOWN</a>:</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>                    <span class="comment">// Set DDFP to servo min</span></div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>                    <a class="code hl_function" href="classAP__MotorsHeli__Single.html#ae61aa061b76aab9a7cb5ecd1baf263f9">output_to_ddfp_tail</a>(0.0);</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span> </div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a6113eb55b67576efc0e9d9d323778a9c">AP_Motors::SpoolState::SPOOLING_UP</a>:</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11aa70e75e89c86a67aea72b59d4f6fcedb">AP_Motors::SpoolState::THROTTLE_UNLIMITED</a>:</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>                    <span class="comment">// Operate DDFP to between DDFP_SPIN_MIN and DDFP_SPIN_MAX using thrust linearisation</span></div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>                    <a class="code hl_function" href="classAP__MotorsHeli__Single.html#ae61aa061b76aab9a7cb5ecd1baf263f9">output_to_ddfp_tail</a>(<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a8c14b07a7414e1d5415f7b0084610dd6">thr_lin</a>.<a class="code hl_function" href="classThrust__Linearization.html#a2bde89cc6e42e5135f0ad0d459ea32cf">thrust_to_actuator</a>(<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#aa3f546b8f2086997545fd18d9f43080d">_servo4_out</a>));</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>            }</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>        }</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span> </div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367adf62657018d378d29d7e32b6db489966">TAIL_TYPE::SERVO_EXTGYRO</a>:</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>            <span class="comment">// output gain to external gyro</span></div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a0d743ffbc25426c417c7dcc572f9539a">_acro_tail</a> &amp;&amp; <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#afaff7f9367e882a5d359cb0d111a73b0">_ext_gyro_gain_acro</a> &gt; 0) {</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>                <a class="code hl_function" href="classAP__Motors.html#aaa7607c19a1ce444330aee972dd925ef">rc_write</a>(<a class="code hl_define" href="AP__MotorsHeli__Single_8h.html#a108799af97f979cdda8be13a2c628f9d">AP_MOTORS_HELI_SINGLE_EXTGYRO</a>, 1000 + <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#afaff7f9367e882a5d359cb0d111a73b0">_ext_gyro_gain_acro</a>);</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>                <a class="code hl_function" href="classAP__Motors.html#aaa7607c19a1ce444330aee972dd925ef">rc_write</a>(<a class="code hl_define" href="AP__MotorsHeli__Single_8h.html#a108799af97f979cdda8be13a2c628f9d">AP_MOTORS_HELI_SINGLE_EXTGYRO</a>, 1000 + <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#aa0439bbe5b11edd60e8f0be25faffd05">_ext_gyro_gain_std</a>);</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>            }</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>            <a class="code hl_define" href="AP__Common_8h.html#a0cf2d82c57a09723ab59e6f4dcc45b84">FALLTHROUGH</a>;</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span> </div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367a3ccb65e7a10663f62f8d1b762a958a79">TAIL_TYPE::SERVO</a>:</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367a2eaa96c8c3197ce61a8088398d8b92fb">TAIL_TYPE::DIRECTDRIVE_VARPITCH</a>:</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367a58d9d276f60bf8322724f345bdccb61b">TAIL_TYPE::DIRECTDRIVE_VARPIT_EXT_GOV</a>:</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>            <a class="code hl_function" href="classAP__Motors.html#a51384f220b671edba943b329dfa1bc7b">rc_write_angle</a>(<a class="code hl_define" href="AP__Motors__Class_8h.html#abcf98ec585e2206c7b1a89c89827ef7e">AP_MOTORS_MOT_4</a>, <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#aa3f546b8f2086997545fd18d9f43080d">_servo4_out</a> * <a class="code hl_define" href="AP__MotorsHeli__Single_8cpp.html#aa5d7c41407f1e7ae35faab73004e4ad5">YAW_SERVO_MAX_ANGLE</a>);</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>    }</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span> </div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>}</div>
</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span> </div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span><span class="comment">// handle output limit flags and send throttle to servos lib</span></div>
<div class="foldopen" id="foldopen00551" data-start="{" data-end="}">
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Single.html#ae61aa061b76aab9a7cb5ecd1baf263f9">  551</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Single.html#ae61aa061b76aab9a7cb5ecd1baf263f9">AP_MotorsHeli_Single::output_to_ddfp_tail</a>(<span class="keywordtype">float</span> throttle)</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>{</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>    <span class="comment">// Note: yaw trim thrust has already been applied. the output should only be from 0 to 1.</span></div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>    <span class="comment">// Upper limit</span></div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>    <span class="keywordflow">if</span> (throttle &gt;= 1.0){</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>        throttle = 1.0;</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>        <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#a44fcc5cc1c9a35b07f6a1add36edbac6">yaw</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>    }</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span> </div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>    <span class="comment">// Lower limit</span></div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>    <span class="keywordflow">if</span> (throttle &lt;= 0.0){</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>        throttle = 0.0;</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>        <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#a44fcc5cc1c9a35b07f6a1add36edbac6">yaw</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>    }</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span> </div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>    <a class="code hl_function" href="classSRV__Channels.html#a06cf1d6d4bd8b1971c333184bb4bcb55">SRV_Channels::set_output_scaled</a>(<a class="code hl_enumvalue" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a323602c02b20f75a236c749e83dcb3c3">SRV_Channel::k_motor4</a>, throttle);</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>}</div>
</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span> </div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span><span class="comment">// servo_test - move servos through full range of movement</span></div>
<div class="foldopen" id="foldopen00570" data-start="{" data-end="}">
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Single.html#afd0b9f02e2d915fb0a57097d0697386e">  570</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Single.html#afd0b9f02e2d915fb0a57097d0697386e">AP_MotorsHeli_Single::servo_test</a>()</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>{</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>    <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9bd1bc65f1d92842eb570b92bccfb312">_servo_test_cycle_time</a> += <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>;</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span> </div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9bd1bc65f1d92842eb570b92bccfb312">_servo_test_cycle_time</a> &gt;= 0.0f &amp;&amp; <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9bd1bc65f1d92842eb570b92bccfb312">_servo_test_cycle_time</a> &lt; 0.5f)||                                   <span class="comment">// Tilt swash back</span></div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>        (<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9bd1bc65f1d92842eb570b92bccfb312">_servo_test_cycle_time</a> &gt;= 6.0f &amp;&amp; <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9bd1bc65f1d92842eb570b92bccfb312">_servo_test_cycle_time</a> &lt; 6.5f)){</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9cc77b423bb6d6f10d6ab5bc48d73e12">_pitch_test</a> += 2.0 * <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>;</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#afbe96a32030743a832a110b57b4ed2b5">_oscillate_angle</a> += 8 * <a class="code hl_define" href="definitions_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> * <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>;</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#ad12b2c06c1df50d05379616846e78f39">_yaw_test</a> = 0.5f * sinf(<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#afbe96a32030743a832a110b57b4ed2b5">_oscillate_angle</a>);</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9bd1bc65f1d92842eb570b92bccfb312">_servo_test_cycle_time</a> &gt;= 0.5f &amp;&amp; <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9bd1bc65f1d92842eb570b92bccfb312">_servo_test_cycle_time</a> &lt; 4.5f)||                            <span class="comment">// Roll swash around</span></div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>               (<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9bd1bc65f1d92842eb570b92bccfb312">_servo_test_cycle_time</a> &gt;= 6.5f &amp;&amp; <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9bd1bc65f1d92842eb570b92bccfb312">_servo_test_cycle_time</a> &lt; 10.5f)){</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#afbe96a32030743a832a110b57b4ed2b5">_oscillate_angle</a> += 0.5 * <a class="code hl_define" href="definitions_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> * <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>;</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#aa39c6858f0833e3eb8e7f2e0ccf6e7b2">_roll_test</a> = sinf(<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#afbe96a32030743a832a110b57b4ed2b5">_oscillate_angle</a>);</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9cc77b423bb6d6f10d6ab5bc48d73e12">_pitch_test</a> = cosf(<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#afbe96a32030743a832a110b57b4ed2b5">_oscillate_angle</a>);</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#ad12b2c06c1df50d05379616846e78f39">_yaw_test</a> = sinf(<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#afbe96a32030743a832a110b57b4ed2b5">_oscillate_angle</a>);</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9bd1bc65f1d92842eb570b92bccfb312">_servo_test_cycle_time</a> &gt;= 4.5f &amp;&amp; <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9bd1bc65f1d92842eb570b92bccfb312">_servo_test_cycle_time</a> &lt; 5.0f)||                            <span class="comment">// Return swash to level</span></div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>               (<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9bd1bc65f1d92842eb570b92bccfb312">_servo_test_cycle_time</a> &gt;= 10.5f &amp;&amp; <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9bd1bc65f1d92842eb570b92bccfb312">_servo_test_cycle_time</a> &lt; 11.0f)){</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9cc77b423bb6d6f10d6ab5bc48d73e12">_pitch_test</a> -= 2.0 * <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>;</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#afbe96a32030743a832a110b57b4ed2b5">_oscillate_angle</a> += 8 * <a class="code hl_define" href="definitions_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> * <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>;</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#ad12b2c06c1df50d05379616846e78f39">_yaw_test</a> = 0.5f * sinf(<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#afbe96a32030743a832a110b57b4ed2b5">_oscillate_angle</a>);</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9bd1bc65f1d92842eb570b92bccfb312">_servo_test_cycle_time</a> &gt;= 5.0f &amp;&amp; <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9bd1bc65f1d92842eb570b92bccfb312">_servo_test_cycle_time</a> &lt; 6.0f){                              <span class="comment">// Raise swash to top</span></div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#aaa18d74012b0ba3e25ae47e694cbb0d8">_collective_test</a> += <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>;</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#afbe96a32030743a832a110b57b4ed2b5">_oscillate_angle</a> += 2 * <a class="code hl_define" href="definitions_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> * <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>;</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#ad12b2c06c1df50d05379616846e78f39">_yaw_test</a> = sinf(<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#afbe96a32030743a832a110b57b4ed2b5">_oscillate_angle</a>);</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9bd1bc65f1d92842eb570b92bccfb312">_servo_test_cycle_time</a> &gt;= 11.0f &amp;&amp; <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9bd1bc65f1d92842eb570b92bccfb312">_servo_test_cycle_time</a> &lt; 12.0f){                            <span class="comment">// Lower swash to bottom</span></div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#aaa18d74012b0ba3e25ae47e694cbb0d8">_collective_test</a> -= <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>;</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#afbe96a32030743a832a110b57b4ed2b5">_oscillate_angle</a> += 2 * <a class="code hl_define" href="definitions_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> * <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>;</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#ad12b2c06c1df50d05379616846e78f39">_yaw_test</a> = sinf(<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#afbe96a32030743a832a110b57b4ed2b5">_oscillate_angle</a>);</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>    } <span class="keywordflow">else</span> {                                                                                                  <span class="comment">// reset cycle</span></div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9bd1bc65f1d92842eb570b92bccfb312">_servo_test_cycle_time</a> = 0.0f;</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#afbe96a32030743a832a110b57b4ed2b5">_oscillate_angle</a> = 0.0f;</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#aaa18d74012b0ba3e25ae47e694cbb0d8">_collective_test</a> = 0.0f;</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#aa39c6858f0833e3eb8e7f2e0ccf6e7b2">_roll_test</a> = 0.0f;</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9cc77b423bb6d6f10d6ab5bc48d73e12">_pitch_test</a> = 0.0f;</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#ad12b2c06c1df50d05379616846e78f39">_yaw_test</a> = 0.0f;</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>        <span class="comment">// decrement servo test cycle counter at the end of the cycle</span></div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a681e1032cb75a6cd1072b2c060701cdb">_servo_test_cycle_counter</a> &gt; 0){</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>            <a class="code hl_variable" href="classAP__MotorsHeli.html#a681e1032cb75a6cd1072b2c060701cdb">_servo_test_cycle_counter</a>--;</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>        }</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>    }</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span> </div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>    <span class="comment">// over-ride servo commands to move servos through defined ranges</span></div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>    <a class="code hl_variable" href="classAP__Motors.html#ab3685c6a458e9d7d763f5b24054484d0">_throttle_filter</a>.<a class="code hl_function" href="classLowPassFilter.html#adad51ea3b156f167fff0fb586a912cb5">reset</a>(<a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#aaa18d74012b0ba3e25ae47e694cbb0d8">_collective_test</a>, 0.0f, 1.0f));</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>    <a class="code hl_variable" href="classAP__Motors.html#a191acbe0acedd563d2740eb25d150a17">_roll_in</a> = <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#aa39c6858f0833e3eb8e7f2e0ccf6e7b2">_roll_test</a>, -1.0f, 1.0f);</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>    <a class="code hl_variable" href="classAP__Motors.html#a1f4b25d114f7a8612364bb020e77cc67">_pitch_in</a> = <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a9cc77b423bb6d6f10d6ab5bc48d73e12">_pitch_test</a>, -1.0f, 1.0f);</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>    <a class="code hl_variable" href="classAP__Motors.html#ad4cc725aa3bc4553ed41ce186b5e520a">_yaw_in</a> = <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#ad12b2c06c1df50d05379616846e78f39">_yaw_test</a>, -1.0f, 1.0f);</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>}</div>
</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span> </div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span><span class="comment">// Run arming checks</span></div>
<div class="foldopen" id="foldopen00619" data-start="{" data-end="}">
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Single.html#ac392ad5dd752db2047e3eb56890528b0">  619</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__MotorsHeli__Single.html#ac392ad5dd752db2047e3eb56890528b0">AP_MotorsHeli_Single::arming_checks</a>(<span class="keywordtype">size_t</span> <a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <span class="keywordtype">char</span> *<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>)<span class="keyword"> const</span></div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>    <span class="comment">// run base class checks</span></div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__MotorsHeli.html#ac506d005ab74fdd87c5ed878ef4cb388">AP_MotorsHeli::arming_checks</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>)) {</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>    }</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span> </div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>    <span class="comment">// returns false if direct drive tailspeed is outside of range</span></div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#acc1d9dc3f4f3d69fccdf09c0d5582068">_direct_drive_tailspeed</a> &lt; 0) || (<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#acc1d9dc3f4f3d69fccdf09c0d5582068">_direct_drive_tailspeed</a> &gt; 100)) {</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>        <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">snprintf</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <span class="stringliteral">&quot;H_TAIL_SPEED out of range&quot;</span>);</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>    }</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span> </div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>    <span class="comment">// returns false if Phase Angle is outside of range for H3 swashplate</span></div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a0ab48532d48443c19a692f4f4353bdde">_swashplate</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#a33a98d1945d1064960fbe997242c8e08">get_swash_type</a>() == <a class="code hl_enumvalue" href="AP__MotorsHeli__Swash_8h.html#af1f531860bcb03e35d747c314affcd80abfbf90d6d672d972daca7cc624614c20">SWASHPLATE_TYPE_H3</a> &amp;&amp; (<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a0ab48532d48443c19a692f4f4353bdde">_swashplate</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#af16e678ba5e57798de5de41116d1a3b4">get_phase_angle</a>() &gt; 30 || <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a0ab48532d48443c19a692f4f4353bdde">_swashplate</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#af16e678ba5e57798de5de41116d1a3b4">get_phase_angle</a>() &lt; -30)){</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>        <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">snprintf</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <span class="stringliteral">&quot;H_SW_H3_PHANG out of range&quot;</span>);</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>    }</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span> </div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>    <span class="comment">// returns false if Acro External Gyro Gain is outside of range</span></div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#afaff7f9367e882a5d359cb0d111a73b0">_ext_gyro_gain_acro</a> &lt; 0) || (<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#afaff7f9367e882a5d359cb0d111a73b0">_ext_gyro_gain_acro</a> &gt; 1000)) {</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>        <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">snprintf</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <span class="stringliteral">&quot;H_GYR_GAIN_ACRO out of range&quot;</span>);</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>    }</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span> </div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>    <span class="comment">// returns false if Standard External Gyro Gain is outside of range</span></div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#aa0439bbe5b11edd60e8f0be25faffd05">_ext_gyro_gain_std</a> &lt; 0) || (<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#aa0439bbe5b11edd60e8f0be25faffd05">_ext_gyro_gain_std</a> &gt; 1000)) {</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>        <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">snprintf</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <span class="stringliteral">&quot;H_GYR_GAIN out of range&quot;</span>);</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>    }</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span> </div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>}</div>
</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span> </div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span><span class="comment">// Helper function for param conversions which are easier to be done in the motors class</span></div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span><span class="comment">// Called from system.cpp</span></div>
<div class="foldopen" id="foldopen00655" data-start="{" data-end="}">
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Single.html#af3dacb203add5f79edde513294261843">  655</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Single.html#af3dacb203add5f79edde513294261843">AP_MotorsHeli_Single::heli_motors_param_conversions</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>{</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>    <span class="comment">// PARAMETER_CONVERSION - Added: Nov-2023</span></div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>    <span class="comment">// Convert trim for DDFP tails</span></div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>    <span class="comment">// Previous DDFP configs used servo trim for setting the yaw trim, which no longer works with thrust linearisation. Convert servo trim</span></div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>    <span class="comment">// to H_YAW_TRIM. Default thrust linearisation gives linear thrust to throttle relationship to preserve previous setup behaviours so</span></div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>    <span class="comment">// we can assume linear relationship in the conversion.</span></div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__MotorsHeli__Single.html#a00496c8283d5f6dc9b226d51c9b2f7a2">have_DDFP_tail</a>() &amp;&amp; !<a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a79cbd10df7946cfa60bc2050c1552623">_yaw_trim</a>.configured()) {</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span> </div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>        <a class="code hl_class" href="classSRV__Channel.html">SRV_Channel</a> *c = <a class="code hl_function" href="classSRV__Channels.html#abb96588c0eee11dfc494281777730c8b">SRV_Channels::get_channel_for</a>(<a class="code hl_enumvalue" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a323602c02b20f75a236c749e83dcb3c3">SRV_Channel::k_motor4</a>);</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>        <span class="keywordflow">if</span> (c != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>            uint16_t pwm_min = c-&gt;<a class="code hl_function" href="classSRV__Channel.html#a5884a2e91f299fec204b26178b99b3df">get_output_min</a>();</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>            uint16_t pwm_max = c-&gt;<a class="code hl_function" href="classSRV__Channel.html#ab4ab7b27c467ed419b9c3a36412b0fb9">get_output_max</a>();</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>            uint16_t pwm_trim = c-&gt;<a class="code hl_function" href="classSRV__Channel.html#a7d0f8071d6ba54db1985a1515b2b3a97">get_trim</a>();</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span> </div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>            <span class="keywordtype">float</span> trim = (float)(pwm_trim - pwm_min) / <a class="code hl_function" href="AP__Math_8h.html#a22621e4b071a9f16c5795145f15076b3">constrain_uint16</a>(pwm_max - pwm_min, 1, 2000);</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>            <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a79cbd10df7946cfa60bc2050c1552623">_yaw_trim</a>.set(trim);</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>        }</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>        <span class="comment">// Motor 4 may not have been assigned to an output yet in which case this is unlikely to be a conversion from old setup.</span></div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>        <span class="comment">// Prevent future attempts to convert the param so we don&#39;t put a non-sense value in.</span></div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Single.html#a79cbd10df7946cfa60bc2050c1552623">_yaw_trim</a>.save();</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>    }</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>}</div>
</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span> </div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span><span class="comment">// Helper to return true for direct drive fixed pitch tail, either CW or CCW</span></div>
<div class="foldopen" id="foldopen00680" data-start="{" data-end="}">
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Single.html#a00496c8283d5f6dc9b226d51c9b2f7a2">  680</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__MotorsHeli__Single.html#a00496c8283d5f6dc9b226d51c9b2f7a2">AP_MotorsHeli_Single::have_DDFP_tail</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>    <span class="keyword">const</span> <a class="code hl_enumeration" href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367">TAIL_TYPE</a> <a class="code hl_struct" href="structtype.html">type</a> = <a class="code hl_function" href="classAP__MotorsHeli__Single.html#a608f96b9882d01ce9434d51f94d2381e">get_tail_type</a>();</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>    <span class="keywordflow">return</span> (<a class="code hl_struct" href="structtype.html">type</a> == <a class="code hl_enumvalue" href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367a9e80f61b1ddeb4128c296a0a614dd89b">TAIL_TYPE::DIRECTDRIVE_FIXEDPITCH_CW</a>) ||</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>           (<a class="code hl_struct" href="structtype.html">type</a> == <a class="code hl_enumvalue" href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367a00b6adc21f69ab6a79bad2fdb3f4a904">TAIL_TYPE::DIRECTDRIVE_FIXEDPITCH_CCW</a>);</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>}</div>
</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span> </div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span><span class="comment">// Helper to return true if the tail RSC should be used</span></div>
<div class="foldopen" id="foldopen00688" data-start="{" data-end="}">
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Single.html#af9a0ba27f686748bac47e99effb32984">  688</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__MotorsHeli__Single.html#af9a0ba27f686748bac47e99effb32984">AP_MotorsHeli_Single::use_tail_RSC</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>    <span class="keyword">const</span> <a class="code hl_enumeration" href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367">TAIL_TYPE</a> <a class="code hl_struct" href="structtype.html">type</a> = <a class="code hl_function" href="classAP__MotorsHeli__Single.html#a608f96b9882d01ce9434d51f94d2381e">get_tail_type</a>();</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>    <span class="keywordflow">return</span> (<a class="code hl_struct" href="structtype.html">type</a> == <a class="code hl_enumvalue" href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367a2eaa96c8c3197ce61a8088398d8b92fb">TAIL_TYPE::DIRECTDRIVE_VARPITCH</a>) ||</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>           (<a class="code hl_struct" href="structtype.html">type</a> == <a class="code hl_enumvalue" href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367a58d9d276f60bf8322724f345bdccb61b">TAIL_TYPE::DIRECTDRIVE_VARPIT_EXT_GOV</a>);</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>}</div>
</div>
<div class="ttc" id="aAC__AttitudeControl_8cpp_html_a240c1a4ae2a70d1855f91e4a0b1ac938"><div class="ttname"><a href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a></div><div class="ttdeci">const AP_HAL::HAL &amp; hal</div><div class="ttdef"><b>Definition</b> <a href="AP__Compass__AK09916_8cpp_source.html#l00059">AP_Compass_AK09916.cpp:59</a></div></div>
<div class="ttc" id="aAP__Common_8h_html_a0cf2d82c57a09723ab59e6f4dcc45b84"><div class="ttname"><a href="AP__Common_8h.html#a0cf2d82c57a09723ab59e6f4dcc45b84">FALLTHROUGH</a></div><div class="ttdeci">#define FALLTHROUGH</div><div class="ttdef"><b>Definition</b> <a href="AP__Common_8h_source.html#l00068">AP_Common.h:68</a></div></div>
<div class="ttc" id="aAP__HAL_2RCOutput_8h_html_a4352dfb5bb425f7ff9a71a3f9ab4c65d"><div class="ttname"><a href="AP__HAL_2RCOutput_8h.html#a4352dfb5bb425f7ff9a71a3f9ab4c65d">CH_4</a></div><div class="ttdeci">#define CH_4</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL_2RCOutput_8h_source.html#l00014">RCOutput.h:14</a></div></div>
<div class="ttc" id="aAP__HAL_8h_html"><div class="ttname"><a href="AP__HAL_8h.html">AP_HAL.h</a></div></div>
<div class="ttc" id="aAP__Math_8cpp_html_a74db690fa0d764d7e0900a9c97f629b2"><div class="ttname"><a href="AP__Math_8cpp.html#a74db690fa0d764d7e0900a9c97f629b2">is_equal</a></div><div class="ttdeci">std::enable_if&lt; std::is_integral&lt; typenamestd::common_type&lt; Arithmetic1, Arithmetic2 &gt;::type &gt;::value, bool &gt;::type is_equal(const Arithmetic1 v_1, const Arithmetic2 v_2)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8cpp_source.html#l00014">AP_Math.cpp:14</a></div></div>
<div class="ttc" id="aAP__Math_8h_html_a22621e4b071a9f16c5795145f15076b3"><div class="ttname"><a href="AP__Math_8h.html#a22621e4b071a9f16c5795145f15076b3">constrain_uint16</a></div><div class="ttdeci">uint16_t constrain_uint16(const uint16_t amt, const uint16_t low, const uint16_t high)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00182">AP_Math.h:182</a></div></div>
<div class="ttc" id="aAP__Math_8h_html_a3bc9391295c1f7aaa8fb95ee897f639a"><div class="ttname"><a href="AP__Math_8h.html#a3bc9391295c1f7aaa8fb95ee897f639a">norm</a></div><div class="ttdeci">ftype norm(const T first, const U second, const Params... parameters)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00250">AP_Math.h:250</a></div></div>
<div class="ttc" id="aAP__Math_8h_html_a5256308fd38a7098b8f95607aa56888f"><div class="ttname"><a href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a></div><div class="ttdeci">#define constrain_float(amt, low, high)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00174">AP_Math.h:174</a></div></div>
<div class="ttc" id="aAP__MotorsHeli_8h_html_a1c770f440a786266b1c706e0936ee70e"><div class="ttname"><a href="AP__MotorsHeli_8h.html#a1c770f440a786266b1c706e0936ee70e">AP_MOTORS_HELI_NOFLYBAR</a></div><div class="ttdeci">#define AP_MOTORS_HELI_NOFLYBAR</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00031">AP_MotorsHeli.h:31</a></div></div>
<div class="ttc" id="aAP__MotorsHeli_8h_html_a2d874d74f7f67ba067290f76a7455059"><div class="ttname"><a href="AP__MotorsHeli_8h.html#a2d874d74f7f67ba067290f76a7455059">AP_MOTORS_HELI_COLLECTIVE_MAX</a></div><div class="ttdeci">#define AP_MOTORS_HELI_COLLECTIVE_MAX</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00020">AP_MotorsHeli.h:20</a></div></div>
<div class="ttc" id="aAP__MotorsHeli_8h_html_aaa0a7ad796ec7b2416f3afa84534bea7"><div class="ttname"><a href="AP__MotorsHeli_8h.html#aaa0a7ad796ec7b2416f3afa84534bea7">AP_MOTORS_HELI_COLLECTIVE_MIN</a></div><div class="ttdeci">#define AP_MOTORS_HELI_COLLECTIVE_MIN</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00019">AP_MotorsHeli.h:19</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__RSC_8h_html_a36de13430db64e7068d0522f9dc24b96"><div class="ttname"><a href="AP__MotorsHeli__RSC_8h.html#a36de13430db64e7068d0522f9dc24b96">RotorControlMode</a></div><div class="ttdeci">RotorControlMode</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00034">AP_MotorsHeli_RSC.h:34</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__RSC_8h_html_a36de13430db64e7068d0522f9dc24b96a3aecae8a93464861924e151011a67619"><div class="ttname"><a href="AP__MotorsHeli__RSC_8h.html#a36de13430db64e7068d0522f9dc24b96a3aecae8a93464861924e151011a67619">ROTOR_CONTROL_MODE_AUTOTHROTTLE</a></div><div class="ttdeci">@ ROTOR_CONTROL_MODE_AUTOTHROTTLE</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00040">AP_MotorsHeli_RSC.h:39</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__RSC_8h_html_a36de13430db64e7068d0522f9dc24b96a7433b022b4d35a121548001f3ec5cf9e"><div class="ttname"><a href="AP__MotorsHeli__RSC_8h.html#a36de13430db64e7068d0522f9dc24b96a7433b022b4d35a121548001f3ec5cf9e">ROTOR_CONTROL_MODE_THROTTLECURVE</a></div><div class="ttdeci">@ ROTOR_CONTROL_MODE_THROTTLECURVE</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00038">AP_MotorsHeli_RSC.h:38</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__RSC_8h_html_a36de13430db64e7068d0522f9dc24b96a8ac5d4e5f2ced1033f42e77703c03d82"><div class="ttname"><a href="AP__MotorsHeli__RSC_8h.html#a36de13430db64e7068d0522f9dc24b96a8ac5d4e5f2ced1033f42e77703c03d82">ROTOR_CONTROL_MODE_DISABLED</a></div><div class="ttdeci">@ ROTOR_CONTROL_MODE_DISABLED</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00035">AP_MotorsHeli_RSC.h:35</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__RSC_8h_html_a36de13430db64e7068d0522f9dc24b96ab4d215852d45fa88aa8a4d674f828a81"><div class="ttname"><a href="AP__MotorsHeli__RSC_8h.html#a36de13430db64e7068d0522f9dc24b96ab4d215852d45fa88aa8a4d674f828a81">ROTOR_CONTROL_MODE_SETPOINT</a></div><div class="ttdeci">@ ROTOR_CONTROL_MODE_SETPOINT</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00037">AP_MotorsHeli_RSC.h:37</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__Single_8cpp_html_aa5d7c41407f1e7ae35faab73004e4ad5"><div class="ttname"><a href="AP__MotorsHeli__Single_8cpp.html#aa5d7c41407f1e7ae35faab73004e4ad5">YAW_SERVO_MAX_ANGLE</a></div><div class="ttdeci">#define YAW_SERVO_MAX_ANGLE</div><div class="ttdef"><b>Definition</b> <a href="#l00189">AP_MotorsHeli_Single.cpp:189</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__Single_8cpp_html_ae08c3ca4ba26b63cda0bb3e3c6c02785"><div class="ttname"><a href="AP__MotorsHeli__Single_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a></div><div class="ttdeci">const AP_HAL::HAL &amp; hal</div><div class="ttdef"><b>Definition</b> <a href="AC__PID__test_8cpp_source.html#l00021">AC_PID_test.cpp:21</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__Single_8h_html"><div class="ttname"><a href="AP__MotorsHeli__Single_8h.html">AP_MotorsHeli_Single.h</a></div><div class="ttdoc">Motor control class for traditional heli.</div></div>
<div class="ttc" id="aAP__MotorsHeli__Single_8h_html_a108799af97f979cdda8be13a2c628f9d"><div class="ttname"><a href="AP__MotorsHeli__Single_8h.html#a108799af97f979cdda8be13a2c628f9d">AP_MOTORS_HELI_SINGLE_EXTGYRO</a></div><div class="ttdeci">#define AP_MOTORS_HELI_SINGLE_EXTGYRO</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00014">AP_MotorsHeli_Single.h:14</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__Single_8h_html_a8fee0b32975e66a249fc04c9ab591ff0"><div class="ttname"><a href="AP__MotorsHeli__Single_8h.html#a8fee0b32975e66a249fc04c9ab591ff0">AP_MOTORS_HELI_SINGLE_DDVP_SPEED_DEFAULT</a></div><div class="ttdeci">#define AP_MOTORS_HELI_SINGLE_DDVP_SPEED_DEFAULT</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00018">AP_MotorsHeli_Single.h:18</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__Single_8h_html_abb65299c2e22fc8cb0353dc2f8885792"><div class="ttname"><a href="AP__MotorsHeli__Single_8h.html#abb65299c2e22fc8cb0353dc2f8885792">AP_MOTORS_HELI_SINGLE_EXT_GYRO_GAIN</a></div><div class="ttdeci">#define AP_MOTORS_HELI_SINGLE_EXT_GYRO_GAIN</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00021">AP_MotorsHeli_Single.h:21</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__Single_8h_html_ae7d409ea6dc4ce3014274592c06d356b"><div class="ttname"><a href="AP__MotorsHeli__Single_8h.html#ae7d409ea6dc4ce3014274592c06d356b">AP_MOTORS_HELI_SINGLE_COLYAW_RANGE</a></div><div class="ttdeci">#define AP_MOTORS_HELI_SINGLE_COLYAW_RANGE</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00024">AP_MotorsHeli_Single.h:24</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__Swash_8h_html_af1f531860bcb03e35d747c314affcd80abfbf90d6d672d972daca7cc624614c20"><div class="ttname"><a href="AP__MotorsHeli__Swash_8h.html#af1f531860bcb03e35d747c314affcd80abfbf90d6d672d972daca7cc624614c20">SWASHPLATE_TYPE_H3</a></div><div class="ttdeci">@ SWASHPLATE_TYPE_H3</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Swash_8h_source.html#l00011">AP_MotorsHeli_Swash.h:11</a></div></div>
<div class="ttc" id="aAP__Motors__Class_8h_html_abcf98ec585e2206c7b1a89c89827ef7e"><div class="ttname"><a href="AP__Motors__Class_8h.html#abcf98ec585e2206c7b1a89c89827ef7e">AP_MOTORS_MOT_4</a></div><div class="ttdeci">#define AP_MOTORS_MOT_4</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00014">AP_Motors_Class.h:14</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a0a8f85b5d68c3b15980239a2a6c1d4fb"><div class="ttname"><a href="AP__Param_8h.html#a0a8f85b5d68c3b15980239a2a6c1d4fb">AP_NESTEDGROUPINFO</a></div><div class="ttdeci">#define AP_NESTEDGROUPINFO(clazz, idx)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00148">AP_Param.h:148</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a0f9acb038a5283b964b862aea8cc5051"><div class="ttname"><a href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div><div class="ttdeci">#define AP_GROUPEND</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00163">AP_Param.h:163</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a16c360358c5d6a08d34f60921fd916a9"><div class="ttname"><a href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a></div><div class="ttdeci">#define AP_SUBGROUPINFO(element, name, idx, thisclazz, elclazz)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00152">AP_Param.h:152</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a78a408c84f2a1bafde256ac650142e4d"><div class="ttname"><a href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a></div><div class="ttdeci">#define AP_GROUPINFO(name, idx, clazz, element, def)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00145">AP_Param.h:145</a></div></div>
<div class="ttc" id="aAP__Scripting_2generator_2src_2main_8c_html_a8d04d02fe8bb190484bba202fee18f5c"><div class="ttname"><a href="AP__Scripting_2generator_2src_2main_8c.html#a8d04d02fe8bb190484bba202fee18f5c">state</a></div><div class="ttdeci">static struct generator_state state</div><div class="ttdef"><b>Definition</b> <a href="AP__Scripting_2generator_2src_2main_8c_source.html#l00087">main.c:87</a></div></div>
<div class="ttc" id="aGCS_8h_html"><div class="ttname"><a href="GCS_8h.html">GCS.h</a></div><div class="ttdoc">Interface definition for the various Ground Control System.</div></div>
<div class="ttc" id="aSRV__Channel_8h_html"><div class="ttname"><a href="SRV__Channel_8h.html">SRV_Channel.h</a></div></div>
<div class="ttc" id="aUART__chargen_8cpp_html_a892366b22e8ea42d95e49308022eef4d"><div class="ttname"><a href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a></div><div class="ttdeci">uint16_t buflen</div><div class="ttdef"><b>Definition</b> <a href="UART__chargen_8cpp_source.html#l00037">UART_chargen.cpp:37</a></div></div>
<div class="ttc" id="aUART__chargen_8cpp_html_a8a45ba1322f5f38149f9bb899b09a1f4"><div class="ttname"><a href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a></div><div class="ttdeci">uint8_t buffer[16384]</div><div class="ttdef"><b>Definition</b> <a href="UART__chargen_8cpp_source.html#l00036">UART_chargen.cpp:36</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1HAL_html"><div class="ttname"><a href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a></div><div class="ttdef"><b>Definition</b> <a href="HAL_8h_source.html#l00021">HAL.h:21</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1HAL_html_a9337a60383f4264fa96a20dbe43a4e2e"><div class="ttname"><a href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">AP_HAL::HAL::util</a></div><div class="ttdeci">AP_HAL::Util * util</div><div class="ttdef"><b>Definition</b> <a href="HAL_8h_source.html#l00131">HAL.h:131</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1Util_html_afaedff8102d9ae2fbc398d2099e30cf6"><div class="ttname"><a href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">AP_HAL::Util::snprintf</a></div><div class="ttdeci">int snprintf(char *str, size_t size, const char *format,...) FMT_PRINTF(4</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL_2Util_8cpp_source.html#l00044">Util.cpp:44</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a14305475afe062865e7f768809a65bd1"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a14305475afe062865e7f768809a65bd1">AP_MotorsHeli_RSC::_rsc_arot_engage_time</a></div><div class="ttdeci">AP_Int8 _rsc_arot_engage_time</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00145">AP_MotorsHeli_RSC.h:145</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a1b6672292d361239bf11433a6ee62a01"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a1b6672292d361239bf11433a6ee62a01">AP_MotorsHeli_RSC::_rsc_mode</a></div><div class="ttdeci">AP_Int8 _rsc_mode</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00139">AP_MotorsHeli_RSC.h:139</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a207d07515a912ae43f64092c0a54c1c3"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a207d07515a912ae43f64092c0a54c1c3">AP_MotorsHeli_RSC::set_arot_idle_output</a></div><div class="ttdeci">void set_arot_idle_output(int16_t idle)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00114">AP_MotorsHeli_RSC.h:114</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a230d8dbd1206818f7157b9aa66f2459e"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a230d8dbd1206818f7157b9aa66f2459e">AP_MotorsHeli_RSC::set_rsc_arot_engage_time</a></div><div class="ttdeci">void set_rsc_arot_engage_time(int8_t eng_time)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00120">AP_MotorsHeli_RSC.h:120</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a2b44b6c62c0bc4a773b34bea5fab975d"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a2b44b6c62c0bc4a773b34bea5fab975d">AP_MotorsHeli_RSC::_rsc_arot_man_enable</a></div><div class="ttdeci">AP_Int8 _rsc_arot_man_enable</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00146">AP_MotorsHeli_RSC.h:146</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a3522e7aa2b53aec2846e7531408e5ebe"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a3522e7aa2b53aec2846e7531408e5ebe">AP_MotorsHeli_RSC::_idle_output</a></div><div class="ttdeci">AP_Int16 _idle_output</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00143">AP_MotorsHeli_RSC.h:143</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a4434e7e3d56b0cf9e0d0901676b8a5a4"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a4434e7e3d56b0cf9e0d0901676b8a5a4">AP_MotorsHeli_RSC::reset_rsc_mode_param</a></div><div class="ttdeci">void reset_rsc_mode_param()</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00070">AP_MotorsHeli_RSC.h:70</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a44ac49dc9bd2beb3528ba6aedc608c49"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a44ac49dc9bd2beb3528ba6aedc608c49">AP_MotorsHeli_RSC::is_runup_complete</a></div><div class="ttdeci">bool is_runup_complete() const</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00099">AP_MotorsHeli_RSC.h:99</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a44b88d267e3ab3efb45910761808a083"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a44b88d267e3ab3efb45910761808a083">AP_MotorsHeli_RSC::is_spooldown_complete</a></div><div class="ttdeci">bool is_spooldown_complete() const</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00102">AP_MotorsHeli_RSC.h:102</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a51825fd057a3e4b2e51b8d9661c09463"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a51825fd057a3e4b2e51b8d9661c09463">AP_MotorsHeli_RSC::_critical_speed</a></div><div class="ttdeci">AP_Int16 _critical_speed</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00142">AP_MotorsHeli_RSC.h:142</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a7505e3e3e250559ba06a2742186743c2"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a7505e3e3e250559ba06a2742186743c2">AP_MotorsHeli_RSC::set_critical_speed</a></div><div class="ttdeci">void set_critical_speed(float critical_speed)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00076">AP_MotorsHeli_RSC.h:76</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a756586a634a184a31e13645b8fcc6c43"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a756586a634a184a31e13645b8fcc6c43">AP_MotorsHeli_RSC::set_idle_output</a></div><div class="ttdeci">void set_idle_output(float idle_output)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00092">AP_MotorsHeli_RSC.h:92</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a897f34035252d1ce89f564d38ab35dea"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a897f34035252d1ce89f564d38ab35dea">AP_MotorsHeli_RSC::set_throttle_curve</a></div><div class="ttdeci">void set_throttle_curve()</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8cpp_source.html#l00234">AP_MotorsHeli_RSC.cpp:234</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a9380697f739256f1bc6b32ed61f98322"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a9380697f739256f1bc6b32ed61f98322">AP_MotorsHeli_RSC::get_idle_output</a></div><div class="ttdeci">float get_idle_output() const</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00207">AP_MotorsHeli_RSC.h:207</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a9917c1b3cd96935708cdb8b6118da87a"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a9917c1b3cd96935708cdb8b6118da87a">AP_MotorsHeli_RSC::set_autorotation_flag</a></div><div class="ttdeci">void set_autorotation_flag(bool flag)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00111">AP_MotorsHeli_RSC.h:111</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a99ac103562c8bc8e4ad793cc57a22a5e"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a99ac103562c8bc8e4ad793cc57a22a5e">AP_MotorsHeli_RSC::_ramp_time</a></div><div class="ttdeci">AP_Int8 _ramp_time</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00140">AP_MotorsHeli_RSC.h:140</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_aa5d4bbc71b96eeeff793eb3b2ccf60b9"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#aa5d4bbc71b96eeeff793eb3b2ccf60b9">AP_MotorsHeli_RSC::set_runup_time</a></div><div class="ttdeci">void set_runup_time(int8_t runup_time)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00098">AP_MotorsHeli_RSC.h:98</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_ab23a1aebfd83a9e76acf076a2f15841b"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#ab23a1aebfd83a9e76acf076a2f15841b">AP_MotorsHeli_RSC::output</a></div><div class="ttdeci">void output(RotorControlState state)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8cpp_source.html#l00247">AP_MotorsHeli_RSC.cpp:247</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_ac295567cd6824fbf86be7e34ec8845c0"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#ac295567cd6824fbf86be7e34ec8845c0">AP_MotorsHeli_RSC::get_output_mask</a></div><div class="ttdeci">uint32_t get_output_mask() const</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8cpp_source.html#l00511">AP_MotorsHeli_RSC.cpp:511</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_aca3a4d81f1f2921be0099f1f240c60ea"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#aca3a4d81f1f2921be0099f1f240c60ea">AP_MotorsHeli_RSC::get_control_mode</a></div><div class="ttdeci">uint8_t get_control_mode() const</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00073">AP_MotorsHeli_RSC.h:73</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_ace1311fec7bf1c155d5a50db0f6d2c53"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#ace1311fec7bf1c155d5a50db0f6d2c53">AP_MotorsHeli_RSC::set_control_mode</a></div><div class="ttdeci">void set_control_mode(RotorControlMode mode)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00067">AP_MotorsHeli_RSC.h:67</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_ad2f5744fd6521b92c529f4b8ec9520a6"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#ad2f5744fd6521b92c529f4b8ec9520a6">AP_MotorsHeli_RSC::set_rsc_arot_man_enable</a></div><div class="ttdeci">void set_rsc_arot_man_enable(int8_t enable)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00117">AP_MotorsHeli_RSC.h:117</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_ad42108be3ceab3461850ec4ad4b5519d"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#ad42108be3ceab3461850ec4ad4b5519d">AP_MotorsHeli_RSC::set_desired_speed</a></div><div class="ttdeci">void set_desired_speed(float desired_speed)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00082">AP_MotorsHeli_RSC.h:82</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_ad4321593bc1f5d440790d10e71048c46"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#ad4321593bc1f5d440790d10e71048c46">AP_MotorsHeli_RSC::set_collective</a></div><div class="ttdeci">void set_collective(float collective)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00105">AP_MotorsHeli_RSC.h:105</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_ad63386ff867bc4220f388a133d315ca7"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#ad63386ff867bc4220f388a133d315ca7">AP_MotorsHeli_RSC::use_bailout_ramp_time</a></div><div class="ttdeci">void use_bailout_ramp_time(bool enable)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00108">AP_MotorsHeli_RSC.h:108</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_ae0395f872657dd9b8b45955e890bbb35"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#ae0395f872657dd9b8b45955e890bbb35">AP_MotorsHeli_RSC::_arot_idle_output</a></div><div class="ttdeci">AP_Int16 _arot_idle_output</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00144">AP_MotorsHeli_RSC.h:144</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_aeb6143de2bc88e0540acd68349f61c73"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#aeb6143de2bc88e0540acd68349f61c73">AP_MotorsHeli_RSC::init_servo</a></div><div class="ttdeci">void init_servo()</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8cpp_source.html#l00225">AP_MotorsHeli_RSC.cpp:225</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_aebdd1e8a17dde4d2bab170c8ebd8532c"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#aebdd1e8a17dde4d2bab170c8ebd8532c">AP_MotorsHeli_RSC::set_ramp_time</a></div><div class="ttdeci">void set_ramp_time(int8_t ramp_time)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00097">AP_MotorsHeli_RSC.h:97</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_aedbcba02e003b6a77f71d6112723e28e"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#aedbcba02e003b6a77f71d6112723e28e">AP_MotorsHeli_RSC::RotorControlState</a></div><div class="ttdeci">RotorControlState</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00057">AP_MotorsHeli_RSC.h:57</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_aedbcba02e003b6a77f71d6112723e28ea615a46af313786fc4e349f34118be111"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#aedbcba02e003b6a77f71d6112723e28ea615a46af313786fc4e349f34118be111">AP_MotorsHeli_RSC::RotorControlState::STOP</a></div><div class="ttdeci">@ STOP</div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_af5ad3a88652248723b4431d2c9dee51f"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#af5ad3a88652248723b4431d2c9dee51f">AP_MotorsHeli_RSC::_runup_time</a></div><div class="ttdeci">AP_Int8 _runup_time</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00141">AP_MotorsHeli_RSC.h:141</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html"><div class="ttname"><a href="classAP__MotorsHeli__Single.html">AP_MotorsHeli_Single</a></div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00030">AP_MotorsHeli_Single.h:30</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_a00496c8283d5f6dc9b226d51c9b2f7a2"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#a00496c8283d5f6dc9b226d51c9b2f7a2">AP_MotorsHeli_Single::have_DDFP_tail</a></div><div class="ttdeci">bool have_DDFP_tail() const</div><div class="ttdef"><b>Definition</b> <a href="#l00680">AP_MotorsHeli_Single.cpp:680</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_a0ab48532d48443c19a692f4f4353bdde"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#a0ab48532d48443c19a692f4f4353bdde">AP_MotorsHeli_Single::_swashplate</a></div><div class="ttdeci">AP_MotorsHeli_Swash _swashplate</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00126">AP_MotorsHeli_Single.h:126</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_a0d743ffbc25426c417c7dcc572f9539a"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#a0d743ffbc25426c417c7dcc572f9539a">AP_MotorsHeli_Single::_acro_tail</a></div><div class="ttdeci">bool _acro_tail</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00146">AP_MotorsHeli_Single.h:146</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_a1a1e0801059e1654fdc5abc0d6370092"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#a1a1e0801059e1654fdc5abc0d6370092">AP_MotorsHeli_Single::_tail_rotor</a></div><div class="ttdeci">AP_MotorsHeli_RSC _tail_rotor</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00125">AP_MotorsHeli_Single.h:125</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_a366dcf3bdb67ab852feca02fa1cc3055"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#a366dcf3bdb67ab852feca02fa1cc3055">AP_MotorsHeli_Single::calculate_armed_scalars</a></div><div class="ttdeci">void calculate_armed_scalars() override</div><div class="ttdef"><b>Definition</b> <a href="#l00255">AP_MotorsHeli_Single.cpp:255</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_a3874f81ec3f5b69453c7600af165cd76"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#a3874f81ec3f5b69453c7600af165cd76">AP_MotorsHeli_Single::_collective_yaw_scale</a></div><div class="ttdeci">AP_Float _collective_yaw_scale</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00143">AP_MotorsHeli_Single.h:143</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_a3f8a792acb1ad4f02e933c4a6f6e617a"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#a3f8a792acb1ad4f02e933c4a6f6e617a">AP_MotorsHeli_Single::get_motor_mask</a></div><div class="ttdeci">uint32_t get_motor_mask() override</div><div class="ttdef"><b>Definition</b> <a href="#l00344">AP_MotorsHeli_Single.cpp:344</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_a54ccb51f6ac963c50ba729ec458c356d"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#a54ccb51f6ac963c50ba729ec458c356d">AP_MotorsHeli_Single::set_update_rate</a></div><div class="ttdeci">void set_update_rate(uint16_t speed_hz) override</div><div class="ttdef"><b>Definition</b> <a href="#l00192">AP_MotorsHeli_Single.cpp:192</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_a56c0ecfa4da1c04ba4d1a256bd56f193"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#a56c0ecfa4da1c04ba4d1a256bd56f193">AP_MotorsHeli_Single::init_outputs</a></div><div class="ttdeci">void init_outputs() override</div><div class="ttdef"><b>Definition</b> <a href="#l00204">AP_MotorsHeli_Single.cpp:204</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_a608f96b9882d01ce9434d51f94d2381e"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#a608f96b9882d01ce9434d51f94d2381e">AP_MotorsHeli_Single::get_tail_type</a></div><div class="ttdeci">TAIL_TYPE get_tail_type() const</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00116">AP_MotorsHeli_Single.h:116</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_a79cbd10df7946cfa60bc2050c1552623"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#a79cbd10df7946cfa60bc2050c1552623">AP_MotorsHeli_Single::_yaw_trim</a></div><div class="ttdeci">AP_Float _yaw_trim</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00144">AP_MotorsHeli_Single.h:144</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_a7b5237d9ac4b926d7d84e1e34b18ee4f"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#a7b5237d9ac4b926d7d84e1e34b18ee4f">AP_MotorsHeli_Single::calculate_scalars</a></div><div class="ttdeci">void calculate_scalars() override</div><div class="ttdef"><b>Definition</b> <a href="#l00290">AP_MotorsHeli_Single.cpp:290</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_a7be196cb13761dc47480224bc1b51115"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#a7be196cb13761dc47480224bc1b51115">AP_MotorsHeli_Single::move_actuators</a></div><div class="ttdeci">void move_actuators(float roll_out, float pitch_out, float coll_in, float yaw_out) override</div><div class="ttdef"><b>Definition</b> <a href="#l00379">AP_MotorsHeli_Single.cpp:379</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_a81752454d1d370eb6d85a7e02e1addf1"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#a81752454d1d370eb6d85a7e02e1addf1">AP_MotorsHeli_Single::set_desired_rotor_speed</a></div><div class="ttdeci">void set_desired_rotor_speed(float desired_speed) override</div><div class="ttdef"><b>Definition</b> <a href="#l00246">AP_MotorsHeli_Single.cpp:246</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_a8c14b07a7414e1d5415f7b0084610dd6"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#a8c14b07a7414e1d5415f7b0084610dd6">AP_MotorsHeli_Single::thr_lin</a></div><div class="ttdeci">Thrust_Linearization thr_lin</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00078">AP_MotorsHeli_Single.h:78</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_a9bd1bc65f1d92842eb570b92bccfb312"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#a9bd1bc65f1d92842eb570b92bccfb312">AP_MotorsHeli_Single::_servo_test_cycle_time</a></div><div class="ttdeci">float _servo_test_cycle_time</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00130">AP_MotorsHeli_Single.h:130</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_a9cc77b423bb6d6f10d6ab5bc48d73e12"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#a9cc77b423bb6d6f10d6ab5bc48d73e12">AP_MotorsHeli_Single::_pitch_test</a></div><div class="ttdeci">float _pitch_test</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00133">AP_MotorsHeli_Single.h:133</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_aa0439bbe5b11edd60e8f0be25faffd05"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#aa0439bbe5b11edd60e8f0be25faffd05">AP_MotorsHeli_Single::_ext_gyro_gain_std</a></div><div class="ttdeci">AP_Int16 _ext_gyro_gain_std</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00139">AP_MotorsHeli_Single.h:139</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_aa39c6858f0833e3eb8e7f2e0ccf6e7b2"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#aa39c6858f0833e3eb8e7f2e0ccf6e7b2">AP_MotorsHeli_Single::_roll_test</a></div><div class="ttdeci">float _roll_test</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00132">AP_MotorsHeli_Single.h:132</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_aa3f546b8f2086997545fd18d9f43080d"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#aa3f546b8f2086997545fd18d9f43080d">AP_MotorsHeli_Single::_servo4_out</a></div><div class="ttdeci">float _servo4_out</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00135">AP_MotorsHeli_Single.h:135</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_aa648ab72947bd7b6a569a0b1b4cc9faa"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#aa648ab72947bd7b6a569a0b1b4cc9faa">AP_MotorsHeli_Single::get_yaw_offset</a></div><div class="ttdeci">float get_yaw_offset(float collective)</div><div class="ttdef"><b>Definition</b> <a href="#l00463">AP_MotorsHeli_Single.cpp:463</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_aaa18d74012b0ba3e25ae47e694cbb0d8"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#aaa18d74012b0ba3e25ae47e694cbb0d8">AP_MotorsHeli_Single::_collective_test</a></div><div class="ttdeci">float _collective_test</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00131">AP_MotorsHeli_Single.h:131</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_ab839994b982f09a34c2e0794e906b367"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367">AP_MotorsHeli_Single::TAIL_TYPE</a></div><div class="ttdeci">TAIL_TYPE</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00107">AP_MotorsHeli_Single.h:107</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_ab839994b982f09a34c2e0794e906b367a00b6adc21f69ab6a79bad2fdb3f4a904"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367a00b6adc21f69ab6a79bad2fdb3f4a904">AP_MotorsHeli_Single::TAIL_TYPE::DIRECTDRIVE_FIXEDPITCH_CCW</a></div><div class="ttdeci">@ DIRECTDRIVE_FIXEDPITCH_CCW</div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_ab839994b982f09a34c2e0794e906b367a2eaa96c8c3197ce61a8088398d8b92fb"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367a2eaa96c8c3197ce61a8088398d8b92fb">AP_MotorsHeli_Single::TAIL_TYPE::DIRECTDRIVE_VARPITCH</a></div><div class="ttdeci">@ DIRECTDRIVE_VARPITCH</div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_ab839994b982f09a34c2e0794e906b367a3ccb65e7a10663f62f8d1b762a958a79"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367a3ccb65e7a10663f62f8d1b762a958a79">AP_MotorsHeli_Single::TAIL_TYPE::SERVO</a></div><div class="ttdeci">@ SERVO</div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_ab839994b982f09a34c2e0794e906b367a58d9d276f60bf8322724f345bdccb61b"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367a58d9d276f60bf8322724f345bdccb61b">AP_MotorsHeli_Single::TAIL_TYPE::DIRECTDRIVE_VARPIT_EXT_GOV</a></div><div class="ttdeci">@ DIRECTDRIVE_VARPIT_EXT_GOV</div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_ab839994b982f09a34c2e0794e906b367a9e80f61b1ddeb4128c296a0a614dd89b"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367a9e80f61b1ddeb4128c296a0a614dd89b">AP_MotorsHeli_Single::TAIL_TYPE::DIRECTDRIVE_FIXEDPITCH_CW</a></div><div class="ttdeci">@ DIRECTDRIVE_FIXEDPITCH_CW</div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_ab839994b982f09a34c2e0794e906b367adf62657018d378d29d7e32b6db489966"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#ab839994b982f09a34c2e0794e906b367adf62657018d378d29d7e32b6db489966">AP_MotorsHeli_Single::TAIL_TYPE::SERVO_EXTGYRO</a></div><div class="ttdeci">@ SERVO_EXTGYRO</div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_abe1905fd5d97f5ef2fb16410766bbc90"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#abe1905fd5d97f5ef2fb16410766bbc90">AP_MotorsHeli_Single::output_to_motors</a></div><div class="ttdeci">void output_to_motors() override</div><div class="ttdef"><b>Definition</b> <a href="#l00490">AP_MotorsHeli_Single.cpp:490</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_ac392ad5dd752db2047e3eb56890528b0"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#ac392ad5dd752db2047e3eb56890528b0">AP_MotorsHeli_Single::arming_checks</a></div><div class="ttdeci">bool arming_checks(size_t buflen, char *buffer) const override</div><div class="ttdef"><b>Definition</b> <a href="#l00619">AP_MotorsHeli_Single.cpp:619</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_acc1d9dc3f4f3d69fccdf09c0d5582068"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#acc1d9dc3f4f3d69fccdf09c0d5582068">AP_MotorsHeli_Single::_direct_drive_tailspeed</a></div><div class="ttdeci">AP_Int16 _direct_drive_tailspeed</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00142">AP_MotorsHeli_Single.h:142</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_ad12b2c06c1df50d05379616846e78f39"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#ad12b2c06c1df50d05379616846e78f39">AP_MotorsHeli_Single::_yaw_test</a></div><div class="ttdeci">float _yaw_test</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00134">AP_MotorsHeli_Single.h:134</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_ae61aa061b76aab9a7cb5ecd1baf263f9"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#ae61aa061b76aab9a7cb5ecd1baf263f9">AP_MotorsHeli_Single::output_to_ddfp_tail</a></div><div class="ttdeci">void output_to_ddfp_tail(float throttle)</div><div class="ttdef"><b>Definition</b> <a href="#l00551">AP_MotorsHeli_Single.cpp:551</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_aecbda05789d8b1f7c5d5b18b7303bcda"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#aecbda05789d8b1f7c5d5b18b7303bcda">AP_MotorsHeli_Single::var_info</a></div><div class="ttdeci">static const struct AP_Param::GroupInfo var_info[]</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00024">AP_MotorsHeli_Single.h:24</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_aee95052c1595896c05db5b1617e504d0"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#aee95052c1595896c05db5b1617e504d0">AP_MotorsHeli_Single::move_yaw</a></div><div class="ttdeci">void move_yaw(float yaw_out)</div><div class="ttdef"><b>Definition</b> <a href="#l00447">AP_MotorsHeli_Single.cpp:447</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_af3dacb203add5f79edde513294261843"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#af3dacb203add5f79edde513294261843">AP_MotorsHeli_Single::heli_motors_param_conversions</a></div><div class="ttdeci">void heli_motors_param_conversions(void) override</div><div class="ttdef"><b>Definition</b> <a href="#l00655">AP_MotorsHeli_Single.cpp:655</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_af5c6634509de0db54b391bb6a61c2767"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#af5c6634509de0db54b391bb6a61c2767">AP_MotorsHeli_Single::update_motor_control</a></div><div class="ttdeci">void update_motor_control(AP_MotorsHeli_RSC::RotorControlState state) override</div><div class="ttdef"><b>Definition</b> <a href="#l00350">AP_MotorsHeli_Single.cpp:350</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_af9a0ba27f686748bac47e99effb32984"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#af9a0ba27f686748bac47e99effb32984">AP_MotorsHeli_Single::use_tail_RSC</a></div><div class="ttdeci">bool use_tail_RSC() const</div><div class="ttdef"><b>Definition</b> <a href="#l00688">AP_MotorsHeli_Single.cpp:688</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_afaff7f9367e882a5d359cb0d111a73b0"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#afaff7f9367e882a5d359cb0d111a73b0">AP_MotorsHeli_Single::_ext_gyro_gain_acro</a></div><div class="ttdeci">AP_Int16 _ext_gyro_gain_acro</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00140">AP_MotorsHeli_Single.h:140</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_afbe96a32030743a832a110b57b4ed2b5"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#afbe96a32030743a832a110b57b4ed2b5">AP_MotorsHeli_Single::_oscillate_angle</a></div><div class="ttdeci">float _oscillate_angle</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Single_8h_source.html#l00129">AP_MotorsHeli_Single.h:129</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Single_html_afd0b9f02e2d915fb0a57097d0697386e"><div class="ttname"><a href="classAP__MotorsHeli__Single.html#afd0b9f02e2d915fb0a57097d0697386e">AP_MotorsHeli_Single::servo_test</a></div><div class="ttdeci">void servo_test() override</div><div class="ttdef"><b>Definition</b> <a href="#l00570">AP_MotorsHeli_Single.cpp:570</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Swash_html"><div class="ttname"><a href="classAP__MotorsHeli__Swash.html">AP_MotorsHeli_Swash</a></div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Swash_8h_source.html#l00019">AP_MotorsHeli_Swash.h:19</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Swash_html_a18b0de3c790a8985f7b3fd3b0b636c5c"><div class="ttname"><a href="classAP__MotorsHeli__Swash.html#a18b0de3c790a8985f7b3fd3b0b636c5c">AP_MotorsHeli_Swash::configure</a></div><div class="ttdeci">void configure()</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Swash_8cpp_source.html#l00101">AP_MotorsHeli_Swash.cpp:101</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Swash_html_a22b946d1f0acd118c59bd2f0e8f7d824"><div class="ttname"><a href="classAP__MotorsHeli__Swash.html#a22b946d1f0acd118c59bd2f0e8f7d824">AP_MotorsHeli_Swash::calculate</a></div><div class="ttdeci">void calculate(float roll, float pitch, float collective)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Swash_8cpp_source.html#l00215">AP_MotorsHeli_Swash.cpp:215</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Swash_html_a33a98d1945d1064960fbe997242c8e08"><div class="ttname"><a href="classAP__MotorsHeli__Swash.html#a33a98d1945d1064960fbe997242c8e08">AP_MotorsHeli_Swash::get_swash_type</a></div><div class="ttdeci">SwashPlateType get_swash_type() const</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Swash_8h_source.html#l00028">AP_MotorsHeli_Swash.h:28</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Swash_html_a3fe8a3c35a811bcb99609e769c8f7e4f"><div class="ttname"><a href="classAP__MotorsHeli__Swash.html#a3fe8a3c35a811bcb99609e769c8f7e4f">AP_MotorsHeli_Swash::output</a></div><div class="ttdeci">void output()</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Swash_8cpp_source.html#l00255">AP_MotorsHeli_Swash.cpp:255</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Swash_html_a6f669cda1b14e12302b1b3ebf7cdc5ab"><div class="ttname"><a href="classAP__MotorsHeli__Swash.html#a6f669cda1b14e12302b1b3ebf7cdc5ab">AP_MotorsHeli_Swash::get_output_mask</a></div><div class="ttdeci">uint32_t get_output_mask() const</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Swash_8cpp_source.html#l00276">AP_MotorsHeli_Swash.cpp:276</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Swash_html_af16e678ba5e57798de5de41116d1a3b4"><div class="ttname"><a href="classAP__MotorsHeli__Swash.html#af16e678ba5e57798de5de41116d1a3b4">AP_MotorsHeli_Swash::get_phase_angle</a></div><div class="ttdeci">int16_t get_phase_angle() const</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Swash_8h_source.html#l00037">AP_MotorsHeli_Swash.h:37</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html"><div class="ttname"><a href="classAP__MotorsHeli.html">AP_MotorsHeli</a></div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00039">AP_MotorsHeli.h:39</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a0611e84b3e62261e3381289f7b4e280c"><div class="ttname"><a href="classAP__MotorsHeli.html#a0611e84b3e62261e3381289f7b4e280c">AP_MotorsHeli::get_control_output</a></div><div class="ttdeci">float get_control_output() const</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00103">AP_MotorsHeli.h:103</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a229f1fd270a23534043885bbc674aa3a"><div class="ttname"><a href="classAP__MotorsHeli.html#a229f1fd270a23534043885bbc674aa3a">AP_MotorsHeli::_collective_zero_thrust_deg</a></div><div class="ttdeci">AP_Float _collective_zero_thrust_deg</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00268">AP_MotorsHeli.h:268</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a3542b3ce4b6a87fe03a32d8278913ffa"><div class="ttname"><a href="classAP__MotorsHeli.html#a3542b3ce4b6a87fe03a32d8278913ffa">AP_MotorsHeli::_collective_land_min_deg</a></div><div class="ttdeci">AP_Float _collective_land_min_deg</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00269">AP_MotorsHeli.h:269</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a372ef59a8edcf950ff5ff4f1bcf13571"><div class="ttname"><a href="classAP__MotorsHeli.html#a372ef59a8edcf950ff5ff4f1bcf13571">AP_MotorsHeli::_collective_max</a></div><div class="ttdeci">AP_Int16 _collective_max</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00262">AP_MotorsHeli.h:262</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a4dbab26c560a82f5a26f4bd3fb307e2c"><div class="ttname"><a href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">AP_MotorsHeli::_main_rotor</a></div><div class="ttdeci">AP_MotorsHeli_RSC _main_rotor</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00185">AP_MotorsHeli.h:185</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a57451b83ffd98c2ec06dbc92610f5ade"><div class="ttname"><a href="classAP__MotorsHeli.html#a57451b83ffd98c2ec06dbc92610f5ade">AP_MotorsHeli::update_takeoff_collective_flag</a></div><div class="ttdeci">void update_takeoff_collective_flag(float coll_out)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8cpp_source.html#l00476">AP_MotorsHeli.cpp:476</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a681e1032cb75a6cd1072b2c060701cdb"><div class="ttname"><a href="classAP__MotorsHeli.html#a681e1032cb75a6cd1072b2c060701cdb">AP_MotorsHeli::_servo_test_cycle_counter</a></div><div class="ttdeci">uint8_t _servo_test_cycle_counter</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00276">AP_MotorsHeli.h:276</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a6abf37ce818bf3317e80b69377a5a14a"><div class="ttname"><a href="classAP__MotorsHeli.html#a6abf37ce818bf3317e80b69377a5a14a">AP_MotorsHeli::_collective_min</a></div><div class="ttdeci">AP_Int16 _collective_min</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00261">AP_MotorsHeli.h:261</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a6b1ea5d5d974ee9796086b26815d0b1a"><div class="ttname"><a href="classAP__MotorsHeli.html#a6b1ea5d5d974ee9796086b26815d0b1a">AP_MotorsHeli::_frame_class</a></div><div class="ttdeci">motor_frame_class _frame_class</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00279">AP_MotorsHeli.h:279</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a925cc56a1a581f42507ac39218e26632a9a0cd8b8b01a7a8369c12df193d8f4e2"><div class="ttname"><a href="classAP__MotorsHeli.html#a925cc56a1a581f42507ac39218e26632a9a0cd8b8b01a7a8369c12df193d8f4e2">AP_MotorsHeli::SERVO_CONTROL_MODE_AUTOMATED</a></div><div class="ttdeci">@ SERVO_CONTROL_MODE_AUTOMATED</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00172">AP_MotorsHeli.h:172</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a946467f33d7d0e01d7adffefafdebafa"><div class="ttname"><a href="classAP__MotorsHeli.html#a946467f33d7d0e01d7adffefafdebafa">AP_MotorsHeli::_collective_min_deg</a></div><div class="ttdeci">AP_Float _collective_min_deg</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00271">AP_MotorsHeli.h:271</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a94b072334fcf06cfe3ae5977fafebaf4"><div class="ttname"><a href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">AP_MotorsHeli::_heliflags</a></div><div class="ttdeci">struct AP_MotorsHeli::heliflags_type _heliflags</div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_aaed6411adeface8fd4b0078a8c6f7445"><div class="ttname"><a href="classAP__MotorsHeli.html#aaed6411adeface8fd4b0078a8c6f7445">AP_MotorsHeli::_collective_zero_thrust_pct</a></div><div class="ttdeci">float _collective_zero_thrust_pct</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00274">AP_MotorsHeli.h:274</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_aafd84af3b1560f7b86bd2b68344c615c"><div class="ttname"><a href="classAP__MotorsHeli.html#aafd84af3b1560f7b86bd2b68344c615c">AP_MotorsHeli::_servo_mode</a></div><div class="ttdeci">AP_Int8 _servo_mode</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00263">AP_MotorsHeli.h:263</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_ab63a34a6f966cabf867ca1f6ce49a5e1"><div class="ttname"><a href="classAP__MotorsHeli.html#ab63a34a6f966cabf867ca1f6ce49a5e1">AP_MotorsHeli::get_rotor_control_state</a></div><div class="ttdeci">AP_MotorsHeli_RSC::RotorControlState get_rotor_control_state() const</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8cpp_source.html#l00580">AP_MotorsHeli.cpp:580</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_ac506d005ab74fdd87c5ed878ef4cb388"><div class="ttname"><a href="classAP__MotorsHeli.html#ac506d005ab74fdd87c5ed878ef4cb388">AP_MotorsHeli::arming_checks</a></div><div class="ttdeci">bool arming_checks(size_t buflen, char *buffer) const override</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8cpp_source.html#l00502">AP_MotorsHeli.cpp:502</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_ad9d651d8d68486a820d62950ebc5164f"><div class="ttname"><a href="classAP__MotorsHeli.html#ad9d651d8d68486a820d62950ebc5164f">AP_MotorsHeli::_cyclic_max</a></div><div class="ttdeci">AP_Int16 _cyclic_max</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00260">AP_MotorsHeli.h:260</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_adb52106b2ca4bfbeee13d675c69891a9"><div class="ttname"><a href="classAP__MotorsHeli.html#adb52106b2ca4bfbeee13d675c69891a9">AP_MotorsHeli::_collective_land_min_pct</a></div><div class="ttdeci">float _collective_land_min_pct</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00275">AP_MotorsHeli.h:275</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_adcf40cee4254ffd6581de67ba17b6358"><div class="ttname"><a href="classAP__MotorsHeli.html#adcf40cee4254ffd6581de67ba17b6358">AP_MotorsHeli::_collective_max_deg</a></div><div class="ttdeci">AP_Float _collective_max_deg</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00270">AP_MotorsHeli.h:270</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a0c24486701885def1e9fc2dfc4680e7d"><div class="ttname"><a href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">AP_Motors::_dt</a></div><div class="ttdeci">float _dt</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00313">AP_Motors_Class.h:313</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a100eeeda368fceb91a74f6ec4176bb11a40badbb2bca8336d5c737768cc0db265"><div class="ttname"><a href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a40badbb2bca8336d5c737768cc0db265">AP_Motors::SpoolState::SPOOLING_DOWN</a></div><div class="ttdeci">@ SPOOLING_DOWN</div></div>
<div class="ttc" id="aclassAP__Motors_html_a100eeeda368fceb91a74f6ec4176bb11a6113eb55b67576efc0e9d9d323778a9c"><div class="ttname"><a href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a6113eb55b67576efc0e9d9d323778a9c">AP_Motors::SpoolState::SPOOLING_UP</a></div><div class="ttdeci">@ SPOOLING_UP</div></div>
<div class="ttc" id="aclassAP__Motors_html_a100eeeda368fceb91a74f6ec4176bb11a7e129e38b98ca1e41fa3861938d6c0e2"><div class="ttname"><a href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a7e129e38b98ca1e41fa3861938d6c0e2">AP_Motors::SpoolState::SHUT_DOWN</a></div><div class="ttdeci">@ SHUT_DOWN</div></div>
<div class="ttc" id="aclassAP__Motors_html_a100eeeda368fceb91a74f6ec4176bb11aa70e75e89c86a67aea72b59d4f6fcedb"><div class="ttname"><a href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11aa70e75e89c86a67aea72b59d4f6fcedb">AP_Motors::SpoolState::THROTTLE_UNLIMITED</a></div><div class="ttdeci">@ THROTTLE_UNLIMITED</div></div>
<div class="ttc" id="aclassAP__Motors_html_a100eeeda368fceb91a74f6ec4176bb11adcf419d8df609385bfcde58697857178"><div class="ttname"><a href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11adcf419d8df609385bfcde58697857178">AP_Motors::SpoolState::GROUND_IDLE</a></div><div class="ttdeci">@ GROUND_IDLE</div></div>
<div class="ttc" id="aclassAP__Motors_html_a191acbe0acedd563d2740eb25d150a17"><div class="ttname"><a href="classAP__Motors.html#a191acbe0acedd563d2740eb25d150a17">AP_Motors::_roll_in</a></div><div class="ttdeci">float _roll_in</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00315">AP_Motors_Class.h:315</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a1d624c6828c0843a8475a122d47afaac"><div class="ttname"><a href="classAP__Motors.html#a1d624c6828c0843a8475a122d47afaac">AP_Motors::initialised_ok</a></div><div class="ttdeci">bool initialised_ok() const</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00116">AP_Motors_Class.h:116</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a1f4b25d114f7a8612364bb020e77cc67"><div class="ttname"><a href="classAP__Motors.html#a1f4b25d114f7a8612364bb020e77cc67">AP_Motors::_pitch_in</a></div><div class="ttdeci">float _pitch_in</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00317">AP_Motors_Class.h:317</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a3d84a895c644d34e7fe78d7301ccf534"><div class="ttname"><a href="classAP__Motors.html#a3d84a895c644d34e7fe78d7301ccf534">AP_Motors::rc_set_freq</a></div><div class="ttdeci">virtual void rc_set_freq(uint32_t mask, uint16_t freq_hz)</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8cpp_source.html#l00128">AP_Motors_Class.cpp:128</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a51384f220b671edba943b329dfa1bc7b"><div class="ttname"><a href="classAP__Motors.html#a51384f220b671edba943b329dfa1bc7b">AP_Motors::rc_write_angle</a></div><div class="ttdeci">virtual void rc_write_angle(uint8_t chan, int16_t angle_cd)</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8cpp_source.html#l00119">AP_Motors_Class.cpp:119</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a54a436586a970d55788b909fc69d7a0c"><div class="ttname"><a href="classAP__Motors.html#a54a436586a970d55788b909fc69d7a0c">AP_Motors::_speed_hz</a></div><div class="ttdeci">uint16_t _speed_hz</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00314">AP_Motors_Class.h:314</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a67a133570ae075a874c6522b23c5261b"><div class="ttname"><a href="classAP__Motors.html#a67a133570ae075a874c6522b23c5261b">AP_Motors::armed</a></div><div class="ttdeci">bool armed() const</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00120">AP_Motors_Class.h:120</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a67c3d8b0e216ff11e444992571fa10c3a7191c8771005a12bbda261b3aecc51e5"><div class="ttname"><a href="classAP__Motors.html#a67c3d8b0e216ff11e444992571fa10c3a7191c8771005a12bbda261b3aecc51e5">AP_Motors::MOTOR_FRAME_HELI</a></div><div class="ttdeci">@ MOTOR_FRAME_HELI</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00066">AP_Motors_Class.h:66</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_aa6dd949317fd0d3e44e10b00a4cdece5"><div class="ttname"><a href="classAP__Motors.html#aa6dd949317fd0d3e44e10b00a4cdece5">AP_Motors::set_initialised_ok</a></div><div class="ttdeci">void set_initialised_ok(bool val)</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00117">AP_Motors_Class.h:117</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_aaa7607c19a1ce444330aee972dd925ef"><div class="ttname"><a href="classAP__Motors.html#aaa7607c19a1ce444330aee972dd925ef">AP_Motors::rc_write</a></div><div class="ttdeci">virtual void rc_write(uint8_t chan, uint16_t pwm)</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8cpp_source.html#l00105">AP_Motors_Class.cpp:105</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_aafeb2d0a52ac147cb7a06d82cbd9ec2a"><div class="ttname"><a href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">AP_Motors::limit</a></div><div class="ttdeci">struct AP_Motors::AP_Motors_limit limit</div></div>
<div class="ttc" id="aclassAP__Motors_html_ab3685c6a458e9d7d763f5b24054484d0"><div class="ttname"><a href="classAP__Motors.html#ab3685c6a458e9d7d763f5b24054484d0">AP_Motors::_throttle_filter</a></div><div class="ttdeci">LowPassFilterFloat _throttle_filter</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00327">AP_Motors_Class.h:327</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_ad0a73edfaa0d7b5c4f325a823c7781f4"><div class="ttname"><a href="classAP__Motors.html#ad0a73edfaa0d7b5c4f325a823c7781f4">AP_Motors::add_motor_num</a></div><div class="ttdeci">void add_motor_num(int8_t motor_num)</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8cpp_source.html#l00204">AP_Motors_Class.cpp:204</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_ad4cc725aa3bc4553ed41ce186b5e520a"><div class="ttname"><a href="classAP__Motors.html#ad4cc725aa3bc4553ed41ce186b5e520a">AP_Motors::_yaw_in</a></div><div class="ttdeci">float _yaw_in</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00319">AP_Motors_Class.h:319</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_aeb6348556f3e0f7ba016c8acaa0e4adc"><div class="ttname"><a href="classAP__Motors.html#aeb6348556f3e0f7ba016c8acaa0e4adc">AP_Motors::_spool_state</a></div><div class="ttdeci">SpoolState _spool_state</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00331">AP_Motors_Class.h:331</a></div></div>
<div class="ttc" id="aclassLowPassFilter_html_adad51ea3b156f167fff0fb586a912cb5"><div class="ttname"><a href="classLowPassFilter.html#adad51ea3b156f167fff0fb586a912cb5">LowPassFilter::reset</a></div><div class="ttdeci">void reset(T value)</div><div class="ttdef"><b>Definition</b> <a href="LowPassFilter_8cpp_source.html#l00133">LowPassFilter.cpp:133</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html"><div class="ttname"><a href="classSRV__Channel.html">SRV_Channel</a></div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00037">SRV_Channel.h:37</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_a5884a2e91f299fec204b26178b99b3df"><div class="ttname"><a href="classSRV__Channel.html#a5884a2e91f299fec204b26178b99b3df">SRV_Channel::get_output_min</a></div><div class="ttdeci">uint16_t get_output_min(void) const</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00239">SRV_Channel.h:239</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_a7d0f8071d6ba54db1985a1515b2b3a97"><div class="ttname"><a href="classSRV__Channel.html#a7d0f8071d6ba54db1985a1515b2b3a97">SRV_Channel::get_trim</a></div><div class="ttdeci">uint16_t get_trim(void) const</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00245">SRV_Channel.h:245</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_a86fdf4fa1eaa8f844eccb555359aa129a26a4b44a837bf97b972628509912b4a5"><div class="ttname"><a href="classSRV__Channel.html#a86fdf4fa1eaa8f844eccb555359aa129a26a4b44a837bf97b972628509912b4a5">SRV_Channel::Limit::MAX</a></div><div class="ttdeci">@ MAX</div></div>
<div class="ttc" id="aclassSRV__Channel_html_a86fdf4fa1eaa8f844eccb555359aa129ace31e2a082d17e038fcc6e3006166653"><div class="ttname"><a href="classSRV__Channel.html#a86fdf4fa1eaa8f844eccb555359aa129ace31e2a082d17e038fcc6e3006166653">SRV_Channel::Limit::MIN</a></div><div class="ttdeci">@ MIN</div></div>
<div class="ttc" id="aclassSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a323602c02b20f75a236c749e83dcb3c3"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a323602c02b20f75a236c749e83dcb3c3">SRV_Channel::k_motor4</a></div><div class="ttdeci">@ k_motor4</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00085">SRV_Channel.h:85</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a9092e3ef14fd05ed3913977030258cda"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a9092e3ef14fd05ed3913977030258cda">SRV_Channel::k_engine_run_enable</a></div><div class="ttdeci">@ k_engine_run_enable</div><div class="ttdoc">engine kill switch, used for gas airplanes and helicopters</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00079">SRV_Channel.h:79</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_ab4ab7b27c467ed419b9c3a36412b0fb9"><div class="ttname"><a href="classSRV__Channel.html#ab4ab7b27c467ed419b9c3a36412b0fb9">SRV_Channel::get_output_max</a></div><div class="ttdeci">uint16_t get_output_max(void) const</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00242">SRV_Channel.h:242</a></div></div>
<div class="ttc" id="aclassSRV__Channels_html_a06cf1d6d4bd8b1971c333184bb4bcb55"><div class="ttname"><a href="classSRV__Channels.html#a06cf1d6d4bd8b1971c333184bb4bcb55">SRV_Channels::set_output_scaled</a></div><div class="ttdeci">static void set_output_scaled(SRV_Channel::Aux_servo_function_t function, float value)</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel__aux_8cpp_source.html#l00592">SRV_Channel_aux.cpp:592</a></div></div>
<div class="ttc" id="aclassSRV__Channels_html_a7522c0412b2174273d656caec3c55317"><div class="ttname"><a href="classSRV__Channels.html#a7522c0412b2174273d656caec3c55317">SRV_Channels::set_angle</a></div><div class="ttdeci">static void set_angle(SRV_Channel::Aux_servo_function_t function, uint16_t angle)</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel__aux_8cpp_source.html#l00808">SRV_Channel_aux.cpp:808</a></div></div>
<div class="ttc" id="aclassSRV__Channels_html_aa2626631db73931bb32210314aed1c65"><div class="ttname"><a href="classSRV__Channels.html#aa2626631db73931bb32210314aed1c65">SRV_Channels::set_output_min_max</a></div><div class="ttdeci">static void set_output_min_max(SRV_Channel::Aux_servo_function_t function, uint16_t min_pwm, uint16_t max_pwm)</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel__aux_8cpp_source.html#l00828">SRV_Channel_aux.cpp:828</a></div></div>
<div class="ttc" id="aclassSRV__Channels_html_abb96588c0eee11dfc494281777730c8b"><div class="ttname"><a href="classSRV__Channels.html#abb96588c0eee11dfc494281777730c8b">SRV_Channels::get_channel_for</a></div><div class="ttdeci">static SRV_Channel * get_channel_for(SRV_Channel::Aux_servo_function_t function)</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel__aux_8cpp_source.html#l00583">SRV_Channel_aux.cpp:583</a></div></div>
<div class="ttc" id="aclassSRV__Channels_html_acab9e1aba9fcbde6e598169af5b3181f"><div class="ttname"><a href="classSRV__Channels.html#acab9e1aba9fcbde6e598169af5b3181f">SRV_Channels::get_motor_function</a></div><div class="ttdeci">static SRV_Channel::Aux_servo_function_t get_motor_function(uint8_t channel)</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00528">SRV_Channel.h:528</a></div></div>
<div class="ttc" id="aclassSRV__Channels_html_adba039e2df3bb2c744f8b8590581827f"><div class="ttname"><a href="classSRV__Channels.html#adba039e2df3bb2c744f8b8590581827f">SRV_Channels::set_range</a></div><div class="ttdeci">static void set_range(SRV_Channel::Aux_servo_function_t function, uint16_t range)</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel__aux_8cpp_source.html#l00818">SRV_Channel_aux.cpp:818</a></div></div>
<div class="ttc" id="aclassSRV__Channels_html_aff9ab18c996b319de867b4e87b75d4e5"><div class="ttname"><a href="classSRV__Channels.html#aff9ab18c996b319de867b4e87b75d4e5">SRV_Channels::set_output_limit</a></div><div class="ttdeci">static void set_output_limit(SRV_Channel::Aux_servo_function_t function, SRV_Channel::Limit limit)</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel__aux_8cpp_source.html#l00475">SRV_Channel_aux.cpp:475</a></div></div>
<div class="ttc" id="aclassThrust__Linearization_html"><div class="ttname"><a href="classThrust__Linearization.html">Thrust_Linearization</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Thrust__Linearization_8h_source.html#l00007">AP_Motors_Thrust_Linearization.h:7</a></div></div>
<div class="ttc" id="aclassThrust__Linearization_html_a2bde89cc6e42e5135f0ad0d459ea32cf"><div class="ttname"><a href="classThrust__Linearization.html#a2bde89cc6e42e5135f0ad0d459ea32cf">Thrust_Linearization::thrust_to_actuator</a></div><div class="ttdeci">float thrust_to_actuator(float thrust_in) const</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Thrust__Linearization_8cpp_source.html#l00100">AP_Motors_Thrust_Linearization.cpp:100</a></div></div>
<div class="ttc" id="aclassThrust__Linearization_html_ad7de350d2606aa173c9a74f9c6cd4f59"><div class="ttname"><a href="classThrust__Linearization.html#ad7de350d2606aa173c9a74f9c6cd4f59">Thrust_Linearization::update_lift_max_from_batt_voltage</a></div><div class="ttdeci">void update_lift_max_from_batt_voltage()</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Thrust__Linearization_8cpp_source.html#l00152">AP_Motors_Thrust_Linearization.cpp:152</a></div></div>
<div class="ttc" id="adefinitions_8h_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="definitions_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdef"><b>Definition</b> <a href="definitions_8h_source.html#l00010">definitions.h:10</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_a0c30ba83758973bae63a9b0f515b995b"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#a0c30ba83758973bae63a9b0f515b995b">AP_MotorsHeli::heliflags_type::rotor_spooldown_complete</a></div><div class="ttdeci">uint8_t rotor_spooldown_complete</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00255">AP_MotorsHeli.h:255</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_a2419f82e97d52acf5410c1fc654f8888"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#a2419f82e97d52acf5410c1fc654f8888">AP_MotorsHeli::heliflags_type::enable_bailout</a></div><div class="ttdeci">uint8_t enable_bailout</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00250">AP_MotorsHeli.h:250</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_a2c566a23e7650f17c9375ae2a5119059"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#a2c566a23e7650f17c9375ae2a5119059">AP_MotorsHeli::heliflags_type::save_rsc_mode</a></div><div class="ttdeci">uint8_t save_rsc_mode</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00248">AP_MotorsHeli.h:248</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_a5edc094fa547a133e48b52ccae013b3e"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#a5edc094fa547a133e48b52ccae013b3e">AP_MotorsHeli::heliflags_type::below_land_min_coll</a></div><div class="ttdeci">uint8_t below_land_min_coll</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00254">AP_MotorsHeli.h:254</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_a76a09fed86331cc44469ad0d90e8867a"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#a76a09fed86331cc44469ad0d90e8867a">AP_MotorsHeli::heliflags_type::landing_collective</a></div><div class="ttdeci">uint8_t landing_collective</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00245">AP_MotorsHeli.h:245</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_a99ea09bf2b220cb66752a5e0d89c9ef2"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#a99ea09bf2b220cb66752a5e0d89c9ef2">AP_MotorsHeli::heliflags_type::rotor_runup_complete</a></div><div class="ttdeci">uint8_t rotor_runup_complete</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00246">AP_MotorsHeli.h:246</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_a9cd22561061579ae281aac2a92dc0042"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#a9cd22561061579ae281aac2a92dc0042">AP_MotorsHeli::heliflags_type::in_autorotation</a></div><div class="ttdeci">uint8_t in_autorotation</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00249">AP_MotorsHeli.h:249</a></div></div>
<div class="ttc" id="astructAP__Motors_1_1AP__Motors__limit_html_a44fcc5cc1c9a35b07f6a1add36edbac6"><div class="ttname"><a href="structAP__Motors_1_1AP__Motors__limit.html#a44fcc5cc1c9a35b07f6a1add36edbac6">AP_Motors::AP_Motors_limit::yaw</a></div><div class="ttdeci">bool yaw</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00203">AP_Motors_Class.h:203</a></div></div>
<div class="ttc" id="astructAP__Motors_1_1AP__Motors__limit_html_aa97af39fbb03d91e8eb0b566beadd4fe"><div class="ttname"><a href="structAP__Motors_1_1AP__Motors__limit.html#aa97af39fbb03d91e8eb0b566beadd4fe">AP_Motors::AP_Motors_limit::pitch</a></div><div class="ttdeci">bool pitch</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00202">AP_Motors_Class.h:202</a></div></div>
<div class="ttc" id="astructAP__Motors_1_1AP__Motors__limit_html_aab5d837b1dba97ce081478af57f63ce2"><div class="ttname"><a href="structAP__Motors_1_1AP__Motors__limit.html#aab5d837b1dba97ce081478af57f63ce2">AP_Motors::AP_Motors_limit::roll</a></div><div class="ttdeci">bool roll</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00201">AP_Motors_Class.h:201</a></div></div>
<div class="ttc" id="astructAP__Motors_1_1AP__Motors__limit_html_ac52a828197746fda049c092888a10c40"><div class="ttname"><a href="structAP__Motors_1_1AP__Motors__limit.html#ac52a828197746fda049c092888a10c40">AP_Motors::AP_Motors_limit::throttle_upper</a></div><div class="ttdeci">bool throttle_upper</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00205">AP_Motors_Class.h:205</a></div></div>
<div class="ttc" id="astructAP__Motors_1_1AP__Motors__limit_html_afd0229f4c5b9f51c174b3581dea3f51c"><div class="ttname"><a href="structAP__Motors_1_1AP__Motors__limit.html#afd0229f4c5b9f51c174b3581dea3f51c">AP_Motors::AP_Motors_limit::throttle_lower</a></div><div class="ttdeci">bool throttle_lower</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00204">AP_Motors_Class.h:204</a></div></div>
<div class="ttc" id="astructAP__Param_1_1GroupInfo_html"><div class="ttname"><a href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00199">AP_Param.h:199</a></div></div>
<div class="ttc" id="astructtype_html"><div class="ttname"><a href="structtype.html">type</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Scripting_2generator_2src_2main_8c_source.html#l00163">main.c:163</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 22 2024 16:14:14 for APM:Libraries by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
