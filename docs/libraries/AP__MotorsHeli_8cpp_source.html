<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>APM:Libraries: libraries/AP_Motors/AP_MotorsHeli.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">APM:Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_e2208a4dfd218f697a2a26cf1e819f73.html">AP_Motors</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">AP_MotorsHeli.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="AP__MotorsHeli_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">   This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">   it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">   the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">   (at your option) any later version.</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"></span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">   This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">   GNU General Public License for more details.</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment"></span> </div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">   You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">   along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"> */</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;<a class="code" href="AP__HAL_8h.html">AP_HAL/AP_HAL.h</a>&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &quot;<a class="code" href="AP__MotorsHeli_8h.html">AP_MotorsHeli.h</a>&quot;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &lt;<a class="code" href="GCS_8h.html">GCS_MAVLink/GCS.h</a>&gt;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="keyword">extern</span> <span class="keyword">const</span> <a class="code hl_class" href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a>&amp; <a class="code hl_variable" href="AP__MotorsHeli_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>;</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span> </div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="keyword">const</span> <a class="code hl_struct" href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a> <a class="code hl_variable" href="classAP__MotorsHeli.html#aadcd5ecaff42905d30c9e038300482b6">AP_MotorsHeli::var_info</a>[] = {</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span> </div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>    <span class="comment">// 1 was ROL_MAX which has been replaced by CYC_MAX</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span> </div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>    <span class="comment">// 2 was PIT_MAX which has been replaced by CYC_MAX</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span> </div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>    <span class="comment">// @Param: COL_MIN</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>    <span class="comment">// @DisplayName: Minimum Collective Pitch</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>    <span class="comment">// @Description: Lowest possible servo position in PWM microseconds for the swashplate</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>    <span class="comment">// @Range: 1000 2000</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>    <span class="comment">// @Units: PWM</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    <span class="comment">// @Increment: 1</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;COL_MIN&quot;</span>, 3, <a class="code hl_class" href="classAP__MotorsHeli.html">AP_MotorsHeli</a>, _collective_min, <a class="code hl_define" href="AP__MotorsHeli_8h.html#aaa0a7ad796ec7b2416f3afa84534bea7">AP_MOTORS_HELI_COLLECTIVE_MIN</a>),</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>    <span class="comment">// @Param: COL_MAX</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>    <span class="comment">// @DisplayName: Maximum Collective Pitch</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    <span class="comment">// @Description: Highest possible servo position in PWM microseconds for the swashplate</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    <span class="comment">// @Range: 1000 2000</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    <span class="comment">// @Units: PWM</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>    <span class="comment">// @Increment: 1</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;COL_MAX&quot;</span>, 4, <a class="code hl_class" href="classAP__MotorsHeli.html">AP_MotorsHeli</a>, _collective_max, <a class="code hl_define" href="AP__MotorsHeli_8h.html#a2d874d74f7f67ba067290f76a7455059">AP_MOTORS_HELI_COLLECTIVE_MAX</a>),</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span> </div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    <span class="comment">// index 5 was COL_MID. Do not use this index in the future.</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span> </div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    <span class="comment">// @Param: SV_MAN</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>    <span class="comment">// @DisplayName: Manual Servo Mode</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    <span class="comment">// @Description: Manual servo override for swash set-up. Must be 0 (Disabled) for flight!</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    <span class="comment">// @Values: 0:Disabled,1:Passthrough,2:Max collective,3:Zero thrust collective,4:Min collective</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;SV_MAN&quot;</span>,  6, <a class="code hl_class" href="classAP__MotorsHeli.html">AP_MotorsHeli</a>, _servo_mode, SERVO_CONTROL_MODE_AUTOMATED),</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span> </div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>    <span class="comment">// indices 7 and 8 were RSC parameters which were moved to RSC library. Do not use these indices in the future.</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span> </div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    <span class="comment">// index 9 was LAND_COL_MIN. Do not use this index in the future.</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span> </div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <span class="comment">// indices 10-13 were RSC parameters which were moved to RSC library. Do not use these indices in the future.</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span> </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    <span class="comment">// index 14 was RSC_POWER_LOW. Do not use this index in the future.</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span> </div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>    <span class="comment">// index 15 was RSC_POWER_HIGH. Do not use this index in the future.</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> </div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>    <span class="comment">// @Param: CYC_MAX</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <span class="comment">// @DisplayName: Maximum Cyclic Pitch Angle</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    <span class="comment">// @Description: Maximum cyclic pitch angle of the swash plate.  There are no units to this parameter.  This should be adjusted to get the desired cyclic blade pitch for the pitch and roll axes.  Typically this should be 6-7 deg (measured blade pitch angle difference between stick centered and stick max deflection.</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    <span class="comment">// @Range: 0 4500</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    <span class="comment">// @Increment: 100</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;CYC_MAX&quot;</span>, 16, <a class="code hl_class" href="classAP__MotorsHeli.html">AP_MotorsHeli</a>, _cyclic_max, <a class="code hl_define" href="AP__MotorsHeli_8h.html#ad32e9c97d19b74060e718c7b46412d25">AP_MOTORS_HELI_SWASH_CYCLIC_MAX</a>),</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span> </div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    <span class="comment">// @Param: SV_TEST</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    <span class="comment">// @DisplayName: Boot-up Servo Test Cycles</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    <span class="comment">// @Description: Number of cycles to run servo test on boot-up</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    <span class="comment">// @Range: 0 10</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>    <span class="comment">// @Increment: 1</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;SV_TEST&quot;</span>,  17, <a class="code hl_class" href="classAP__MotorsHeli.html">AP_MotorsHeli</a>, _servo_test, 0),</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span> </div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    <span class="comment">// index 18 was RSC_POWER_NEGC. Do not use this index in the future.</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    <span class="comment">// index 19 was RSC_SLEWRATE and was moved to RSC library. Do not use this index in the future.</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span> </div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    <span class="comment">// indices 20 to 24 was throttle curve. Do not use this index in the future.</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span> </div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    <span class="comment">// @Group: RSC_</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <span class="comment">// @Path: AP_MotorsHeli_RSC.cpp</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>    <a class="code hl_define" href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a>(_main_rotor, <span class="stringliteral">&quot;RSC_&quot;</span>, 25, <a class="code hl_class" href="classAP__MotorsHeli.html">AP_MotorsHeli</a>, <a class="code hl_class" href="classAP__MotorsHeli__RSC.html">AP_MotorsHeli_RSC</a>),</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span> </div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    <span class="comment">// @Param: COL_HOVER</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>    <span class="comment">// @DisplayName: Collective Hover Value</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <span class="comment">// @Description: Collective needed to hover expressed as a number from 0 to 1 where 0 is H_COL_MIN and 1 is H_COL_MAX</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    <span class="comment">// @Range: 0.3 0.8</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;COL_HOVER&quot;</span>, 26, <a class="code hl_class" href="classAP__MotorsHeli.html">AP_MotorsHeli</a>, _collective_hover, <a class="code hl_define" href="AP__MotorsHeli_8h.html#a58f8d4c8ef7f1d51aebb71e2a66a1a08">AP_MOTORS_HELI_COLLECTIVE_HOVER_DEFAULT</a>),</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span> </div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    <span class="comment">// @Param: HOVER_LEARN</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <span class="comment">// @DisplayName: Hover Value Learning</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <span class="comment">// @Description: Enable/Disable automatic learning of hover collective</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <span class="comment">// @Values: 0:Disabled, 1:Learn, 2:Learn and Save</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;HOVER_LEARN&quot;</span>, 27, <a class="code hl_class" href="classAP__MotorsHeli.html">AP_MotorsHeli</a>, _collective_hover_learn, HOVER_LEARN_AND_SAVE),</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span> </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    <span class="comment">// @Param: OPTIONS</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    <span class="comment">// @DisplayName: Heli_Options</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    <span class="comment">// @Description: Bitmask of heli options.  Bit 0 changes how the pitch, roll, and yaw axis integrator term is managed for low speed and takeoff/landing. In AC 4.0 and earlier, scheme uses a leaky integrator for ground speeds less than 5 m/s and won&#39;t let the steady state integrator build above ILMI. The integrator is allowed to build to the ILMI value when it is landed.  The other integrator management scheme bases integrator limiting on takeoff and landing.  Whenever the aircraft is landed the integrator is set to zero.  When the aicraft is airborne, the integrator is only limited by IMAX. </span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    <span class="comment">// @Bitmask: 0:Use Leaky I</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;OPTIONS&quot;</span>, 28, <a class="code hl_class" href="classAP__MotorsHeli.html">AP_MotorsHeli</a>, _heli_options, (uint8_t)HeliOption::USE_LEAKY_I),</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <span class="comment">// @Param: COL_ANG_MIN</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <span class="comment">// @DisplayName: Collective Blade Pitch Angle Minimum</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <span class="comment">// @Description: Minimum collective blade pitch angle in deg that corresponds to the PWM set for minimum collective pitch (H_COL_MIN).</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    <span class="comment">// @Range: -20 0</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="comment">// @Units: deg</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;COL_ANG_MIN&quot;</span>, 29, <a class="code hl_class" href="classAP__MotorsHeli.html">AP_MotorsHeli</a>, _collective_min_deg, <a class="code hl_define" href="AP__MotorsHeli_8h.html#af01c226c868fc746fb3a53453e99c32c">AP_MOTORS_HELI_COLLECTIVE_MIN_DEG</a>),</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span> </div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    <span class="comment">// @Param: COL_ANG_MAX</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    <span class="comment">// @DisplayName: Collective Blade Pitch Angle Maximum</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    <span class="comment">// @Description: Maximum collective blade pitch angle in deg that corresponds to the PWM set for maximum collective pitch (H_COL_MAX).</span></div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="comment">// @Range: 5 20</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="comment">// @Units: deg</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;COL_ANG_MAX&quot;</span>, 30, <a class="code hl_class" href="classAP__MotorsHeli.html">AP_MotorsHeli</a>, _collective_max_deg, <a class="code hl_define" href="AP__MotorsHeli_8h.html#a682b94b65ee841e6bc5f0e6602010921">AP_MOTORS_HELI_COLLECTIVE_MAX_DEG</a>),</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    <span class="comment">// @Param: COL_ZERO_THRST</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <span class="comment">// @DisplayName: Collective Blade Pitch at Zero Thrust</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="comment">// @Description: Collective blade pitch angle at zero thrust in degrees. For symetric airfoil blades this value is zero deg. For chambered airfoil blades this value is typically negative.</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="comment">// @Range: -5 0</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="comment">// @Units: deg</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;COL_ZERO_THRST&quot;</span>, 31, <a class="code hl_class" href="classAP__MotorsHeli.html">AP_MotorsHeli</a>, _collective_zero_thrust_deg, 0.0f),</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span> </div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <span class="comment">// @Param: COL_LAND_MIN</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    <span class="comment">// @DisplayName: Collective Blade Pitch Minimum when Landed</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <span class="comment">// @Description: Minimum collective blade pitch angle when landed in degrees for non-manual collective modes (i.e. modes that use altitude hold).</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <span class="comment">// @Range: -5 0</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="comment">// @Units: deg</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;COL_LAND_MIN&quot;</span>, 32, <a class="code hl_class" href="classAP__MotorsHeli.html">AP_MotorsHeli</a>, _collective_land_min_deg, <a class="code hl_define" href="AP__MotorsHeli_8h.html#a16c294b5a6a507cbb730b5174d77c98e">AP_MOTORS_HELI_COLLECTIVE_LAND_MIN</a>),</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span> </div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    <a class="code hl_define" href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>};</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span> </div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span><span class="comment">//</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span><span class="comment">// public methods</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span><span class="comment">//</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span><span class="comment">// init</span></div>
<div class="foldopen" id="foldopen00157" data-start="{" data-end="}">
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli.html#a2edf6b6e313439cf704151c7ce69aea7">  157</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli.html#a2edf6b6e313439cf704151c7ce69aea7">AP_MotorsHeli::init</a>(<a class="code hl_enumeration" href="classAP__Motors.html#a67c3d8b0e216ff11e444992571fa10c3">motor_frame_class</a> frame_class, <a class="code hl_enumeration" href="classAP__Motors.html#aafc151f2cc805a1b17e9ec2cbe36037c">motor_frame_type</a> frame_type)</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>{</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    <span class="comment">// remember frame class and type</span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#a79ba4ca80616d3636b945f3c96f10508">_frame_type</a> = frame_type;</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#a6b1ea5d5d974ee9796086b26815d0b1a">_frame_class</a> = frame_class;</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span> </div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="comment">// set update rate</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <a class="code hl_function" href="classAP__MotorsHeli.html#a30ff2684527b3abb34fc6388bb9d3f7f">set_update_rate</a>(<a class="code hl_variable" href="classAP__Motors.html#a54a436586a970d55788b909fc69d7a0c">_speed_hz</a>);</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span> </div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    <span class="comment">// load boot-up servo test cycles into counter to be consumed</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#a681e1032cb75a6cd1072b2c060701cdb">_servo_test_cycle_counter</a> = <a class="code hl_variable" href="classAP__MotorsHeli.html#a924990fa7731d3b5dd437ba90ba2a77f">_servo_test</a>;</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span> </div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <span class="comment">// ensure inputs are not passed through to servos on start-up</span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#aafd84af3b1560f7b86bd2b68344c615c">_servo_mode</a>.set(<a class="code hl_enumvalue" href="classAP__MotorsHeli.html#a925cc56a1a581f42507ac39218e26632a9a0cd8b8b01a7a8369c12df193d8f4e2">SERVO_CONTROL_MODE_AUTOMATED</a>);</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span> </div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <span class="comment">// initialise radio passthrough for collective to middle</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <a class="code hl_variable" href="classAP__Motors.html#a6712c59a48d46d6af2c7dd6b11a57abb">_throttle_radio_passthrough</a> = 0.5f;</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="comment">// initialise Servo/PWM ranges and endpoints</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <a class="code hl_function" href="classAP__MotorsHeli.html#a661837bc0cce230aa991f7068e3b58d2">init_outputs</a>();</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    <span class="comment">// calculate all scalars</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    <a class="code hl_function" href="classAP__MotorsHeli.html#a3b035659d70ab36f882f7c9871074b0c">calculate_scalars</a>();</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span> </div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <span class="comment">// set flag to true so targets are initialized once aircraft is armed for first time</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a7a5a1186398b83f33e2c978eebaf431c">init_targets_on_arming</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span> </div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    <a class="code hl_variable" href="classAP__Motors.html#ae0d87b2d97a5847884e4925b1a52a872">_mav_type</a> = MAV_TYPE_HELICOPTER;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>}</div>
</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span> </div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span><span class="comment">// output_min - sets servos to neutral point with motors stopped</span></div>
<div class="foldopen" id="foldopen00188" data-start="{" data-end="}">
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli.html#a5a05a6fdf12a55183dce4a46784b5255">  188</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli.html#a5a05a6fdf12a55183dce4a46784b5255">AP_MotorsHeli::output_min</a>()</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>{</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>    <span class="comment">// move swash to mid</span></div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    <a class="code hl_function" href="classAP__MotorsHeli.html#ab71c94d1850c9749dc45388b3b4578de">move_actuators</a>(0.0f,0.0f,0.5f,0.0f);</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span> </div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <a class="code hl_function" href="classAP__MotorsHeli.html#ae3f3c61761c63d6205e813fd24608367">update_motor_control</a>(<a class="code hl_enumvalue" href="classAP__MotorsHeli__RSC.html#aedbcba02e003b6a77f71d6112723e28ea615a46af313786fc4e349f34118be111">AP_MotorsHeli_RSC::RotorControlState::STOP</a>);</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span> </div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <span class="comment">// override limits flags</span></div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <a class="code hl_function" href="classAP__Motors.html#a1f6590eca66f57a5db90af7d42c46e2c">set_limit_flag_pitch_roll_yaw</a>(<span class="keyword">true</span>);</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#afd0229f4c5b9f51c174b3581dea3f51c">throttle_lower</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#ac52a828197746fda049c092888a10c40">throttle_upper</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>}</div>
</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span> </div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span><span class="comment">// output - sends commands to the servos</span></div>
<div class="foldopen" id="foldopen00202" data-start="{" data-end="}">
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli.html#ab9f72dd9a10890cdd5b284c339b5a043">  202</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli.html#ab9f72dd9a10890cdd5b284c339b5a043">AP_MotorsHeli::output</a>()</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>{</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    <span class="comment">// update throttle filter</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    <a class="code hl_function" href="classAP__MotorsHeli.html#a5b5a08b2aac5950f3a63119e5105b308">update_throttle_filter</a>();</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span> </div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    <span class="comment">// run spool logic</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    <a class="code hl_function" href="classAP__MotorsHeli.html#aed3aba296ec34d35571237e86fd60078">output_logic</a>();</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Motors.html#a67a133570ae075a874c6522b23c5261b">armed</a>()) {</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>        <span class="comment">// block servo_test from happening at disarm</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a681e1032cb75a6cd1072b2c060701cdb">_servo_test_cycle_counter</a> = 0;</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>        <a class="code hl_function" href="classAP__MotorsHeli.html#ad24b8feac8506219725a1d051edb744e">calculate_armed_scalars</a>();</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>        <a class="code hl_function" href="classAP__MotorsHeli.html#af9a8373c52a44382d0286efc792f52d5">output_armed_stabilizing</a>();</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>        <a class="code hl_function" href="classAP__MotorsHeli.html#a82bbdd9f88cb6a1e2ab13fafddafe639">output_disarmed</a>();</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    }</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span> </div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    <a class="code hl_function" href="classAP__MotorsHeli.html#ae822473fa28b098aec95b843c104be57">update_turbine_start</a>();</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span> </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    <a class="code hl_function" href="classAP__MotorsHeli.html#a040017a4dbd93c1fa44590615495aff4">output_to_motors</a>();</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span> </div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>};</div>
</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span> </div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span><span class="comment">// sends commands to the motors</span></div>
<div class="foldopen" id="foldopen00226" data-start="{" data-end="}">
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli.html#af9a8373c52a44382d0286efc792f52d5">  226</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli.html#af9a8373c52a44382d0286efc792f52d5">AP_MotorsHeli::output_armed_stabilizing</a>()</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>{</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <span class="comment">// if manual override active after arming, deactivate it and reinitialize servos</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#aafd84af3b1560f7b86bd2b68344c615c">_servo_mode</a> != <a class="code hl_enumvalue" href="classAP__MotorsHeli.html#a925cc56a1a581f42507ac39218e26632a9a0cd8b8b01a7a8369c12df193d8f4e2">SERVO_CONTROL_MODE_AUTOMATED</a>) {</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>        <a class="code hl_function" href="classAP__MotorsHeli.html#ade550578da44ebca78eca8323870142c">reset_flight_controls</a>();</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    }</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span> </div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <a class="code hl_function" href="classAP__MotorsHeli.html#ab71c94d1850c9749dc45388b3b4578de">move_actuators</a>(<a class="code hl_variable" href="classAP__Motors.html#a191acbe0acedd563d2740eb25d150a17">_roll_in</a>, <a class="code hl_variable" href="classAP__Motors.html#a1f4b25d114f7a8612364bb020e77cc67">_pitch_in</a>, <a class="code hl_function" href="classAP__Motors.html#a7ba8503cfea374e85ff327dbe892f786">get_throttle</a>(), <a class="code hl_variable" href="classAP__Motors.html#ad4cc725aa3bc4553ed41ce186b5e520a">_yaw_in</a>);</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>}</div>
</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span> </div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span><span class="comment">// output_disarmed - sends commands to the motors</span></div>
<div class="foldopen" id="foldopen00237" data-start="{" data-end="}">
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli.html#a82bbdd9f88cb6a1e2ab13fafddafe639">  237</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli.html#a82bbdd9f88cb6a1e2ab13fafddafe639">AP_MotorsHeli::output_disarmed</a>()</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>{</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a681e1032cb75a6cd1072b2c060701cdb">_servo_test_cycle_counter</a> &gt; 0){</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>        <span class="comment">// set servo_test_flag</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a8159cc39df5dedd29fef4d8d9f0f7c9b">servo_test_running</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>        <span class="comment">// perform boot-up servo test cycle if enabled</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>        <a class="code hl_function" href="classAP__MotorsHeli.html#ada94ad62a4971929caec17eaf954551f">servo_test</a>();</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>        <span class="comment">// set servo_test flag</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a8159cc39df5dedd29fef4d8d9f0f7c9b">servo_test_running</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        <span class="comment">// manual override (i.e. when setting up swash)</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>        <span class="keywordflow">switch</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#aafd84af3b1560f7b86bd2b68344c615c">_servo_mode</a>) {</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli.html#a925cc56a1a581f42507ac39218e26632a93c38a75fd310db6850589289888db61">SERVO_CONTROL_MODE_MANUAL_PASSTHROUGH</a>:</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>                <span class="comment">// pass pilot commands straight through to swash</span></div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>                <a class="code hl_variable" href="classAP__Motors.html#a191acbe0acedd563d2740eb25d150a17">_roll_in</a> = <a class="code hl_variable" href="classAP__Motors.html#a6627b714d7c1240521ae88004462cb11">_roll_radio_passthrough</a>;</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>                <a class="code hl_variable" href="classAP__Motors.html#a1f4b25d114f7a8612364bb020e77cc67">_pitch_in</a> = <a class="code hl_variable" href="classAP__Motors.html#ac34130aec7fac1efb41c8faa00b8fa83">_pitch_radio_passthrough</a>;</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>                <a class="code hl_variable" href="classAP__Motors.html#ab3685c6a458e9d7d763f5b24054484d0">_throttle_filter</a>.<a class="code hl_function" href="classLowPassFilter.html#adad51ea3b156f167fff0fb586a912cb5">reset</a>(<a class="code hl_variable" href="classAP__Motors.html#a6712c59a48d46d6af2c7dd6b11a57abb">_throttle_radio_passthrough</a>);</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>                <a class="code hl_variable" href="classAP__Motors.html#ad4cc725aa3bc4553ed41ce186b5e520a">_yaw_in</a> = <a class="code hl_variable" href="classAP__Motors.html#aa4803e71998315a2c7fbcdf6321fbe32">_yaw_radio_passthrough</a>;</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli.html#a925cc56a1a581f42507ac39218e26632a7a5fea76230f36f1ebc6d1d354559d66">SERVO_CONTROL_MODE_MANUAL_CENTER</a>:</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>                <span class="comment">// fixate mid collective</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>                <a class="code hl_variable" href="classAP__Motors.html#a191acbe0acedd563d2740eb25d150a17">_roll_in</a> = 0.0f;</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>                <a class="code hl_variable" href="classAP__Motors.html#a1f4b25d114f7a8612364bb020e77cc67">_pitch_in</a> = 0.0f;</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>                <a class="code hl_variable" href="classAP__Motors.html#ab3685c6a458e9d7d763f5b24054484d0">_throttle_filter</a>.<a class="code hl_function" href="classLowPassFilter.html#adad51ea3b156f167fff0fb586a912cb5">reset</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#aaed6411adeface8fd4b0078a8c6f7445">_collective_zero_thrust_pct</a>);</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>                <a class="code hl_variable" href="classAP__Motors.html#ad4cc725aa3bc4553ed41ce186b5e520a">_yaw_in</a> = 0.0f;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli.html#a925cc56a1a581f42507ac39218e26632afae840b046bd2c2e0855ff1eee013f52">SERVO_CONTROL_MODE_MANUAL_MAX</a>:</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>                <span class="comment">// fixate max collective</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>                <a class="code hl_variable" href="classAP__Motors.html#a191acbe0acedd563d2740eb25d150a17">_roll_in</a> = 0.0f;</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>                <a class="code hl_variable" href="classAP__Motors.html#a1f4b25d114f7a8612364bb020e77cc67">_pitch_in</a> = 0.0f;</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>                <a class="code hl_variable" href="classAP__Motors.html#ab3685c6a458e9d7d763f5b24054484d0">_throttle_filter</a>.<a class="code hl_function" href="classLowPassFilter.html#adad51ea3b156f167fff0fb586a912cb5">reset</a>(1.0f);</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a6b1ea5d5d974ee9796086b26815d0b1a">_frame_class</a> == <a class="code hl_enumvalue" href="classAP__Motors.html#a67c3d8b0e216ff11e444992571fa10c3ae4bf0ecfd518fe98c48174e63784d2dc">MOTOR_FRAME_HELI_DUAL</a> ||</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>                    <a class="code hl_variable" href="classAP__MotorsHeli.html#a6b1ea5d5d974ee9796086b26815d0b1a">_frame_class</a> == <a class="code hl_enumvalue" href="classAP__Motors.html#a67c3d8b0e216ff11e444992571fa10c3a041c4279b5f92b03b44eba7403768b25">MOTOR_FRAME_HELI_QUAD</a>) {</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>                    <a class="code hl_variable" href="classAP__Motors.html#ad4cc725aa3bc4553ed41ce186b5e520a">_yaw_in</a> = 0;</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>                    <a class="code hl_variable" href="classAP__Motors.html#ad4cc725aa3bc4553ed41ce186b5e520a">_yaw_in</a> = 1;</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>                }</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli.html#a925cc56a1a581f42507ac39218e26632a1cf7e40d83c79e7c308a8d50e0bdfa0b">SERVO_CONTROL_MODE_MANUAL_MIN</a>:</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>                <span class="comment">// fixate min collective</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>                <a class="code hl_variable" href="classAP__Motors.html#a191acbe0acedd563d2740eb25d150a17">_roll_in</a> = 0.0f;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>                <a class="code hl_variable" href="classAP__Motors.html#a1f4b25d114f7a8612364bb020e77cc67">_pitch_in</a> = 0.0f;</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>                <a class="code hl_variable" href="classAP__Motors.html#ab3685c6a458e9d7d763f5b24054484d0">_throttle_filter</a>.<a class="code hl_function" href="classLowPassFilter.html#adad51ea3b156f167fff0fb586a912cb5">reset</a>(0.0f);</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a6b1ea5d5d974ee9796086b26815d0b1a">_frame_class</a> == <a class="code hl_enumvalue" href="classAP__Motors.html#a67c3d8b0e216ff11e444992571fa10c3ae4bf0ecfd518fe98c48174e63784d2dc">MOTOR_FRAME_HELI_DUAL</a> ||</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>                    <a class="code hl_variable" href="classAP__MotorsHeli.html#a6b1ea5d5d974ee9796086b26815d0b1a">_frame_class</a> == <a class="code hl_enumvalue" href="classAP__Motors.html#a67c3d8b0e216ff11e444992571fa10c3a041c4279b5f92b03b44eba7403768b25">MOTOR_FRAME_HELI_QUAD</a>) {</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>                    <a class="code hl_variable" href="classAP__Motors.html#ad4cc725aa3bc4553ed41ce186b5e520a">_yaw_in</a> = 0;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>                    <a class="code hl_variable" href="classAP__Motors.html#ad4cc725aa3bc4553ed41ce186b5e520a">_yaw_in</a> = -1;</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>                }</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli.html#a925cc56a1a581f42507ac39218e26632a40869bd378ab488e786194983d31c390">SERVO_CONTROL_MODE_MANUAL_OSCILLATE</a>:</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>                <span class="comment">// use servo_test function from child classes</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>                <a class="code hl_function" href="classAP__MotorsHeli.html#ada94ad62a4971929caec17eaf954551f">servo_test</a>();</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>                <span class="comment">// no manual override</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        }</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    }</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span> </div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>    <span class="comment">// ensure swash servo endpoints haven&#39;t been moved</span></div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>    <a class="code hl_function" href="classAP__MotorsHeli.html#a661837bc0cce230aa991f7068e3b58d2">init_outputs</a>();</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span> </div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>    <span class="comment">// continuously recalculate scalars to allow setup</span></div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>    <a class="code hl_function" href="classAP__MotorsHeli.html#a3b035659d70ab36f882f7c9871074b0c">calculate_scalars</a>();</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span> </div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    <span class="comment">// helicopters always run stabilizing flight controls</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    <a class="code hl_function" href="classAP__MotorsHeli.html#ab71c94d1850c9749dc45388b3b4578de">move_actuators</a>(<a class="code hl_variable" href="classAP__Motors.html#a191acbe0acedd563d2740eb25d150a17">_roll_in</a>, <a class="code hl_variable" href="classAP__Motors.html#a1f4b25d114f7a8612364bb020e77cc67">_pitch_in</a>, <a class="code hl_function" href="classAP__Motors.html#a7ba8503cfea374e85ff327dbe892f786">get_throttle</a>(), <a class="code hl_variable" href="classAP__Motors.html#ad4cc725aa3bc4553ed41ce186b5e520a">_yaw_in</a>);</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>}</div>
</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span> </div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span><span class="comment">// run spool logic</span></div>
<div class="foldopen" id="foldopen00308" data-start="{" data-end="}">
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli.html#aed3aba296ec34d35571237e86fd60078">  308</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli.html#aed3aba296ec34d35571237e86fd60078">AP_MotorsHeli::output_logic</a>()</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>{</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>    <span class="comment">// force desired and current spool mode if disarmed and armed with interlock enabled</span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Motors.html#a67a133570ae075a874c6522b23c5261b">armed</a>()) {</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Motors.html#a5b54fc2816fd4760fd3047cb8e9684aa">get_interlock</a>()) {</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>            <a class="code hl_variable" href="classAP__Motors.html#aef72fccfe10aa917d1d0b8a456ec4022">_spool_desired</a> = <a class="code hl_enumvalue" href="classAP__Motors.html#ab25bd74b948cf11cc459665619016b99adcf419d8df609385bfcde58697857178">DesiredSpoolState::GROUND_IDLE</a>;</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>            <a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a7a5a1186398b83f33e2c978eebaf431c">init_targets_on_arming</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>        }</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a7a5a1186398b83f33e2c978eebaf431c">init_targets_on_arming</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>        <a class="code hl_variable" href="classAP__Motors.html#aef72fccfe10aa917d1d0b8a456ec4022">_spool_desired</a> = <a class="code hl_enumvalue" href="classAP__Motors.html#ab25bd74b948cf11cc459665619016b99a7e129e38b98ca1e41fa3861938d6c0e2">DesiredSpoolState::SHUT_DOWN</a>;</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>        <a class="code hl_variable" href="classAP__Motors.html#aeb6348556f3e0f7ba016c8acaa0e4adc">_spool_state</a> = <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a7e129e38b98ca1e41fa3861938d6c0e2">SpoolState::SHUT_DOWN</a>;</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    }</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span> </div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="classAP__Motors.html#aeb6348556f3e0f7ba016c8acaa0e4adc">_spool_state</a>) {</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a7e129e38b98ca1e41fa3861938d6c0e2">SpoolState::SHUT_DOWN</a>:</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>            <span class="comment">// Motors should be stationary.</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>            <span class="comment">// Servos set to their trim values or in a test condition.</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span> </div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>            <span class="comment">// set limits flags</span></div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__MotorsHeli.html#ab34227cad1f6321398fbc636914e8362">using_leaky_integrator</a>()) {</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>                <a class="code hl_function" href="classAP__Motors.html#a1f6590eca66f57a5db90af7d42c46e2c">set_limit_flag_pitch_roll_yaw</a>(<span class="keyword">true</span>);</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>                <a class="code hl_function" href="classAP__Motors.html#a1f6590eca66f57a5db90af7d42c46e2c">set_limit_flag_pitch_roll_yaw</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>            }</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span> </div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>            <span class="comment">// make sure the motors are spooling in the correct direction</span></div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Motors.html#aef72fccfe10aa917d1d0b8a456ec4022">_spool_desired</a> != <a class="code hl_enumvalue" href="classAP__Motors.html#ab25bd74b948cf11cc459665619016b99a7e129e38b98ca1e41fa3861938d6c0e2">DesiredSpoolState::SHUT_DOWN</a>) {</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>                <a class="code hl_variable" href="classAP__Motors.html#aeb6348556f3e0f7ba016c8acaa0e4adc">_spool_state</a> = <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11adcf419d8df609385bfcde58697857178">SpoolState::GROUND_IDLE</a>;</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>            }</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span> </div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span> </div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11adcf419d8df609385bfcde58697857178">SpoolState::GROUND_IDLE</a>: {</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>            <span class="comment">// Motors should be stationary or at ground idle.</span></div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>            <span class="comment">// set limits flags</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a9c4799f9487b722faedceb1d7b0fc9ca">land_complete</a> &amp;&amp; !<a class="code hl_function" href="classAP__MotorsHeli.html#ab34227cad1f6321398fbc636914e8362">using_leaky_integrator</a>()) {</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>                <a class="code hl_function" href="classAP__Motors.html#a1f6590eca66f57a5db90af7d42c46e2c">set_limit_flag_pitch_roll_yaw</a>(<span class="keyword">true</span>);</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>                <a class="code hl_function" href="classAP__Motors.html#a1f6590eca66f57a5db90af7d42c46e2c">set_limit_flag_pitch_roll_yaw</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>            }</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span> </div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>            <span class="comment">// Servos should be moving to correct the current attitude.</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Motors.html#aef72fccfe10aa917d1d0b8a456ec4022">_spool_desired</a> == <a class="code hl_enumvalue" href="classAP__Motors.html#ab25bd74b948cf11cc459665619016b99a7e129e38b98ca1e41fa3861938d6c0e2">DesiredSpoolState::SHUT_DOWN</a>){</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>                <a class="code hl_variable" href="classAP__Motors.html#aeb6348556f3e0f7ba016c8acaa0e4adc">_spool_state</a> = <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a7e129e38b98ca1e41fa3861938d6c0e2">SpoolState::SHUT_DOWN</a>;</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="classAP__Motors.html#aef72fccfe10aa917d1d0b8a456ec4022">_spool_desired</a> == <a class="code hl_enumvalue" href="classAP__Motors.html#ab25bd74b948cf11cc459665619016b99aa70e75e89c86a67aea72b59d4f6fcedb">DesiredSpoolState::THROTTLE_UNLIMITED</a>) {</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>                <a class="code hl_variable" href="classAP__Motors.html#aeb6348556f3e0f7ba016c8acaa0e4adc">_spool_state</a> = <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a6113eb55b67576efc0e9d9d323778a9c">SpoolState::SPOOLING_UP</a>;</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>            } <span class="keywordflow">else</span> {    <span class="comment">// _spool_desired == GROUND_IDLE</span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span> </div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>            }</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span> </div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>        }</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a6113eb55b67576efc0e9d9d323778a9c">SpoolState::SPOOLING_UP</a>:</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>            <span class="comment">// Maximum throttle should move from minimum to maximum.</span></div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>            <span class="comment">// Servos should exhibit normal flight behavior.</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span> </div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>            <span class="comment">// set limits flags</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a9c4799f9487b722faedceb1d7b0fc9ca">land_complete</a> &amp;&amp; !<a class="code hl_function" href="classAP__MotorsHeli.html#ab34227cad1f6321398fbc636914e8362">using_leaky_integrator</a>()) {</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>                <a class="code hl_function" href="classAP__Motors.html#a1f6590eca66f57a5db90af7d42c46e2c">set_limit_flag_pitch_roll_yaw</a>(<span class="keyword">true</span>);</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>                <a class="code hl_function" href="classAP__Motors.html#a1f6590eca66f57a5db90af7d42c46e2c">set_limit_flag_pitch_roll_yaw</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>            }</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span> </div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>            <span class="comment">// make sure the motors are spooling in the correct direction</span></div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Motors.html#aef72fccfe10aa917d1d0b8a456ec4022">_spool_desired</a> != <a class="code hl_enumvalue" href="classAP__Motors.html#ab25bd74b948cf11cc459665619016b99aa70e75e89c86a67aea72b59d4f6fcedb">DesiredSpoolState::THROTTLE_UNLIMITED</a> ){</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>                <a class="code hl_variable" href="classAP__Motors.html#aeb6348556f3e0f7ba016c8acaa0e4adc">_spool_state</a> = <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a40badbb2bca8336d5c737768cc0db265">SpoolState::SPOOLING_DOWN</a>;</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>            }</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span> </div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a99ea09bf2b220cb66752a5e0d89c9ef2">rotor_runup_complete</a>){</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>                <a class="code hl_variable" href="classAP__Motors.html#aeb6348556f3e0f7ba016c8acaa0e4adc">_spool_state</a> = <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11aa70e75e89c86a67aea72b59d4f6fcedb">SpoolState::THROTTLE_UNLIMITED</a>;</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>            }</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span> </div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11aa70e75e89c86a67aea72b59d4f6fcedb">SpoolState::THROTTLE_UNLIMITED</a>:</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>            <span class="comment">// Throttle should exhibit normal flight behavior.</span></div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>            <span class="comment">// Servos should exhibit normal flight behavior.</span></div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span> </div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>            <span class="comment">// set limits flags</span></div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a9c4799f9487b722faedceb1d7b0fc9ca">land_complete</a> &amp;&amp; !<a class="code hl_function" href="classAP__MotorsHeli.html#ab34227cad1f6321398fbc636914e8362">using_leaky_integrator</a>()) {</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>                <a class="code hl_function" href="classAP__Motors.html#a1f6590eca66f57a5db90af7d42c46e2c">set_limit_flag_pitch_roll_yaw</a>(<span class="keyword">true</span>);</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>                <a class="code hl_function" href="classAP__Motors.html#a1f6590eca66f57a5db90af7d42c46e2c">set_limit_flag_pitch_roll_yaw</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>            }</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span> </div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>            <span class="comment">// make sure the motors are spooling in the correct direction</span></div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Motors.html#aef72fccfe10aa917d1d0b8a456ec4022">_spool_desired</a> != <a class="code hl_enumvalue" href="classAP__Motors.html#ab25bd74b948cf11cc459665619016b99aa70e75e89c86a67aea72b59d4f6fcedb">DesiredSpoolState::THROTTLE_UNLIMITED</a>) {</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>                <a class="code hl_variable" href="classAP__Motors.html#aeb6348556f3e0f7ba016c8acaa0e4adc">_spool_state</a> = <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a40badbb2bca8336d5c737768cc0db265">SpoolState::SPOOLING_DOWN</a>;</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>            }</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span> </div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span> </div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span> </div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a40badbb2bca8336d5c737768cc0db265">SpoolState::SPOOLING_DOWN</a>:</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>            <span class="comment">// Maximum throttle should move from maximum to minimum.</span></div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>            <span class="comment">// Servos should exhibit normal flight behavior.</span></div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span> </div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>            <span class="comment">// set limits flags</span></div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a9c4799f9487b722faedceb1d7b0fc9ca">land_complete</a> &amp;&amp; !<a class="code hl_function" href="classAP__MotorsHeli.html#ab34227cad1f6321398fbc636914e8362">using_leaky_integrator</a>()) {</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>                <a class="code hl_function" href="classAP__Motors.html#a1f6590eca66f57a5db90af7d42c46e2c">set_limit_flag_pitch_roll_yaw</a>(<span class="keyword">true</span>);</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>                <a class="code hl_function" href="classAP__Motors.html#a1f6590eca66f57a5db90af7d42c46e2c">set_limit_flag_pitch_roll_yaw</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>            }</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span> </div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>            <span class="comment">// make sure the motors are spooling in the correct direction</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Motors.html#aef72fccfe10aa917d1d0b8a456ec4022">_spool_desired</a> == <a class="code hl_enumvalue" href="classAP__Motors.html#ab25bd74b948cf11cc459665619016b99aa70e75e89c86a67aea72b59d4f6fcedb">DesiredSpoolState::THROTTLE_UNLIMITED</a>) {</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>                <a class="code hl_variable" href="classAP__Motors.html#aeb6348556f3e0f7ba016c8acaa0e4adc">_spool_state</a> = <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a6113eb55b67576efc0e9d9d323778a9c">SpoolState::SPOOLING_UP</a>;</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>            }</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a0c30ba83758973bae63a9b0f515b995b">rotor_spooldown_complete</a>){</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>                <a class="code hl_variable" href="classAP__Motors.html#aeb6348556f3e0f7ba016c8acaa0e4adc">_spool_state</a> = <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11adcf419d8df609385bfcde58697857178">SpoolState::GROUND_IDLE</a>;</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>            }</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>    }</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>}</div>
</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span> </div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span><span class="comment">// update the throttle input filter</span></div>
<div class="foldopen" id="foldopen00429" data-start="{" data-end="}">
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli.html#a5b5a08b2aac5950f3a63119e5105b308">  429</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli.html#a5b5a08b2aac5950f3a63119e5105b308">AP_MotorsHeli::update_throttle_filter</a>()</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>{</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>    <a class="code hl_variable" href="classAP__Motors.html#ab3685c6a458e9d7d763f5b24054484d0">_throttle_filter</a>.<a class="code hl_function" href="classLowPassFilter.html#aa390849d2e18ff3287f92b89d8657841">apply</a>(<a class="code hl_variable" href="classAP__Motors.html#a9a7557ad22f599c217ae7fe237f0ddae">_throttle_in</a>,  <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>);</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span> </div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>    <span class="comment">// constrain filtered throttle</span></div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Motors.html#ab3685c6a458e9d7d763f5b24054484d0">_throttle_filter</a>.<a class="code hl_function" href="classLowPassFilter.html#a34bc75aa770bc6cc0facee3b43a05bec">get</a>() &lt; 0.0f) {</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>        <a class="code hl_variable" href="classAP__Motors.html#ab3685c6a458e9d7d763f5b24054484d0">_throttle_filter</a>.<a class="code hl_function" href="classLowPassFilter.html#adad51ea3b156f167fff0fb586a912cb5">reset</a>(0.0f);</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    }</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Motors.html#ab3685c6a458e9d7d763f5b24054484d0">_throttle_filter</a>.<a class="code hl_function" href="classLowPassFilter.html#a34bc75aa770bc6cc0facee3b43a05bec">get</a>() &gt; 1.0f) {</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>        <a class="code hl_variable" href="classAP__Motors.html#ab3685c6a458e9d7d763f5b24054484d0">_throttle_filter</a>.<a class="code hl_function" href="classLowPassFilter.html#adad51ea3b156f167fff0fb586a912cb5">reset</a>(1.0f);</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>    }</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>}</div>
</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span> </div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span><span class="comment">// reset_flight_controls - resets all controls and scalars to flight status</span></div>
<div class="foldopen" id="foldopen00443" data-start="{" data-end="}">
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli.html#ade550578da44ebca78eca8323870142c">  443</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli.html#ade550578da44ebca78eca8323870142c">AP_MotorsHeli::reset_flight_controls</a>()</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>{</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#aafd84af3b1560f7b86bd2b68344c615c">_servo_mode</a>.set(<a class="code hl_enumvalue" href="classAP__MotorsHeli.html#a925cc56a1a581f42507ac39218e26632a9a0cd8b8b01a7a8369c12df193d8f4e2">SERVO_CONTROL_MODE_AUTOMATED</a>);</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>    <a class="code hl_function" href="classAP__MotorsHeli.html#a661837bc0cce230aa991f7068e3b58d2">init_outputs</a>();</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>    <a class="code hl_function" href="classAP__MotorsHeli.html#a3b035659d70ab36f882f7c9871074b0c">calculate_scalars</a>();</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>}</div>
</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span> </div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span><span class="comment">// update the collective input filter.  should be called at 100hz</span></div>
<div class="foldopen" id="foldopen00451" data-start="{" data-end="}">
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli.html#a616135aa893fcfd36367fcc0d74cc282">  451</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli.html#a616135aa893fcfd36367fcc0d74cc282">AP_MotorsHeli::update_throttle_hover</a>(<span class="keywordtype">float</span> dt)</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>{</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a8f34f136223326e0494d5a5762a9bc58">_collective_hover_learn</a> != <a class="code hl_enumvalue" href="classAP__MotorsHeli.html#a546eb49421a44d2c1723fcac90dd0f59ae071621d914b43253811881a494b317a">HOVER_LEARN_DISABLED</a>) {</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span> </div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>        <span class="comment">// Don&#39;t let _collective_hover go below H_COLL_ZERO_THRST</span></div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>        <span class="keywordtype">float</span> curr_collective = <a class="code hl_function" href="classAP__Motors.html#a7ba8503cfea374e85ff327dbe892f786">get_throttle</a>();</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>        <span class="keywordflow">if</span> (curr_collective &lt; <a class="code hl_variable" href="classAP__MotorsHeli.html#aaed6411adeface8fd4b0078a8c6f7445">_collective_zero_thrust_pct</a>) {</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>            curr_collective = <a class="code hl_variable" href="classAP__MotorsHeli.html#aaed6411adeface8fd4b0078a8c6f7445">_collective_zero_thrust_pct</a>;</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>        }</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span> </div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>        <span class="comment">// we have chosen to constrain the hover collective to be within the range reachable by the third order expo polynomial.</span></div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#ae6335d71c6798b1238849509dfeec4fc">_collective_hover</a>.set(<a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#ae6335d71c6798b1238849509dfeec4fc">_collective_hover</a> + (dt / (dt + <a class="code hl_define" href="AP__MotorsHeli_8h.html#ae1f3559ce918ea16588fc1ce837ad854">AP_MOTORS_HELI_COLLECTIVE_HOVER_TC</a>)) * (curr_collective - <a class="code hl_variable" href="classAP__MotorsHeli.html#ae6335d71c6798b1238849509dfeec4fc">_collective_hover</a>), <a class="code hl_define" href="AP__MotorsHeli_8h.html#a166243dc0b80e8dbfc813def2589bd01">AP_MOTORS_HELI_COLLECTIVE_HOVER_MIN</a>, <a class="code hl_define" href="AP__MotorsHeli_8h.html#a5ae814b477805872f5a757c881ef3da0">AP_MOTORS_HELI_COLLECTIVE_HOVER_MAX</a>));</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>    }</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>}</div>
</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span> </div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span><span class="comment">// save parameters as part of disarming</span></div>
<div class="foldopen" id="foldopen00467" data-start="{" data-end="}">
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli.html#a0701afa0653bf434dbc2a69b9bcecd10">  467</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli.html#a0701afa0653bf434dbc2a69b9bcecd10">AP_MotorsHeli::save_params_on_disarm</a>()</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>{</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>    <span class="comment">// save hover throttle</span></div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a8f34f136223326e0494d5a5762a9bc58">_collective_hover_learn</a> == <a class="code hl_enumvalue" href="classAP__MotorsHeli.html#a546eb49421a44d2c1723fcac90dd0f59a517ead0a327c60eab385a55f4962017f">HOVER_LEARN_AND_SAVE</a>) {</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#ae6335d71c6798b1238849509dfeec4fc">_collective_hover</a>.save();</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>    }</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>}</div>
</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span> </div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span><span class="comment">// updates the takeoff collective flag</span></div>
<div class="foldopen" id="foldopen00476" data-start="{" data-end="}">
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli.html#a57451b83ffd98c2ec06dbc92610f5ade">  476</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli.html#a57451b83ffd98c2ec06dbc92610f5ade">AP_MotorsHeli::update_takeoff_collective_flag</a>(<span class="keywordtype">float</span> coll_out)</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>{</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>    <span class="keywordflow">if</span> (coll_out &gt; <a class="code hl_variable" href="classAP__MotorsHeli.html#aaed6411adeface8fd4b0078a8c6f7445">_collective_zero_thrust_pct</a> + 0.5f * (<a class="code hl_variable" href="classAP__MotorsHeli.html#ae6335d71c6798b1238849509dfeec4fc">_collective_hover</a> - <a class="code hl_variable" href="classAP__MotorsHeli.html#aaed6411adeface8fd4b0078a8c6f7445">_collective_zero_thrust_pct</a>)) {</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#aa381a9dd2a1668072d1df9476c2f05e7">takeoff_collective</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#aa381a9dd2a1668072d1df9476c2f05e7">takeoff_collective</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>    }</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>}</div>
</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span> </div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span><span class="comment">// Determines if _heli_options bit is set</span></div>
<div class="foldopen" id="foldopen00486" data-start="{" data-end="}">
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli.html#a119ae74787075e6d38a7cfdf4d442cd3">  486</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__MotorsHeli.html#a119ae74787075e6d38a7cfdf4d442cd3">AP_MotorsHeli::heli_option</a>(<a class="code hl_enumeration" href="classAP__MotorsHeli.html#a483d0b7981e947695bcc7bc37d58b62f">HeliOption</a> opt)<span class="keyword"> const</span></div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>    <span class="keywordflow">return</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#afa656660fd9ac758dc989557383c2de7">_heli_options</a> &amp; (uint8_t)opt);</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>}</div>
</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span> </div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span><span class="comment">// updates the turbine start flag</span></div>
<div class="foldopen" id="foldopen00492" data-start="{" data-end="}">
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli.html#ae822473fa28b098aec95b843c104be57">  492</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli.html#ae822473fa28b098aec95b843c104be57">AP_MotorsHeli::update_turbine_start</a>()</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>{</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#aae441aed2609466e47077d369d728b5a">start_engine</a>) {</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#aaab6cf4a5997c32adea594fa3ae4ceac">set_turbine_start</a>(<span class="keyword">true</span>);</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#aaab6cf4a5997c32adea594fa3ae4ceac">set_turbine_start</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>    }</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>}</div>
</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span> </div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span><span class="comment">// Run arming checks</span></div>
<div class="foldopen" id="foldopen00502" data-start="{" data-end="}">
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli.html#ac506d005ab74fdd87c5ed878ef4cb388">  502</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__MotorsHeli.html#ac506d005ab74fdd87c5ed878ef4cb388">AP_MotorsHeli::arming_checks</a>(<span class="keywordtype">size_t</span> <a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <span class="keywordtype">char</span> *<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>)<span class="keyword"> const</span></div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>    <span class="comment">// run base class checks</span></div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Motors.html#a6d97fa8cc44d3c460ad4e5d1f065e74a">AP_Motors::arming_checks</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>)) {</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>    }</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span> </div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a8159cc39df5dedd29fef4d8d9f0f7c9b">servo_test_running</a>) {</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>        <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">snprintf</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <span class="stringliteral">&quot;Servo Test is still running&quot;</span>);</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>    }</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span> </div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>    <span class="comment">// returns false if RSC Mode is not set to a valid control mode</span></div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a1b6672292d361239bf11433a6ee62a01">_rsc_mode</a>.get() &lt;= (int8_t)<a class="code hl_enumvalue" href="AP__MotorsHeli__RSC_8h.html#a36de13430db64e7068d0522f9dc24b96a8ac5d4e5f2ced1033f42e77703c03d82">ROTOR_CONTROL_MODE_DISABLED</a> || <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a1b6672292d361239bf11433a6ee62a01">_rsc_mode</a>.get() &gt; (int8_t)<a class="code hl_enumvalue" href="AP__MotorsHeli__RSC_8h.html#a36de13430db64e7068d0522f9dc24b96a3aecae8a93464861924e151011a67619">ROTOR_CONTROL_MODE_AUTOTHROTTLE</a>) {</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>        <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">snprintf</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <span class="stringliteral">&quot;H_RSC_MODE invalid&quot;</span>);</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    }</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span> </div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>    <span class="comment">// returns false if rsc_setpoint is out of range</span></div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>    <span class="keywordflow">if</span> ( <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#ae683c71d98876e13d0c7d086dd52e89a">_rsc_setpoint</a>.get() &gt; 100 || <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#ae683c71d98876e13d0c7d086dd52e89a">_rsc_setpoint</a>.get() &lt; 10){</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>        <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">snprintf</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <span class="stringliteral">&quot;H_RSC_SETPOINT out of range&quot;</span>);</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>    }</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span> </div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>    <span class="comment">// returns false if idle output is out of range</span></div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>    <span class="keywordflow">if</span> ( <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a3522e7aa2b53aec2846e7531408e5ebe">_idle_output</a>.get() &gt; 100 || <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a3522e7aa2b53aec2846e7531408e5ebe">_idle_output</a>.get() &lt; 0){</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>        <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">snprintf</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <span class="stringliteral">&quot;H_RSC_IDLE out of range&quot;</span>);</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>    }</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span> </div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    <span class="comment">// returns false if _rsc_critical is not between 0 and 100</span></div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a51825fd057a3e4b2e51b8d9661c09463">_critical_speed</a>.get() &gt; 100 || <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a51825fd057a3e4b2e51b8d9661c09463">_critical_speed</a>.get() &lt; 0) {</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>        <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">snprintf</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <span class="stringliteral">&quot;H_RSC_CRITICAL out of range&quot;</span>);</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    }</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span> </div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>    <span class="comment">// returns false if RSC Runup Time is less than Ramp time as this could cause undesired behaviour of rotor speed estimate</span></div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#af5ad3a88652248723b4431d2c9dee51f">_runup_time</a>.get() &lt;= <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a99ac103562c8bc8e4ad793cc57a22a5e">_ramp_time</a>.get()){</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>        <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">snprintf</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <span class="stringliteral">&quot;H_RUNUP_TIME too small&quot;</span>);</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>    }</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span> </div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>    <span class="comment">// returns false if _collective_min_deg is not default value which indicates users set parameter</span></div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="AP__Math_8cpp.html#a74db690fa0d764d7e0900a9c97f629b2">is_equal</a>((<span class="keywordtype">float</span>)<a class="code hl_variable" href="classAP__MotorsHeli.html#a946467f33d7d0e01d7adffefafdebafa">_collective_min_deg</a>, (<span class="keywordtype">float</span>)<a class="code hl_define" href="AP__MotorsHeli_8h.html#af01c226c868fc746fb3a53453e99c32c">AP_MOTORS_HELI_COLLECTIVE_MIN_DEG</a>)) {</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>        <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">snprintf</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <span class="stringliteral">&quot;Set H_COL_ANG_MIN to measured min blade pitch in deg&quot;</span>);</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>    }</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span> </div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>    <span class="comment">// returns false if _collective_max_deg is not default value which indicates users set parameter</span></div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="AP__Math_8cpp.html#a74db690fa0d764d7e0900a9c97f629b2">is_equal</a>((<span class="keywordtype">float</span>)<a class="code hl_variable" href="classAP__MotorsHeli.html#adcf40cee4254ffd6581de67ba17b6358">_collective_max_deg</a>, (<span class="keywordtype">float</span>)<a class="code hl_define" href="AP__MotorsHeli_8h.html#a682b94b65ee841e6bc5f0e6602010921">AP_MOTORS_HELI_COLLECTIVE_MAX_DEG</a>)) {</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>        <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">snprintf</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <span class="stringliteral">&quot;Set H_COL_ANG_MAX to measured max blade pitch in deg&quot;</span>);</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>    }</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span> </div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>}</div>
</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span> </div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span><span class="comment">// Tell user motor test is disabled on heli</span></div>
<div class="foldopen" id="foldopen00560" data-start="{" data-end="}">
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli.html#a358ef48d68a29951e7b708eb8c3c4693">  560</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__MotorsHeli.html#a358ef48d68a29951e7b708eb8c3c4693">AP_MotorsHeli::motor_test_checks</a>(<span class="keywordtype">size_t</span> <a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <span class="keywordtype">char</span> *<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>)<span class="keyword"> const</span></div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>    <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">snprintf</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <span class="stringliteral">&quot;Disabled on heli&quot;</span>);</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>}</div>
</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span> </div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span><span class="comment">// get_motor_mask - returns a bitmask of which outputs are being used for motors or servos (1 means being used)</span></div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span><span class="comment">//  this can be used to ensure other pwm outputs (i.e. for servos) do not conflict</span></div>
<div class="foldopen" id="foldopen00568" data-start="{" data-end="}">
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli.html#ae01e848405aa01b9bdf5c55e1d4f2966">  568</a></span>uint32_t <a class="code hl_function" href="classAP__MotorsHeli.html#ae01e848405aa01b9bdf5c55e1d4f2966">AP_MotorsHeli::get_motor_mask</a>()</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>{</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#ac295567cd6824fbf86be7e34ec8845c0">get_output_mask</a>();</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>}</div>
</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span> </div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span><span class="comment">// set_desired_rotor_speed</span></div>
<div class="foldopen" id="foldopen00574" data-start="{" data-end="}">
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli.html#a1f608e610e713631f01e89f7c6f93dde">  574</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli.html#a1f608e610e713631f01e89f7c6f93dde">AP_MotorsHeli::set_desired_rotor_speed</a>(<span class="keywordtype">float</span> desired_speed)</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>{</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#ad42108be3ceab3461850ec4ad4b5519d">set_desired_speed</a>(desired_speed);</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>}</div>
</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span> </div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span><span class="comment">// Converts AP_Motors::SpoolState from _spool_state variable to AP_MotorsHeli_RSC::RotorControlState</span></div>
<div class="foldopen" id="foldopen00580" data-start="{" data-end="}">
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli.html#ab63a34a6f966cabf867ca1f6ce49a5e1">  580</a></span><a class="code hl_enumeration" href="classAP__MotorsHeli__RSC.html#aedbcba02e003b6a77f71d6112723e28e">AP_MotorsHeli_RSC::RotorControlState</a> <a class="code hl_function" href="classAP__MotorsHeli.html#ab63a34a6f966cabf867ca1f6ce49a5e1">AP_MotorsHeli::get_rotor_control_state</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="classAP__Motors.html#aeb6348556f3e0f7ba016c8acaa0e4adc">_spool_state</a>) {</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a7e129e38b98ca1e41fa3861938d6c0e2">SpoolState::SHUT_DOWN</a>:</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>            <span class="comment">// sends minimum values out to the motors</span></div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli__RSC.html#aedbcba02e003b6a77f71d6112723e28ea615a46af313786fc4e349f34118be111">AP_MotorsHeli_RSC::RotorControlState::STOP</a>;</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11adcf419d8df609385bfcde58697857178">SpoolState::GROUND_IDLE</a>:</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>            <span class="comment">// sends idle output to motors when armed. rotor could be static or turning (autorotation)</span></div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli__RSC.html#aedbcba02e003b6a77f71d6112723e28eaa5daf7f2ebbba4975d61dab1c40188c7">AP_MotorsHeli_RSC::RotorControlState::IDLE</a>;</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a6113eb55b67576efc0e9d9d323778a9c">SpoolState::SPOOLING_UP</a>:</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11aa70e75e89c86a67aea72b59d4f6fcedb">SpoolState::THROTTLE_UNLIMITED</a>:</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>            <span class="comment">// set motor output based on thrust requests</span></div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli__RSC.html#aedbcba02e003b6a77f71d6112723e28ea18ff74f43da410c5529f7d6fca84f115">AP_MotorsHeli_RSC::RotorControlState::ACTIVE</a>;</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a40badbb2bca8336d5c737768cc0db265">SpoolState::SPOOLING_DOWN</a>:</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>            <span class="comment">// sends idle output to motors and wait for rotor to stop</span></div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli__RSC.html#aedbcba02e003b6a77f71d6112723e28eaa5daf7f2ebbba4975d61dab1c40188c7">AP_MotorsHeli_RSC::RotorControlState::IDLE</a>;</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>    }</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span> </div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>    <span class="comment">// Should be unreachable, but needed to keep the compiler happy</span></div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classAP__MotorsHeli__RSC.html#aedbcba02e003b6a77f71d6112723e28ea615a46af313786fc4e349f34118be111">AP_MotorsHeli_RSC::RotorControlState::STOP</a>;</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>}</div>
</div>
<div class="ttc" id="aAC__AttitudeControl_8cpp_html_a240c1a4ae2a70d1855f91e4a0b1ac938"><div class="ttname"><a href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a></div><div class="ttdeci">const AP_HAL::HAL &amp; hal</div><div class="ttdef"><b>Definition</b> <a href="AP__Compass__AK09916_8cpp_source.html#l00059">AP_Compass_AK09916.cpp:59</a></div></div>
<div class="ttc" id="aAP__HAL_8h_html"><div class="ttname"><a href="AP__HAL_8h.html">AP_HAL.h</a></div></div>
<div class="ttc" id="aAP__Math_8cpp_html_a74db690fa0d764d7e0900a9c97f629b2"><div class="ttname"><a href="AP__Math_8cpp.html#a74db690fa0d764d7e0900a9c97f629b2">is_equal</a></div><div class="ttdeci">std::enable_if&lt; std::is_integral&lt; typenamestd::common_type&lt; Arithmetic1, Arithmetic2 &gt;::type &gt;::value, bool &gt;::type is_equal(const Arithmetic1 v_1, const Arithmetic2 v_2)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8cpp_source.html#l00014">AP_Math.cpp:14</a></div></div>
<div class="ttc" id="aAP__Math_8h_html_a5256308fd38a7098b8f95607aa56888f"><div class="ttname"><a href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a></div><div class="ttdeci">#define constrain_float(amt, low, high)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00174">AP_Math.h:174</a></div></div>
<div class="ttc" id="aAP__MotorsHeli_8cpp_html_ae08c3ca4ba26b63cda0bb3e3c6c02785"><div class="ttname"><a href="AP__MotorsHeli_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a></div><div class="ttdeci">const AP_HAL::HAL &amp; hal</div><div class="ttdef"><b>Definition</b> <a href="AC__PID__test_8cpp_source.html#l00021">AC_PID_test.cpp:21</a></div></div>
<div class="ttc" id="aAP__MotorsHeli_8h_html"><div class="ttname"><a href="AP__MotorsHeli_8h.html">AP_MotorsHeli.h</a></div><div class="ttdoc">Motor control class for Traditional Heli.</div></div>
<div class="ttc" id="aAP__MotorsHeli_8h_html_a166243dc0b80e8dbfc813def2589bd01"><div class="ttname"><a href="AP__MotorsHeli_8h.html#a166243dc0b80e8dbfc813def2589bd01">AP_MOTORS_HELI_COLLECTIVE_HOVER_MIN</a></div><div class="ttdeci">#define AP_MOTORS_HELI_COLLECTIVE_HOVER_MIN</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00023">AP_MotorsHeli.h:23</a></div></div>
<div class="ttc" id="aAP__MotorsHeli_8h_html_a16c294b5a6a507cbb730b5174d77c98e"><div class="ttname"><a href="AP__MotorsHeli_8h.html#a16c294b5a6a507cbb730b5174d77c98e">AP_MOTORS_HELI_COLLECTIVE_LAND_MIN</a></div><div class="ttdeci">#define AP_MOTORS_HELI_COLLECTIVE_LAND_MIN</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00027">AP_MotorsHeli.h:27</a></div></div>
<div class="ttc" id="aAP__MotorsHeli_8h_html_a2d874d74f7f67ba067290f76a7455059"><div class="ttname"><a href="AP__MotorsHeli_8h.html#a2d874d74f7f67ba067290f76a7455059">AP_MOTORS_HELI_COLLECTIVE_MAX</a></div><div class="ttdeci">#define AP_MOTORS_HELI_COLLECTIVE_MAX</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00020">AP_MotorsHeli.h:20</a></div></div>
<div class="ttc" id="aAP__MotorsHeli_8h_html_a58f8d4c8ef7f1d51aebb71e2a66a1a08"><div class="ttname"><a href="AP__MotorsHeli_8h.html#a58f8d4c8ef7f1d51aebb71e2a66a1a08">AP_MOTORS_HELI_COLLECTIVE_HOVER_DEFAULT</a></div><div class="ttdeci">#define AP_MOTORS_HELI_COLLECTIVE_HOVER_DEFAULT</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00021">AP_MotorsHeli.h:21</a></div></div>
<div class="ttc" id="aAP__MotorsHeli_8h_html_a5ae814b477805872f5a757c881ef3da0"><div class="ttname"><a href="AP__MotorsHeli_8h.html#a5ae814b477805872f5a757c881ef3da0">AP_MOTORS_HELI_COLLECTIVE_HOVER_MAX</a></div><div class="ttdeci">#define AP_MOTORS_HELI_COLLECTIVE_HOVER_MAX</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00024">AP_MotorsHeli.h:24</a></div></div>
<div class="ttc" id="aAP__MotorsHeli_8h_html_a682b94b65ee841e6bc5f0e6602010921"><div class="ttname"><a href="AP__MotorsHeli_8h.html#a682b94b65ee841e6bc5f0e6602010921">AP_MOTORS_HELI_COLLECTIVE_MAX_DEG</a></div><div class="ttdeci">#define AP_MOTORS_HELI_COLLECTIVE_MAX_DEG</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00026">AP_MotorsHeli.h:26</a></div></div>
<div class="ttc" id="aAP__MotorsHeli_8h_html_aaa0a7ad796ec7b2416f3afa84534bea7"><div class="ttname"><a href="AP__MotorsHeli_8h.html#aaa0a7ad796ec7b2416f3afa84534bea7">AP_MOTORS_HELI_COLLECTIVE_MIN</a></div><div class="ttdeci">#define AP_MOTORS_HELI_COLLECTIVE_MIN</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00019">AP_MotorsHeli.h:19</a></div></div>
<div class="ttc" id="aAP__MotorsHeli_8h_html_ad32e9c97d19b74060e718c7b46412d25"><div class="ttname"><a href="AP__MotorsHeli_8h.html#ad32e9c97d19b74060e718c7b46412d25">AP_MOTORS_HELI_SWASH_CYCLIC_MAX</a></div><div class="ttdeci">#define AP_MOTORS_HELI_SWASH_CYCLIC_MAX</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00018">AP_MotorsHeli.h:18</a></div></div>
<div class="ttc" id="aAP__MotorsHeli_8h_html_ae1f3559ce918ea16588fc1ce837ad854"><div class="ttname"><a href="AP__MotorsHeli_8h.html#ae1f3559ce918ea16588fc1ce837ad854">AP_MOTORS_HELI_COLLECTIVE_HOVER_TC</a></div><div class="ttdeci">#define AP_MOTORS_HELI_COLLECTIVE_HOVER_TC</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00022">AP_MotorsHeli.h:22</a></div></div>
<div class="ttc" id="aAP__MotorsHeli_8h_html_af01c226c868fc746fb3a53453e99c32c"><div class="ttname"><a href="AP__MotorsHeli_8h.html#af01c226c868fc746fb3a53453e99c32c">AP_MOTORS_HELI_COLLECTIVE_MIN_DEG</a></div><div class="ttdeci">#define AP_MOTORS_HELI_COLLECTIVE_MIN_DEG</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00025">AP_MotorsHeli.h:25</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__RSC_8h_html_a36de13430db64e7068d0522f9dc24b96a3aecae8a93464861924e151011a67619"><div class="ttname"><a href="AP__MotorsHeli__RSC_8h.html#a36de13430db64e7068d0522f9dc24b96a3aecae8a93464861924e151011a67619">ROTOR_CONTROL_MODE_AUTOTHROTTLE</a></div><div class="ttdeci">@ ROTOR_CONTROL_MODE_AUTOTHROTTLE</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00040">AP_MotorsHeli_RSC.h:39</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__RSC_8h_html_a36de13430db64e7068d0522f9dc24b96a8ac5d4e5f2ced1033f42e77703c03d82"><div class="ttname"><a href="AP__MotorsHeli__RSC_8h.html#a36de13430db64e7068d0522f9dc24b96a8ac5d4e5f2ced1033f42e77703c03d82">ROTOR_CONTROL_MODE_DISABLED</a></div><div class="ttdeci">@ ROTOR_CONTROL_MODE_DISABLED</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00035">AP_MotorsHeli_RSC.h:35</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a0f9acb038a5283b964b862aea8cc5051"><div class="ttname"><a href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div><div class="ttdeci">#define AP_GROUPEND</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00163">AP_Param.h:163</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a16c360358c5d6a08d34f60921fd916a9"><div class="ttname"><a href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a></div><div class="ttdeci">#define AP_SUBGROUPINFO(element, name, idx, thisclazz, elclazz)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00152">AP_Param.h:152</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a78a408c84f2a1bafde256ac650142e4d"><div class="ttname"><a href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a></div><div class="ttdeci">#define AP_GROUPINFO(name, idx, clazz, element, def)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00145">AP_Param.h:145</a></div></div>
<div class="ttc" id="aGCS_8h_html"><div class="ttname"><a href="GCS_8h.html">GCS.h</a></div><div class="ttdoc">Interface definition for the various Ground Control System.</div></div>
<div class="ttc" id="aUART__chargen_8cpp_html_a892366b22e8ea42d95e49308022eef4d"><div class="ttname"><a href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a></div><div class="ttdeci">uint16_t buflen</div><div class="ttdef"><b>Definition</b> <a href="UART__chargen_8cpp_source.html#l00037">UART_chargen.cpp:37</a></div></div>
<div class="ttc" id="aUART__chargen_8cpp_html_a8a45ba1322f5f38149f9bb899b09a1f4"><div class="ttname"><a href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a></div><div class="ttdeci">uint8_t buffer[16384]</div><div class="ttdef"><b>Definition</b> <a href="UART__chargen_8cpp_source.html#l00036">UART_chargen.cpp:36</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1HAL_html"><div class="ttname"><a href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a></div><div class="ttdef"><b>Definition</b> <a href="HAL_8h_source.html#l00021">HAL.h:21</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1HAL_html_a9337a60383f4264fa96a20dbe43a4e2e"><div class="ttname"><a href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">AP_HAL::HAL::util</a></div><div class="ttdeci">AP_HAL::Util * util</div><div class="ttdef"><b>Definition</b> <a href="HAL_8h_source.html#l00131">HAL.h:131</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1Util_html_afaedff8102d9ae2fbc398d2099e30cf6"><div class="ttname"><a href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">AP_HAL::Util::snprintf</a></div><div class="ttdeci">int snprintf(char *str, size_t size, const char *format,...) FMT_PRINTF(4</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL_2Util_8cpp_source.html#l00044">Util.cpp:44</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html">AP_MotorsHeli_RSC</a></div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00042">AP_MotorsHeli_RSC.h:42</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a1b6672292d361239bf11433a6ee62a01"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a1b6672292d361239bf11433a6ee62a01">AP_MotorsHeli_RSC::_rsc_mode</a></div><div class="ttdeci">AP_Int8 _rsc_mode</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00139">AP_MotorsHeli_RSC.h:139</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a3522e7aa2b53aec2846e7531408e5ebe"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a3522e7aa2b53aec2846e7531408e5ebe">AP_MotorsHeli_RSC::_idle_output</a></div><div class="ttdeci">AP_Int16 _idle_output</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00143">AP_MotorsHeli_RSC.h:143</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a51825fd057a3e4b2e51b8d9661c09463"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a51825fd057a3e4b2e51b8d9661c09463">AP_MotorsHeli_RSC::_critical_speed</a></div><div class="ttdeci">AP_Int16 _critical_speed</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00142">AP_MotorsHeli_RSC.h:142</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a99ac103562c8bc8e4ad793cc57a22a5e"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a99ac103562c8bc8e4ad793cc57a22a5e">AP_MotorsHeli_RSC::_ramp_time</a></div><div class="ttdeci">AP_Int8 _ramp_time</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00140">AP_MotorsHeli_RSC.h:140</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_aaab6cf4a5997c32adea594fa3ae4ceac"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#aaab6cf4a5997c32adea594fa3ae4ceac">AP_MotorsHeli_RSC::set_turbine_start</a></div><div class="ttdeci">void set_turbine_start(bool turbine_start)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00123">AP_MotorsHeli_RSC.h:123</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_ac295567cd6824fbf86be7e34ec8845c0"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#ac295567cd6824fbf86be7e34ec8845c0">AP_MotorsHeli_RSC::get_output_mask</a></div><div class="ttdeci">uint32_t get_output_mask() const</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8cpp_source.html#l00511">AP_MotorsHeli_RSC.cpp:511</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_ad42108be3ceab3461850ec4ad4b5519d"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#ad42108be3ceab3461850ec4ad4b5519d">AP_MotorsHeli_RSC::set_desired_speed</a></div><div class="ttdeci">void set_desired_speed(float desired_speed)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00082">AP_MotorsHeli_RSC.h:82</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_ae683c71d98876e13d0c7d086dd52e89a"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#ae683c71d98876e13d0c7d086dd52e89a">AP_MotorsHeli_RSC::_rsc_setpoint</a></div><div class="ttdeci">AP_Int16 _rsc_setpoint</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00138">AP_MotorsHeli_RSC.h:138</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_aedbcba02e003b6a77f71d6112723e28e"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#aedbcba02e003b6a77f71d6112723e28e">AP_MotorsHeli_RSC::RotorControlState</a></div><div class="ttdeci">RotorControlState</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00057">AP_MotorsHeli_RSC.h:57</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_aedbcba02e003b6a77f71d6112723e28ea18ff74f43da410c5529f7d6fca84f115"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#aedbcba02e003b6a77f71d6112723e28ea18ff74f43da410c5529f7d6fca84f115">AP_MotorsHeli_RSC::RotorControlState::ACTIVE</a></div><div class="ttdeci">@ ACTIVE</div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_aedbcba02e003b6a77f71d6112723e28ea615a46af313786fc4e349f34118be111"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#aedbcba02e003b6a77f71d6112723e28ea615a46af313786fc4e349f34118be111">AP_MotorsHeli_RSC::RotorControlState::STOP</a></div><div class="ttdeci">@ STOP</div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_aedbcba02e003b6a77f71d6112723e28eaa5daf7f2ebbba4975d61dab1c40188c7"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#aedbcba02e003b6a77f71d6112723e28eaa5daf7f2ebbba4975d61dab1c40188c7">AP_MotorsHeli_RSC::RotorControlState::IDLE</a></div><div class="ttdeci">@ IDLE</div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_af5ad3a88652248723b4431d2c9dee51f"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#af5ad3a88652248723b4431d2c9dee51f">AP_MotorsHeli_RSC::_runup_time</a></div><div class="ttdeci">AP_Int8 _runup_time</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00141">AP_MotorsHeli_RSC.h:141</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html"><div class="ttname"><a href="classAP__MotorsHeli.html">AP_MotorsHeli</a></div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00039">AP_MotorsHeli.h:39</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a040017a4dbd93c1fa44590615495aff4"><div class="ttname"><a href="classAP__MotorsHeli.html#a040017a4dbd93c1fa44590615495aff4">AP_MotorsHeli::output_to_motors</a></div><div class="ttdeci">virtual void output_to_motors()=0</div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a0701afa0653bf434dbc2a69b9bcecd10"><div class="ttname"><a href="classAP__MotorsHeli.html#a0701afa0653bf434dbc2a69b9bcecd10">AP_MotorsHeli::save_params_on_disarm</a></div><div class="ttdeci">void save_params_on_disarm() override</div><div class="ttdef"><b>Definition</b> <a href="#l00467">AP_MotorsHeli.cpp:467</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a119ae74787075e6d38a7cfdf4d442cd3"><div class="ttname"><a href="classAP__MotorsHeli.html#a119ae74787075e6d38a7cfdf4d442cd3">AP_MotorsHeli::heli_option</a></div><div class="ttdeci">bool heli_option(HeliOption opt) const</div><div class="ttdef"><b>Definition</b> <a href="#l00486">AP_MotorsHeli.cpp:486</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a1f608e610e713631f01e89f7c6f93dde"><div class="ttname"><a href="classAP__MotorsHeli.html#a1f608e610e713631f01e89f7c6f93dde">AP_MotorsHeli::set_desired_rotor_speed</a></div><div class="ttdeci">virtual void set_desired_rotor_speed(float desired_speed)</div><div class="ttdef"><b>Definition</b> <a href="#l00574">AP_MotorsHeli.cpp:574</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a2edf6b6e313439cf704151c7ce69aea7"><div class="ttname"><a href="classAP__MotorsHeli.html#a2edf6b6e313439cf704151c7ce69aea7">AP_MotorsHeli::init</a></div><div class="ttdeci">void init(motor_frame_class frame_class, motor_frame_type frame_type) override</div><div class="ttdef"><b>Definition</b> <a href="#l00157">AP_MotorsHeli.cpp:157</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a30ff2684527b3abb34fc6388bb9d3f7f"><div class="ttname"><a href="classAP__MotorsHeli.html#a30ff2684527b3abb34fc6388bb9d3f7f">AP_MotorsHeli::set_update_rate</a></div><div class="ttdeci">virtual void set_update_rate(uint16_t speed_hz) override=0</div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a358ef48d68a29951e7b708eb8c3c4693"><div class="ttname"><a href="classAP__MotorsHeli.html#a358ef48d68a29951e7b708eb8c3c4693">AP_MotorsHeli::motor_test_checks</a></div><div class="ttdeci">bool motor_test_checks(size_t buflen, char *buffer) const override</div><div class="ttdef"><b>Definition</b> <a href="#l00560">AP_MotorsHeli.cpp:560</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a3b035659d70ab36f882f7c9871074b0c"><div class="ttname"><a href="classAP__MotorsHeli.html#a3b035659d70ab36f882f7c9871074b0c">AP_MotorsHeli::calculate_scalars</a></div><div class="ttdeci">virtual void calculate_scalars()=0</div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a483d0b7981e947695bcc7bc37d58b62f"><div class="ttname"><a href="classAP__MotorsHeli.html#a483d0b7981e947695bcc7bc37d58b62f">AP_MotorsHeli::HeliOption</a></div><div class="ttdeci">HeliOption</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00146">AP_MotorsHeli.h:146</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a4dbab26c560a82f5a26f4bd3fb307e2c"><div class="ttname"><a href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">AP_MotorsHeli::_main_rotor</a></div><div class="ttdeci">AP_MotorsHeli_RSC _main_rotor</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00185">AP_MotorsHeli.h:185</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a546eb49421a44d2c1723fcac90dd0f59a517ead0a327c60eab385a55f4962017f"><div class="ttname"><a href="classAP__MotorsHeli.html#a546eb49421a44d2c1723fcac90dd0f59a517ead0a327c60eab385a55f4962017f">AP_MotorsHeli::HOVER_LEARN_AND_SAVE</a></div><div class="ttdeci">@ HOVER_LEARN_AND_SAVE</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00241">AP_MotorsHeli.h:240</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a546eb49421a44d2c1723fcac90dd0f59ae071621d914b43253811881a494b317a"><div class="ttname"><a href="classAP__MotorsHeli.html#a546eb49421a44d2c1723fcac90dd0f59ae071621d914b43253811881a494b317a">AP_MotorsHeli::HOVER_LEARN_DISABLED</a></div><div class="ttdeci">@ HOVER_LEARN_DISABLED</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00238">AP_MotorsHeli.h:238</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a57451b83ffd98c2ec06dbc92610f5ade"><div class="ttname"><a href="classAP__MotorsHeli.html#a57451b83ffd98c2ec06dbc92610f5ade">AP_MotorsHeli::update_takeoff_collective_flag</a></div><div class="ttdeci">void update_takeoff_collective_flag(float coll_out)</div><div class="ttdef"><b>Definition</b> <a href="#l00476">AP_MotorsHeli.cpp:476</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a5a05a6fdf12a55183dce4a46784b5255"><div class="ttname"><a href="classAP__MotorsHeli.html#a5a05a6fdf12a55183dce4a46784b5255">AP_MotorsHeli::output_min</a></div><div class="ttdeci">void output_min() override</div><div class="ttdef"><b>Definition</b> <a href="#l00188">AP_MotorsHeli.cpp:188</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a5b5a08b2aac5950f3a63119e5105b308"><div class="ttname"><a href="classAP__MotorsHeli.html#a5b5a08b2aac5950f3a63119e5105b308">AP_MotorsHeli::update_throttle_filter</a></div><div class="ttdeci">void update_throttle_filter() override</div><div class="ttdef"><b>Definition</b> <a href="#l00429">AP_MotorsHeli.cpp:429</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a616135aa893fcfd36367fcc0d74cc282"><div class="ttname"><a href="classAP__MotorsHeli.html#a616135aa893fcfd36367fcc0d74cc282">AP_MotorsHeli::update_throttle_hover</a></div><div class="ttdeci">void update_throttle_hover(float dt)</div><div class="ttdef"><b>Definition</b> <a href="#l00451">AP_MotorsHeli.cpp:451</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a661837bc0cce230aa991f7068e3b58d2"><div class="ttname"><a href="classAP__MotorsHeli.html#a661837bc0cce230aa991f7068e3b58d2">AP_MotorsHeli::init_outputs</a></div><div class="ttdeci">virtual void init_outputs()=0</div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a681e1032cb75a6cd1072b2c060701cdb"><div class="ttname"><a href="classAP__MotorsHeli.html#a681e1032cb75a6cd1072b2c060701cdb">AP_MotorsHeli::_servo_test_cycle_counter</a></div><div class="ttdeci">uint8_t _servo_test_cycle_counter</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00276">AP_MotorsHeli.h:276</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a6b1ea5d5d974ee9796086b26815d0b1a"><div class="ttname"><a href="classAP__MotorsHeli.html#a6b1ea5d5d974ee9796086b26815d0b1a">AP_MotorsHeli::_frame_class</a></div><div class="ttdeci">motor_frame_class _frame_class</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00279">AP_MotorsHeli.h:279</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a79ba4ca80616d3636b945f3c96f10508"><div class="ttname"><a href="classAP__MotorsHeli.html#a79ba4ca80616d3636b945f3c96f10508">AP_MotorsHeli::_frame_type</a></div><div class="ttdeci">motor_frame_type _frame_type</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00278">AP_MotorsHeli.h:278</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a82bbdd9f88cb6a1e2ab13fafddafe639"><div class="ttname"><a href="classAP__MotorsHeli.html#a82bbdd9f88cb6a1e2ab13fafddafe639">AP_MotorsHeli::output_disarmed</a></div><div class="ttdeci">void output_disarmed()</div><div class="ttdef"><b>Definition</b> <a href="#l00237">AP_MotorsHeli.cpp:237</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a8f34f136223326e0494d5a5762a9bc58"><div class="ttname"><a href="classAP__MotorsHeli.html#a8f34f136223326e0494d5a5762a9bc58">AP_MotorsHeli::_collective_hover_learn</a></div><div class="ttdeci">AP_Int8 _collective_hover_learn</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00266">AP_MotorsHeli.h:266</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a924990fa7731d3b5dd437ba90ba2a77f"><div class="ttname"><a href="classAP__MotorsHeli.html#a924990fa7731d3b5dd437ba90ba2a77f">AP_MotorsHeli::_servo_test</a></div><div class="ttdeci">AP_Int8 _servo_test</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00264">AP_MotorsHeli.h:264</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a925cc56a1a581f42507ac39218e26632a1cf7e40d83c79e7c308a8d50e0bdfa0b"><div class="ttname"><a href="classAP__MotorsHeli.html#a925cc56a1a581f42507ac39218e26632a1cf7e40d83c79e7c308a8d50e0bdfa0b">AP_MotorsHeli::SERVO_CONTROL_MODE_MANUAL_MIN</a></div><div class="ttdeci">@ SERVO_CONTROL_MODE_MANUAL_MIN</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00176">AP_MotorsHeli.h:176</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a925cc56a1a581f42507ac39218e26632a40869bd378ab488e786194983d31c390"><div class="ttname"><a href="classAP__MotorsHeli.html#a925cc56a1a581f42507ac39218e26632a40869bd378ab488e786194983d31c390">AP_MotorsHeli::SERVO_CONTROL_MODE_MANUAL_OSCILLATE</a></div><div class="ttdeci">@ SERVO_CONTROL_MODE_MANUAL_OSCILLATE</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00177">AP_MotorsHeli.h:177</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a925cc56a1a581f42507ac39218e26632a7a5fea76230f36f1ebc6d1d354559d66"><div class="ttname"><a href="classAP__MotorsHeli.html#a925cc56a1a581f42507ac39218e26632a7a5fea76230f36f1ebc6d1d354559d66">AP_MotorsHeli::SERVO_CONTROL_MODE_MANUAL_CENTER</a></div><div class="ttdeci">@ SERVO_CONTROL_MODE_MANUAL_CENTER</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00175">AP_MotorsHeli.h:175</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a925cc56a1a581f42507ac39218e26632a93c38a75fd310db6850589289888db61"><div class="ttname"><a href="classAP__MotorsHeli.html#a925cc56a1a581f42507ac39218e26632a93c38a75fd310db6850589289888db61">AP_MotorsHeli::SERVO_CONTROL_MODE_MANUAL_PASSTHROUGH</a></div><div class="ttdeci">@ SERVO_CONTROL_MODE_MANUAL_PASSTHROUGH</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00173">AP_MotorsHeli.h:173</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a925cc56a1a581f42507ac39218e26632a9a0cd8b8b01a7a8369c12df193d8f4e2"><div class="ttname"><a href="classAP__MotorsHeli.html#a925cc56a1a581f42507ac39218e26632a9a0cd8b8b01a7a8369c12df193d8f4e2">AP_MotorsHeli::SERVO_CONTROL_MODE_AUTOMATED</a></div><div class="ttdeci">@ SERVO_CONTROL_MODE_AUTOMATED</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00172">AP_MotorsHeli.h:172</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a925cc56a1a581f42507ac39218e26632afae840b046bd2c2e0855ff1eee013f52"><div class="ttname"><a href="classAP__MotorsHeli.html#a925cc56a1a581f42507ac39218e26632afae840b046bd2c2e0855ff1eee013f52">AP_MotorsHeli::SERVO_CONTROL_MODE_MANUAL_MAX</a></div><div class="ttdeci">@ SERVO_CONTROL_MODE_MANUAL_MAX</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00174">AP_MotorsHeli.h:174</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a946467f33d7d0e01d7adffefafdebafa"><div class="ttname"><a href="classAP__MotorsHeli.html#a946467f33d7d0e01d7adffefafdebafa">AP_MotorsHeli::_collective_min_deg</a></div><div class="ttdeci">AP_Float _collective_min_deg</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00271">AP_MotorsHeli.h:271</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a94b072334fcf06cfe3ae5977fafebaf4"><div class="ttname"><a href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">AP_MotorsHeli::_heliflags</a></div><div class="ttdeci">struct AP_MotorsHeli::heliflags_type _heliflags</div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_aadcd5ecaff42905d30c9e038300482b6"><div class="ttname"><a href="classAP__MotorsHeli.html#aadcd5ecaff42905d30c9e038300482b6">AP_MotorsHeli::var_info</a></div><div class="ttdeci">static const struct AP_Param::GroupInfo var_info[]</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00023">AP_MotorsHeli.h:23</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_aaed6411adeface8fd4b0078a8c6f7445"><div class="ttname"><a href="classAP__MotorsHeli.html#aaed6411adeface8fd4b0078a8c6f7445">AP_MotorsHeli::_collective_zero_thrust_pct</a></div><div class="ttdeci">float _collective_zero_thrust_pct</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00274">AP_MotorsHeli.h:274</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_aafd84af3b1560f7b86bd2b68344c615c"><div class="ttname"><a href="classAP__MotorsHeli.html#aafd84af3b1560f7b86bd2b68344c615c">AP_MotorsHeli::_servo_mode</a></div><div class="ttdeci">AP_Int8 _servo_mode</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00263">AP_MotorsHeli.h:263</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_ab34227cad1f6321398fbc636914e8362"><div class="ttname"><a href="classAP__MotorsHeli.html#ab34227cad1f6321398fbc636914e8362">AP_MotorsHeli::using_leaky_integrator</a></div><div class="ttdeci">bool using_leaky_integrator() const</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00151">AP_MotorsHeli.h:151</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_ab63a34a6f966cabf867ca1f6ce49a5e1"><div class="ttname"><a href="classAP__MotorsHeli.html#ab63a34a6f966cabf867ca1f6ce49a5e1">AP_MotorsHeli::get_rotor_control_state</a></div><div class="ttdeci">AP_MotorsHeli_RSC::RotorControlState get_rotor_control_state() const</div><div class="ttdef"><b>Definition</b> <a href="#l00580">AP_MotorsHeli.cpp:580</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_ab71c94d1850c9749dc45388b3b4578de"><div class="ttname"><a href="classAP__MotorsHeli.html#ab71c94d1850c9749dc45388b3b4578de">AP_MotorsHeli::move_actuators</a></div><div class="ttdeci">virtual void move_actuators(float roll_out, float pitch_out, float coll_in, float yaw_out)=0</div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_ab9f72dd9a10890cdd5b284c339b5a043"><div class="ttname"><a href="classAP__MotorsHeli.html#ab9f72dd9a10890cdd5b284c339b5a043">AP_MotorsHeli::output</a></div><div class="ttdeci">void output() override</div><div class="ttdef"><b>Definition</b> <a href="#l00202">AP_MotorsHeli.cpp:202</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_ac506d005ab74fdd87c5ed878ef4cb388"><div class="ttname"><a href="classAP__MotorsHeli.html#ac506d005ab74fdd87c5ed878ef4cb388">AP_MotorsHeli::arming_checks</a></div><div class="ttdeci">bool arming_checks(size_t buflen, char *buffer) const override</div><div class="ttdef"><b>Definition</b> <a href="#l00502">AP_MotorsHeli.cpp:502</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_ad24b8feac8506219725a1d051edb744e"><div class="ttname"><a href="classAP__MotorsHeli.html#ad24b8feac8506219725a1d051edb744e">AP_MotorsHeli::calculate_armed_scalars</a></div><div class="ttdeci">virtual void calculate_armed_scalars()=0</div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_ada94ad62a4971929caec17eaf954551f"><div class="ttname"><a href="classAP__MotorsHeli.html#ada94ad62a4971929caec17eaf954551f">AP_MotorsHeli::servo_test</a></div><div class="ttdeci">virtual void servo_test()=0</div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_adcf40cee4254ffd6581de67ba17b6358"><div class="ttname"><a href="classAP__MotorsHeli.html#adcf40cee4254ffd6581de67ba17b6358">AP_MotorsHeli::_collective_max_deg</a></div><div class="ttdeci">AP_Float _collective_max_deg</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00270">AP_MotorsHeli.h:270</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_ade550578da44ebca78eca8323870142c"><div class="ttname"><a href="classAP__MotorsHeli.html#ade550578da44ebca78eca8323870142c">AP_MotorsHeli::reset_flight_controls</a></div><div class="ttdeci">void reset_flight_controls()</div><div class="ttdef"><b>Definition</b> <a href="#l00443">AP_MotorsHeli.cpp:443</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_ae01e848405aa01b9bdf5c55e1d4f2966"><div class="ttname"><a href="classAP__MotorsHeli.html#ae01e848405aa01b9bdf5c55e1d4f2966">AP_MotorsHeli::get_motor_mask</a></div><div class="ttdeci">virtual uint32_t get_motor_mask() override</div><div class="ttdef"><b>Definition</b> <a href="#l00568">AP_MotorsHeli.cpp:568</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_ae3f3c61761c63d6205e813fd24608367"><div class="ttname"><a href="classAP__MotorsHeli.html#ae3f3c61761c63d6205e813fd24608367">AP_MotorsHeli::update_motor_control</a></div><div class="ttdeci">virtual void update_motor_control(AP_MotorsHeli_RSC::RotorControlState state)=0</div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_ae6335d71c6798b1238849509dfeec4fc"><div class="ttname"><a href="classAP__MotorsHeli.html#ae6335d71c6798b1238849509dfeec4fc">AP_MotorsHeli::_collective_hover</a></div><div class="ttdeci">AP_Float _collective_hover</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00265">AP_MotorsHeli.h:265</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_ae822473fa28b098aec95b843c104be57"><div class="ttname"><a href="classAP__MotorsHeli.html#ae822473fa28b098aec95b843c104be57">AP_MotorsHeli::update_turbine_start</a></div><div class="ttdeci">void update_turbine_start()</div><div class="ttdef"><b>Definition</b> <a href="#l00492">AP_MotorsHeli.cpp:492</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_aed3aba296ec34d35571237e86fd60078"><div class="ttname"><a href="classAP__MotorsHeli.html#aed3aba296ec34d35571237e86fd60078">AP_MotorsHeli::output_logic</a></div><div class="ttdeci">void output_logic()</div><div class="ttdef"><b>Definition</b> <a href="#l00308">AP_MotorsHeli.cpp:308</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_af9a8373c52a44382d0286efc792f52d5"><div class="ttname"><a href="classAP__MotorsHeli.html#af9a8373c52a44382d0286efc792f52d5">AP_MotorsHeli::output_armed_stabilizing</a></div><div class="ttdeci">void output_armed_stabilizing() override</div><div class="ttdef"><b>Definition</b> <a href="#l00226">AP_MotorsHeli.cpp:226</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_afa656660fd9ac758dc989557383c2de7"><div class="ttname"><a href="classAP__MotorsHeli.html#afa656660fd9ac758dc989557383c2de7">AP_MotorsHeli::_heli_options</a></div><div class="ttdeci">AP_Int8 _heli_options</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00267">AP_MotorsHeli.h:267</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a0c24486701885def1e9fc2dfc4680e7d"><div class="ttname"><a href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">AP_Motors::_dt</a></div><div class="ttdeci">float _dt</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00313">AP_Motors_Class.h:313</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a100eeeda368fceb91a74f6ec4176bb11a40badbb2bca8336d5c737768cc0db265"><div class="ttname"><a href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a40badbb2bca8336d5c737768cc0db265">AP_Motors::SpoolState::SPOOLING_DOWN</a></div><div class="ttdeci">@ SPOOLING_DOWN</div></div>
<div class="ttc" id="aclassAP__Motors_html_a100eeeda368fceb91a74f6ec4176bb11a6113eb55b67576efc0e9d9d323778a9c"><div class="ttname"><a href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a6113eb55b67576efc0e9d9d323778a9c">AP_Motors::SpoolState::SPOOLING_UP</a></div><div class="ttdeci">@ SPOOLING_UP</div></div>
<div class="ttc" id="aclassAP__Motors_html_a100eeeda368fceb91a74f6ec4176bb11a7e129e38b98ca1e41fa3861938d6c0e2"><div class="ttname"><a href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11a7e129e38b98ca1e41fa3861938d6c0e2">AP_Motors::SpoolState::SHUT_DOWN</a></div><div class="ttdeci">@ SHUT_DOWN</div></div>
<div class="ttc" id="aclassAP__Motors_html_a100eeeda368fceb91a74f6ec4176bb11aa70e75e89c86a67aea72b59d4f6fcedb"><div class="ttname"><a href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11aa70e75e89c86a67aea72b59d4f6fcedb">AP_Motors::SpoolState::THROTTLE_UNLIMITED</a></div><div class="ttdeci">@ THROTTLE_UNLIMITED</div></div>
<div class="ttc" id="aclassAP__Motors_html_a100eeeda368fceb91a74f6ec4176bb11adcf419d8df609385bfcde58697857178"><div class="ttname"><a href="classAP__Motors.html#a100eeeda368fceb91a74f6ec4176bb11adcf419d8df609385bfcde58697857178">AP_Motors::SpoolState::GROUND_IDLE</a></div><div class="ttdeci">@ GROUND_IDLE</div></div>
<div class="ttc" id="aclassAP__Motors_html_a191acbe0acedd563d2740eb25d150a17"><div class="ttname"><a href="classAP__Motors.html#a191acbe0acedd563d2740eb25d150a17">AP_Motors::_roll_in</a></div><div class="ttdeci">float _roll_in</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00315">AP_Motors_Class.h:315</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a1f4b25d114f7a8612364bb020e77cc67"><div class="ttname"><a href="classAP__Motors.html#a1f4b25d114f7a8612364bb020e77cc67">AP_Motors::_pitch_in</a></div><div class="ttdeci">float _pitch_in</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00317">AP_Motors_Class.h:317</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a1f6590eca66f57a5db90af7d42c46e2c"><div class="ttname"><a href="classAP__Motors.html#a1f6590eca66f57a5db90af7d42c46e2c">AP_Motors::set_limit_flag_pitch_roll_yaw</a></div><div class="ttdeci">void set_limit_flag_pitch_roll_yaw(bool flag)</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8cpp_source.html#l00214">AP_Motors_Class.cpp:214</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a54a436586a970d55788b909fc69d7a0c"><div class="ttname"><a href="classAP__Motors.html#a54a436586a970d55788b909fc69d7a0c">AP_Motors::_speed_hz</a></div><div class="ttdeci">uint16_t _speed_hz</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00314">AP_Motors_Class.h:314</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a5b54fc2816fd4760fd3047cb8e9684aa"><div class="ttname"><a href="classAP__Motors.html#a5b54fc2816fd4760fd3047cb8e9684aa">AP_Motors::get_interlock</a></div><div class="ttdeci">bool get_interlock() const</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00127">AP_Motors_Class.h:127</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a6627b714d7c1240521ae88004462cb11"><div class="ttname"><a href="classAP__Motors.html#a6627b714d7c1240521ae88004462cb11">AP_Motors::_roll_radio_passthrough</a></div><div class="ttdeci">float _roll_radio_passthrough</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00340">AP_Motors_Class.h:340</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a6712c59a48d46d6af2c7dd6b11a57abb"><div class="ttname"><a href="classAP__Motors.html#a6712c59a48d46d6af2c7dd6b11a57abb">AP_Motors::_throttle_radio_passthrough</a></div><div class="ttdeci">float _throttle_radio_passthrough</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00342">AP_Motors_Class.h:342</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a67a133570ae075a874c6522b23c5261b"><div class="ttname"><a href="classAP__Motors.html#a67a133570ae075a874c6522b23c5261b">AP_Motors::armed</a></div><div class="ttdeci">bool armed() const</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00120">AP_Motors_Class.h:120</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a67c3d8b0e216ff11e444992571fa10c3"><div class="ttname"><a href="classAP__Motors.html#a67c3d8b0e216ff11e444992571fa10c3">AP_Motors::motor_frame_class</a></div><div class="ttdeci">motor_frame_class</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00059">AP_Motors_Class.h:59</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a67c3d8b0e216ff11e444992571fa10c3a041c4279b5f92b03b44eba7403768b25"><div class="ttname"><a href="classAP__Motors.html#a67c3d8b0e216ff11e444992571fa10c3a041c4279b5f92b03b44eba7403768b25">AP_Motors::MOTOR_FRAME_HELI_QUAD</a></div><div class="ttdeci">@ MOTOR_FRAME_HELI_QUAD</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00073">AP_Motors_Class.h:73</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a67c3d8b0e216ff11e444992571fa10c3ae4bf0ecfd518fe98c48174e63784d2dc"><div class="ttname"><a href="classAP__Motors.html#a67c3d8b0e216ff11e444992571fa10c3ae4bf0ecfd518fe98c48174e63784d2dc">AP_Motors::MOTOR_FRAME_HELI_DUAL</a></div><div class="ttdeci">@ MOTOR_FRAME_HELI_DUAL</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00071">AP_Motors_Class.h:71</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a6d97fa8cc44d3c460ad4e5d1f065e74a"><div class="ttname"><a href="classAP__Motors.html#a6d97fa8cc44d3c460ad4e5d1f065e74a">AP_Motors::arming_checks</a></div><div class="ttdeci">virtual bool arming_checks(size_t buflen, char *buffer) const</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8cpp_source.html#l00286">AP_Motors_Class.cpp:286</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a7ba8503cfea374e85ff327dbe892f786"><div class="ttname"><a href="classAP__Motors.html#a7ba8503cfea374e85ff327dbe892f786">AP_Motors::get_throttle</a></div><div class="ttdeci">float get_throttle() const</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00158">AP_Motors_Class.h:158</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a9a7557ad22f599c217ae7fe237f0ddae"><div class="ttname"><a href="classAP__Motors.html#a9a7557ad22f599c217ae7fe237f0ddae">AP_Motors::_throttle_in</a></div><div class="ttdeci">float _throttle_in</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00321">AP_Motors_Class.h:321</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_aa4803e71998315a2c7fbcdf6321fbe32"><div class="ttname"><a href="classAP__Motors.html#aa4803e71998315a2c7fbcdf6321fbe32">AP_Motors::_yaw_radio_passthrough</a></div><div class="ttdeci">float _yaw_radio_passthrough</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00343">AP_Motors_Class.h:343</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_aafc151f2cc805a1b17e9ec2cbe36037c"><div class="ttname"><a href="classAP__Motors.html#aafc151f2cc805a1b17e9ec2cbe36037c">AP_Motors::motor_frame_type</a></div><div class="ttdeci">motor_frame_type</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00083">AP_Motors_Class.h:83</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_aafeb2d0a52ac147cb7a06d82cbd9ec2a"><div class="ttname"><a href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">AP_Motors::limit</a></div><div class="ttdeci">struct AP_Motors::AP_Motors_limit limit</div></div>
<div class="ttc" id="aclassAP__Motors_html_ab25bd74b948cf11cc459665619016b99a7e129e38b98ca1e41fa3861938d6c0e2"><div class="ttname"><a href="classAP__Motors.html#ab25bd74b948cf11cc459665619016b99a7e129e38b98ca1e41fa3861938d6c0e2">AP_Motors::DesiredSpoolState::SHUT_DOWN</a></div><div class="ttdeci">@ SHUT_DOWN</div></div>
<div class="ttc" id="aclassAP__Motors_html_ab25bd74b948cf11cc459665619016b99aa70e75e89c86a67aea72b59d4f6fcedb"><div class="ttname"><a href="classAP__Motors.html#ab25bd74b948cf11cc459665619016b99aa70e75e89c86a67aea72b59d4f6fcedb">AP_Motors::DesiredSpoolState::THROTTLE_UNLIMITED</a></div><div class="ttdeci">@ THROTTLE_UNLIMITED</div></div>
<div class="ttc" id="aclassAP__Motors_html_ab25bd74b948cf11cc459665619016b99adcf419d8df609385bfcde58697857178"><div class="ttname"><a href="classAP__Motors.html#ab25bd74b948cf11cc459665619016b99adcf419d8df609385bfcde58697857178">AP_Motors::DesiredSpoolState::GROUND_IDLE</a></div><div class="ttdeci">@ GROUND_IDLE</div></div>
<div class="ttc" id="aclassAP__Motors_html_ab3685c6a458e9d7d763f5b24054484d0"><div class="ttname"><a href="classAP__Motors.html#ab3685c6a458e9d7d763f5b24054484d0">AP_Motors::_throttle_filter</a></div><div class="ttdeci">LowPassFilterFloat _throttle_filter</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00327">AP_Motors_Class.h:327</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_ac34130aec7fac1efb41c8faa00b8fa83"><div class="ttname"><a href="classAP__Motors.html#ac34130aec7fac1efb41c8faa00b8fa83">AP_Motors::_pitch_radio_passthrough</a></div><div class="ttdeci">float _pitch_radio_passthrough</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00341">AP_Motors_Class.h:341</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_ad4cc725aa3bc4553ed41ce186b5e520a"><div class="ttname"><a href="classAP__Motors.html#ad4cc725aa3bc4553ed41ce186b5e520a">AP_Motors::_yaw_in</a></div><div class="ttdeci">float _yaw_in</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00319">AP_Motors_Class.h:319</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_ae0d87b2d97a5847884e4925b1a52a872"><div class="ttname"><a href="classAP__Motors.html#ae0d87b2d97a5847884e4925b1a52a872">AP_Motors::_mav_type</a></div><div class="ttdeci">MAV_TYPE _mav_type</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00355">AP_Motors_Class.h:355</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_aeb6348556f3e0f7ba016c8acaa0e4adc"><div class="ttname"><a href="classAP__Motors.html#aeb6348556f3e0f7ba016c8acaa0e4adc">AP_Motors::_spool_state</a></div><div class="ttdeci">SpoolState _spool_state</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00331">AP_Motors_Class.h:331</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_aef72fccfe10aa917d1d0b8a456ec4022"><div class="ttname"><a href="classAP__Motors.html#aef72fccfe10aa917d1d0b8a456ec4022">AP_Motors::_spool_desired</a></div><div class="ttdeci">DesiredSpoolState _spool_desired</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00330">AP_Motors_Class.h:330</a></div></div>
<div class="ttc" id="aclassLowPassFilter_html_a34bc75aa770bc6cc0facee3b43a05bec"><div class="ttname"><a href="classLowPassFilter.html#a34bc75aa770bc6cc0facee3b43a05bec">LowPassFilter::get</a></div><div class="ttdeci">const T &amp; get() const</div><div class="ttdef"><b>Definition</b> <a href="LowPassFilter_8cpp_source.html#l00128">LowPassFilter.cpp:128</a></div></div>
<div class="ttc" id="aclassLowPassFilter_html_aa390849d2e18ff3287f92b89d8657841"><div class="ttname"><a href="classLowPassFilter.html#aa390849d2e18ff3287f92b89d8657841">LowPassFilter::apply</a></div><div class="ttdeci">T apply(T sample, float dt)</div><div class="ttdef"><b>Definition</b> <a href="LowPassFilter_8cpp_source.html#l00118">LowPassFilter.cpp:118</a></div></div>
<div class="ttc" id="aclassLowPassFilter_html_adad51ea3b156f167fff0fb586a912cb5"><div class="ttname"><a href="classLowPassFilter.html#adad51ea3b156f167fff0fb586a912cb5">LowPassFilter::reset</a></div><div class="ttdeci">void reset(T value)</div><div class="ttdef"><b>Definition</b> <a href="LowPassFilter_8cpp_source.html#l00133">LowPassFilter.cpp:133</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_a0c30ba83758973bae63a9b0f515b995b"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#a0c30ba83758973bae63a9b0f515b995b">AP_MotorsHeli::heliflags_type::rotor_spooldown_complete</a></div><div class="ttdeci">uint8_t rotor_spooldown_complete</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00255">AP_MotorsHeli.h:255</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_a7a5a1186398b83f33e2c978eebaf431c"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#a7a5a1186398b83f33e2c978eebaf431c">AP_MotorsHeli::heliflags_type::init_targets_on_arming</a></div><div class="ttdeci">uint8_t init_targets_on_arming</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00247">AP_MotorsHeli.h:247</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_a8159cc39df5dedd29fef4d8d9f0f7c9b"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#a8159cc39df5dedd29fef4d8d9f0f7c9b">AP_MotorsHeli::heliflags_type::servo_test_running</a></div><div class="ttdeci">uint8_t servo_test_running</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00251">AP_MotorsHeli.h:251</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_a99ea09bf2b220cb66752a5e0d89c9ef2"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#a99ea09bf2b220cb66752a5e0d89c9ef2">AP_MotorsHeli::heliflags_type::rotor_runup_complete</a></div><div class="ttdeci">uint8_t rotor_runup_complete</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00246">AP_MotorsHeli.h:246</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_a9c4799f9487b722faedceb1d7b0fc9ca"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#a9c4799f9487b722faedceb1d7b0fc9ca">AP_MotorsHeli::heliflags_type::land_complete</a></div><div class="ttdeci">uint8_t land_complete</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00252">AP_MotorsHeli.h:252</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_aa381a9dd2a1668072d1df9476c2f05e7"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#aa381a9dd2a1668072d1df9476c2f05e7">AP_MotorsHeli::heliflags_type::takeoff_collective</a></div><div class="ttdeci">uint8_t takeoff_collective</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00253">AP_MotorsHeli.h:253</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_aae441aed2609466e47077d369d728b5a"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#aae441aed2609466e47077d369d728b5a">AP_MotorsHeli::heliflags_type::start_engine</a></div><div class="ttdeci">uint8_t start_engine</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00256">AP_MotorsHeli.h:256</a></div></div>
<div class="ttc" id="astructAP__Motors_1_1AP__Motors__limit_html_ac52a828197746fda049c092888a10c40"><div class="ttname"><a href="structAP__Motors_1_1AP__Motors__limit.html#ac52a828197746fda049c092888a10c40">AP_Motors::AP_Motors_limit::throttle_upper</a></div><div class="ttdeci">bool throttle_upper</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00205">AP_Motors_Class.h:205</a></div></div>
<div class="ttc" id="astructAP__Motors_1_1AP__Motors__limit_html_afd0229f4c5b9f51c174b3581dea3f51c"><div class="ttname"><a href="structAP__Motors_1_1AP__Motors__limit.html#afd0229f4c5b9f51c174b3581dea3f51c">AP_Motors::AP_Motors_limit::throttle_lower</a></div><div class="ttdeci">bool throttle_lower</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00204">AP_Motors_Class.h:204</a></div></div>
<div class="ttc" id="astructAP__Param_1_1GroupInfo_html"><div class="ttname"><a href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00199">AP_Param.h:199</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 22 2024 16:14:14 for APM:Libraries by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
