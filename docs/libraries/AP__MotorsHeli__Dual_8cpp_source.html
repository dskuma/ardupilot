<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>APM:Libraries: libraries/AP_Motors/AP_MotorsHeli_Dual.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">APM:Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_e2208a4dfd218f697a2a26cf1e819f73.html">AP_Motors</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">AP_MotorsHeli_Dual.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="AP__MotorsHeli__Dual_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment"> *  This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"> *  it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"> *  the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment"> *  (at your option) any later version.</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"> *</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment"> *  This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment"> *  but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment"> *  GNU General Public License for more details.</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment"> *</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment"> *  You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment"> *  along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"> */</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;<a class="code" href="AP__HAL_8h.html">AP_HAL/AP_HAL.h</a>&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &quot;<a class="code" href="AP__MotorsHeli__Dual_8h.html">AP_MotorsHeli_Dual.h</a>&quot;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &lt;<a class="code" href="GCS_8h.html">GCS_MAVLink/GCS.h</a>&gt;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="keyword">extern</span> <span class="keyword">const</span> <a class="code hl_class" href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a>&amp; <a class="code hl_variable" href="AP__MotorsHeli__Dual_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>;</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span> </div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="keyword">const</span> <a class="code hl_struct" href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a> <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#ae3b57352c2895e1745c38d007f1e214f">AP_MotorsHeli_Dual::var_info</a>[] = {</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>    <a class="code hl_define" href="AP__Param_8h.html#a0a8f85b5d68c3b15980239a2a6c1d4fb">AP_NESTEDGROUPINFO</a>(<a class="code hl_class" href="classAP__MotorsHeli.html">AP_MotorsHeli</a>, 0),</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span> </div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>    <span class="comment">// Indices 1-6 were used by servo position params and should not be used</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span> </div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>    <span class="comment">// Indices 7-8 were used by phase angle params and should not be used</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span> </div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>    <span class="comment">// @Param: DUAL_MODE</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>    <span class="comment">// @DisplayName: Dual Mode</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>    <span class="comment">// @Description: Sets the dual mode of the heli, either as tandem, transverse, or intermeshing/coaxial.</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>    <span class="comment">// @Values: 0:Longitudinal, 1:Transverse, 2:Intermeshing/Coaxial</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;DUAL_MODE&quot;</span>, 9, <a class="code hl_class" href="classAP__MotorsHeli__Dual.html">AP_MotorsHeli_Dual</a>, _dual_mode, <a class="code hl_define" href="AP__MotorsHeli__Dual_8h.html#ae611b95f6a88d30003158a2a1e5cf339">AP_MOTORS_HELI_DUAL_MODE_TANDEM</a>),</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span> </div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>    <span class="comment">// @Param: DCP_SCALER</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>    <span class="comment">// @DisplayName: Differential-Collective-Pitch Scaler</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>    <span class="comment">// @Description: Scaling factor applied to the differential-collective-pitch</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    <span class="comment">// @Range: 0 1</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;DCP_SCALER&quot;</span>, 10, <a class="code hl_class" href="classAP__MotorsHeli__Dual.html">AP_MotorsHeli_Dual</a>, _dcp_scaler, <a class="code hl_define" href="AP__MotorsHeli__Dual_8h.html#ab45e67e70b6bc146e0a4879713c7b927">AP_MOTORS_HELI_DUAL_DCP_SCALER</a>),</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span> </div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    <span class="comment">// @Param: DCP_YAW</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    <span class="comment">// @DisplayName: Differential-Collective-Pitch Yaw Mixing</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    <span class="comment">// @Description: Feed-forward compensation to automatically add yaw input when differential collective pitch is applied.  Disabled for intermeshing mode.</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    <span class="comment">// @Range: -10 10</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;DCP_YAW&quot;</span>, 11, <a class="code hl_class" href="classAP__MotorsHeli__Dual.html">AP_MotorsHeli_Dual</a>, _dcp_yaw_effect, 0),</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span> </div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    <span class="comment">// @Param: YAW_SCALER</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    <span class="comment">// @DisplayName: Scaler for yaw mixing</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    <span class="comment">// @Description: Scaler for mixing yaw into roll or pitch.</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    <span class="comment">// @Range: -10 10</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;YAW_SCALER&quot;</span>, 12, <a class="code hl_class" href="classAP__MotorsHeli__Dual.html">AP_MotorsHeli_Dual</a>, _yaw_scaler, 1.0f),</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span> </div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <span class="comment">// Indices 13-15 were used by RSC_PWM_MIN, RSC_PWM_MAX and RSC_PWM_REV and should not be used</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span> </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    <span class="comment">// @Param: COL2_MIN</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>    <span class="comment">// @DisplayName: Swash 2 Minimum Collective Pitch</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>    <span class="comment">// @Description: Lowest possible servo position in PWM microseconds for swashplate 2</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>    <span class="comment">// @Range: 1000 2000</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>    <span class="comment">// @Units: PWM</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <span class="comment">// @Increment: 1</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;COL2_MIN&quot;</span>, 16, <a class="code hl_class" href="classAP__MotorsHeli__Dual.html">AP_MotorsHeli_Dual</a>, _collective2_min, <a class="code hl_define" href="AP__MotorsHeli__Dual_8h.html#a1cc8c4c4472277f2dfe0b0171b6ba2e5">AP_MOTORS_HELI_DUAL_COLLECTIVE2_MIN</a>),</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span> </div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <span class="comment">// @Param: COL2_MAX</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    <span class="comment">// @DisplayName: Swash 2 Maximum Collective Pitch</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    <span class="comment">// @Description: Highest possible servo position in PWM microseconds for swashplate 2</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    <span class="comment">// @Range: 1000 2000</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    <span class="comment">// @Units: PWM</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    <span class="comment">// @Increment: 1</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;COL2_MAX&quot;</span>, 17, <a class="code hl_class" href="classAP__MotorsHeli__Dual.html">AP_MotorsHeli_Dual</a>, _collective2_max, <a class="code hl_define" href="AP__MotorsHeli__Dual_8h.html#a79f9f61d70afd0e80828f292ca99a523">AP_MOTORS_HELI_DUAL_COLLECTIVE2_MAX</a>),</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span> </div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    <span class="comment">// Indice 18 was used by COL2_MID and should not be used</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span> </div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    <span class="comment">// Indice 19 was used by COL_CTRL_DIR and should not be used</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    <span class="comment">// @Param: SW_TYPE</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    <span class="comment">// @DisplayName: Swash 1 Type</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    <span class="comment">// @Description: H3 is generic, three-servo only. H3_120/H3_140 plates have Motor1 left side, Motor2 right side, Motor3 elevator in rear. HR3_120/HR3_140 have Motor1 right side, Motor2 left side, Motor3 elevator in front - use H3_120/H3_140 and reverse servo and collective directions as necessary. For all H3_90 swashplates use H4_90 and don&#39;t use servo output for the missing servo. For H4-90 Motors1&amp;2 are left/right respectively, Motors3&amp;4 are rear/front respectively. For H4-45 Motors1&amp;2 are LF/RF, Motors3&amp;4 are LR/RR </span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    <span class="comment">// @Values: 0:H3 Generic,1:H1 non-CPPM,2:H3_140,3:H3_120,4:H4_90,5:H4_45</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span> </div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>    <span class="comment">// @Param: SW_COL_DIR</span></div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    <span class="comment">// @DisplayName: Swash 1 Collective Direction</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    <span class="comment">// @Description: Direction collective moves for positive pitch. 0 for Normal, 1 for Reversed</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>    <span class="comment">// @Values: 0:Normal,1:Reversed</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span> </div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    <span class="comment">// @Param: SW_LIN_SVO</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    <span class="comment">// @DisplayName: Linearize Swash 1 Servos</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="comment">// @Description: This linearizes the swashplate 1 servo&#39;s mechanical output to account for nonlinear output due to arm rotation.  This requires a specific setup procedure to work properly.  The servo arm must be centered on the mechanical throw at the servo trim position and the servo trim position kept as close to 1500 as possible. Leveling the swashplate can only be done through the pitch links.  See the ardupilot wiki for more details on setup.</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    <span class="comment">// @Values: 0:Disabled,1:Enabled</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span> </div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <span class="comment">// @Param: SW_H3_ENABLE</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <span class="comment">// @DisplayName: Swash 1 H3 Generic Enable</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    <span class="comment">// @Description: Automatically set when H3 generic swash type is selected for swashplate 1. Do not set manually.</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <span class="comment">// @Values: 0:Disabled,1:Enabled</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span> </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    <span class="comment">// @Param: SW_H3_SV1_POS</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    <span class="comment">// @DisplayName: Swash 1 H3 Generic Servo 1 Position</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <span class="comment">// @Description: Azimuth position on swashplate for servo 1 with the front of the heli being 0 deg</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <span class="comment">// @Range: -180 180</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    <span class="comment">// @Units: deg</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span> </div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <span class="comment">// @Param: SW_H3_SV2_POS</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    <span class="comment">// @DisplayName: Swash 1 H3 Generic Servo 2 Position</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="comment">// @Description: Azimuth position on swashplate 1 for servo 2 with the front of the heli being 0 deg</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    <span class="comment">// @Range: -180 180</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    <span class="comment">// @Units: deg</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span> </div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    <span class="comment">// @Param: SW_H3_SV3_POS</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    <span class="comment">// @DisplayName: Swash 1 H3 Generic Servo 3 Position</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    <span class="comment">// @Description: Azimuth position on swashplate 1 for servo 3 with the front of the heli being 0 deg</span></div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="comment">// @Range: -180 180</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="comment">// @Units: deg</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span> </div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <span class="comment">// @Param: SW_H3_PHANG</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <span class="comment">// @DisplayName: Swash 1 H3 Generic Phase Angle Comp</span></div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    <span class="comment">// @Description: Only for H3 swashplate.  If pitching the swash forward induces a roll, this can be correct the problem</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <span class="comment">// @Range: -30 30</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="comment">// @Units: deg</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="comment">// @Increment: 1</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <a class="code hl_define" href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a>(_swashplate1, <span class="stringliteral">&quot;SW_&quot;</span>, 20, <a class="code hl_class" href="classAP__MotorsHeli__Dual.html">AP_MotorsHeli_Dual</a>, <a class="code hl_class" href="classAP__MotorsHeli__Swash.html">AP_MotorsHeli_Swash</a>),</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span> </div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <span class="comment">// @Param: SW2_TYPE</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <span class="comment">// @DisplayName: Swash 2 Type</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <span class="comment">// @Description: H3 is generic, three-servo only. H3_120/H3_140 plates have Motor1 left side, Motor2 right side, Motor3 elevator in rear. HR3_120/HR3_140 have Motor1 right side, Motor2 left side, Motor3 elevator in front - use H3_120/H3_140 and reverse servo and collective directions as necessary. For all H3_90 swashplates use H4_90 and don&#39;t use servo output for the missing servo. For H4-90 Motors1&amp;2 are left/right respectively, Motors3&amp;4 are rear/front respectively. For H4-45 Motors1&amp;2 are LF/RF, Motors3&amp;4 are LR/RR </span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    <span class="comment">// @Values: 0:H3 Generic,1:H1 non-CPPM,2:H3_140,3:H3_120,4:H4_90,5:H4_45</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span> </div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="comment">// @Param: SW2_COL_DIR</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <span class="comment">// @DisplayName: Swash 2 Collective Direction</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <span class="comment">// @Description: Direction collective moves for positive pitch. 0 for Normal, 1 for Reversed</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <span class="comment">// @Values: 0:Normal,1:Reversed</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span> </div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <span class="comment">// @Param: SW2_LIN_SVO</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    <span class="comment">// @DisplayName: Linearize Swash 2 Servos</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    <span class="comment">// @Description: This linearizes the swashplate 2 servo&#39;s mechanical output to account for nonlinear output due to arm rotation.  This requires a specific setup procedure to work properly.  The servo arm must be centered on the mechanical throw at the servo trim position and the servo trim position kept as close to 1500 as possible. Leveling the swashplate can only be done through the pitch links.  See the ardupilot wiki for more details on setup.</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    <span class="comment">// @Values: 0:Disabled,1:Enabled</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    <span class="comment">// @Param: SW2_H3_ENABLE</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    <span class="comment">// @DisplayName: Swash 2 H3 Generic Enable</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <span class="comment">// @Description: Automatically set when H3 generic swash type is selected for swashplate 2. Do not set manually.</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    <span class="comment">// @Values: 0:Disabled,1:Enabled</span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span> </div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    <span class="comment">// @Param: SW2_H3_SV1_POS</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="comment">// @DisplayName: Swash 2 H3 Generic Servo 1 Position</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <span class="comment">// @Description: Azimuth position on swashplate for servo 1 with the front of the heli being 0 deg</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    <span class="comment">// @Range: -180 180</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    <span class="comment">// @Units: deg</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span> </div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <span class="comment">// @Param: SW2_H3_SV2_POS</span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    <span class="comment">// @DisplayName: Swash 2 H3 Generic Servo 2 Position</span></div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    <span class="comment">// @Description: Azimuth position on swashplate 2 for servo 2 with the front of the heli being 0 deg</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <span class="comment">// @Range: -180 180</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <span class="comment">// @Units: deg</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span> </div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <span class="comment">// @Param: SW2_H3_SV3_POS</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    <span class="comment">// @DisplayName: Swash 2 H3 Generic Servo 3 Position</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    <span class="comment">// @Description: Azimuth position on swashplate 2 for servo 3 with the front of the heli being 0 deg</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    <span class="comment">// @Range: -180 180</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <span class="comment">// @Units: deg</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span> </div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    <span class="comment">// @Param: SW2_H3_PHANG</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    <span class="comment">// @DisplayName: Swash 2 H3 Generic Phase Angle Comp</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <span class="comment">// @Description: Only for H3 swashplate.  If pitching the swash forward induces a roll, this can be correct the problem</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="comment">// @Range: -30 30</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    <span class="comment">// @Units: deg</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    <span class="comment">// @Increment: 1</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>    <a class="code hl_define" href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a>(_swashplate2, <span class="stringliteral">&quot;SW2_&quot;</span>, 21, <a class="code hl_class" href="classAP__MotorsHeli__Dual.html">AP_MotorsHeli_Dual</a>, <a class="code hl_class" href="classAP__MotorsHeli__Swash.html">AP_MotorsHeli_Swash</a>),</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span> </div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    <span class="comment">// @Param: DCP_TRIM</span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <span class="comment">// @DisplayName: Differential Collective Pitch Trim</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <span class="comment">// @Description: Removes I term bias due to center of gravity offsets or discrepancies between rotors in swashplate setup. If DCP axis has I term bias while hovering in calm winds, use value of bias in DCP_TRIM to re-center I term.</span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <span class="comment">// @Range: -0.2 0.2</span></div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;DCP_TRIM&quot;</span>, 22, <a class="code hl_class" href="classAP__MotorsHeli__Dual.html">AP_MotorsHeli_Dual</a>, _dcp_trim, 0.0f),</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span> </div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <span class="comment">// @Param: YAW_REV_EXPO</span></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>    <span class="comment">// @DisplayName: Yaw reverser expo</span></div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    <span class="comment">// @Description: For intermeshing mode only. Yaw revereser smoothing exponent, smoothen transition near zero collective region. Increase this parameter to shink smoothing range. Set to -1 to disable reverser. </span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    <span class="comment">// @Range: -1 1000</span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    <span class="comment">// @Increment: 1.0</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;YAW_REV_EXPO&quot;</span>, 23, <a class="code hl_class" href="classAP__MotorsHeli__Dual.html">AP_MotorsHeli_Dual</a>, _yaw_rev_expo, -1),</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span> </div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    <a class="code hl_define" href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>};</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span> </div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span><span class="comment">// set update rate to motors - a value in hertz</span></div>
<div class="foldopen" id="foldopen00212" data-start="{" data-end="}">
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Dual.html#aa02b6d52fbd392d8e50c6feb79fef768">  212</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Dual.html#aa02b6d52fbd392d8e50c6feb79fef768">AP_MotorsHeli_Dual::set_update_rate</a>( uint16_t speed_hz )</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>{</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    <span class="comment">// record requested speed</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    <a class="code hl_variable" href="classAP__Motors.html#a54a436586a970d55788b909fc69d7a0c">_speed_hz</a> = speed_hz;</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span> </div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    <span class="comment">// setup fast channels</span></div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    uint32_t mask = <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#ac3b37be220f90cae8be8ef45452da1fc">_swashplate1</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#a6f669cda1b14e12302b1b3ebf7cdc5ab">get_output_mask</a>() | <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6fd29c2f7c9fc5c950abebd3f35e0969">_swashplate2</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#a6f669cda1b14e12302b1b3ebf7cdc5ab">get_output_mask</a>();</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span> </div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <a class="code hl_function" href="classAP__Motors.html#a3d84a895c644d34e7fe78d7301ccf534">rc_set_freq</a>(mask, <a class="code hl_variable" href="classAP__Motors.html#a54a436586a970d55788b909fc69d7a0c">_speed_hz</a>);</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>}</div>
</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span> </div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span><span class="comment">// init_outputs</span></div>
<div class="foldopen" id="foldopen00224" data-start="{" data-end="}">
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Dual.html#a22286781e5f676bd00b34cea39481981">  224</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Dual.html#a22286781e5f676bd00b34cea39481981">AP_MotorsHeli_Dual::init_outputs</a>()</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>{</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Motors.html#a1d624c6828c0843a8475a122d47afaac">initialised_ok</a>()) {</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>        <span class="comment">// set rotor servo range</span></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#aeb6143de2bc88e0540acd68349f61c73">init_servo</a>();</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    }</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span> </div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <a class="code hl_function" href="classAP__Motors.html#aa6dd949317fd0d3e44e10b00a4cdece5">set_initialised_ok</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a6b1ea5d5d974ee9796086b26815d0b1a">_frame_class</a> == <a class="code hl_enumvalue" href="classAP__Motors.html#a67c3d8b0e216ff11e444992571fa10c3ae4bf0ecfd518fe98c48174e63784d2dc">MOTOR_FRAME_HELI_DUAL</a>);</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>}</div>
</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span> </div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span><span class="comment">// calculate_armed_scalars</span></div>
<div class="foldopen" id="foldopen00235" data-start="{" data-end="}">
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Dual.html#a6ceac770c46717669afffc50590d93ee">  235</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Dual.html#a6ceac770c46717669afffc50590d93ee">AP_MotorsHeli_Dual::calculate_armed_scalars</a>()</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>{</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>    <span class="comment">// Set rsc mode specific parameters</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a1b6672292d361239bf11433a6ee62a01">_rsc_mode</a>.get() == <a class="code hl_enumvalue" href="AP__MotorsHeli__RSC_8h.html#a36de13430db64e7068d0522f9dc24b96a7433b022b4d35a121548001f3ec5cf9e">ROTOR_CONTROL_MODE_THROTTLECURVE</a> || <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a1b6672292d361239bf11433a6ee62a01">_rsc_mode</a>.get() == <a class="code hl_enumvalue" href="AP__MotorsHeli__RSC_8h.html#a36de13430db64e7068d0522f9dc24b96a3aecae8a93464861924e151011a67619">ROTOR_CONTROL_MODE_AUTOTHROTTLE</a>) {</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a897f34035252d1ce89f564d38ab35dea">set_throttle_curve</a>();</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    }</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    <span class="comment">// keeps user from changing RSC mode while armed</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a1b6672292d361239bf11433a6ee62a01">_rsc_mode</a>.get() != <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#aca3a4d81f1f2921be0099f1f240c60ea">get_control_mode</a>()) {</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a4434e7e3d56b0cf9e0d0901676b8a5a4">reset_rsc_mode_param</a>();</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a2c566a23e7650f17c9375ae2a5119059">save_rsc_mode</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    }</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    <span class="comment">// saves rsc mode parameter when disarmed if it had been reset while armed</span></div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a2c566a23e7650f17c9375ae2a5119059">save_rsc_mode</a> &amp;&amp; !<a class="code hl_function" href="classAP__Motors.html#a67a133570ae075a874c6522b23c5261b">armed</a>()) {</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a1b6672292d361239bf11433a6ee62a01">_rsc_mode</a>.save();</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a2c566a23e7650f17c9375ae2a5119059">save_rsc_mode</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    }</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span> </div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a9cd22561061579ae281aac2a92dc0042">in_autorotation</a>) {</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a9917c1b3cd96935708cdb8b6118da87a">set_autorotation_flag</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a9cd22561061579ae281aac2a92dc0042">in_autorotation</a>);</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>        <span class="comment">// set bailout ramp time</span></div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#ad63386ff867bc4220f388a133d315ca7">use_bailout_ramp_time</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a2419f82e97d52acf5410c1fc654f8888">enable_bailout</a>);</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    }<span class="keywordflow">else</span> { </div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a9917c1b3cd96935708cdb8b6118da87a">set_autorotation_flag</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    }</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>}</div>
</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span> </div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span><span class="comment">// calculate_scalars</span></div>
<div class="foldopen" id="foldopen00262" data-start="{" data-end="}">
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Dual.html#a7112c1b7a86a1080a00dd3c529c17b25">  262</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Dual.html#a7112c1b7a86a1080a00dd3c529c17b25">AP_MotorsHeli_Dual::calculate_scalars</a>()</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>{</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>    <span class="comment">// range check collective min, max and mid</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classAP__MotorsHeli.html#a6abf37ce818bf3317e80b69377a5a14a">_collective_min</a> &gt;= <a class="code hl_variable" href="classAP__MotorsHeli.html#a372ef59a8edcf950ff5ff4f1bcf13571">_collective_max</a> ) {</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a6abf37ce818bf3317e80b69377a5a14a">_collective_min</a>.set(<a class="code hl_define" href="AP__MotorsHeli_8h.html#aaa0a7ad796ec7b2416f3afa84534bea7">AP_MOTORS_HELI_COLLECTIVE_MIN</a>);</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a372ef59a8edcf950ff5ff4f1bcf13571">_collective_max</a>.set(<a class="code hl_define" href="AP__MotorsHeli_8h.html#a2d874d74f7f67ba067290f76a7455059">AP_MOTORS_HELI_COLLECTIVE_MAX</a>);</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    }</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span> </div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span> </div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>    <span class="comment">// range check collective min, max and mid for rear swashplate</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#ae050085203dd3042ece738abddbb5155">_collective2_min</a> &gt;= <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a876c9c435f46cc6834ef3dba35e0500c">_collective2_max</a> ) {</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#ae050085203dd3042ece738abddbb5155">_collective2_min</a>.set(<a class="code hl_define" href="AP__MotorsHeli__Dual_8h.html#a1cc8c4c4472277f2dfe0b0171b6ba2e5">AP_MOTORS_HELI_DUAL_COLLECTIVE2_MIN</a>);</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a876c9c435f46cc6834ef3dba35e0500c">_collective2_max</a>.set(<a class="code hl_define" href="AP__MotorsHeli__Dual_8h.html#a79f9f61d70afd0e80828f292ca99a523">AP_MOTORS_HELI_DUAL_COLLECTIVE2_MAX</a>);</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    }</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span> </div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#a229f1fd270a23534043885bbc674aa3a">_collective_zero_thrust_deg</a>.set(<a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a229f1fd270a23534043885bbc674aa3a">_collective_zero_thrust_deg</a>, <a class="code hl_variable" href="classAP__MotorsHeli.html#a946467f33d7d0e01d7adffefafdebafa">_collective_min_deg</a>, <a class="code hl_variable" href="classAP__MotorsHeli.html#adcf40cee4254ffd6581de67ba17b6358">_collective_max_deg</a>));</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span> </div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#a3542b3ce4b6a87fe03a32d8278913ffa">_collective_land_min_deg</a>.set(<a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a3542b3ce4b6a87fe03a32d8278913ffa">_collective_land_min_deg</a>, <a class="code hl_variable" href="classAP__MotorsHeli.html#a946467f33d7d0e01d7adffefafdebafa">_collective_min_deg</a>, <a class="code hl_variable" href="classAP__MotorsHeli.html#adcf40cee4254ffd6581de67ba17b6358">_collective_max_deg</a>));</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span> </div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="AP__Math_8cpp.html#a74db690fa0d764d7e0900a9c97f629b2">is_equal</a>((<span class="keywordtype">float</span>)<a class="code hl_variable" href="classAP__MotorsHeli.html#adcf40cee4254ffd6581de67ba17b6358">_collective_max_deg</a>, (<span class="keywordtype">float</span>)<a class="code hl_variable" href="classAP__MotorsHeli.html#a946467f33d7d0e01d7adffefafdebafa">_collective_min_deg</a>)) {</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>        <span class="comment">// calculate collective zero thrust point as a number from 0 to 1</span></div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#aaed6411adeface8fd4b0078a8c6f7445">_collective_zero_thrust_pct</a> = (<a class="code hl_variable" href="classAP__MotorsHeli.html#a229f1fd270a23534043885bbc674aa3a">_collective_zero_thrust_deg</a>-<a class="code hl_variable" href="classAP__MotorsHeli.html#a946467f33d7d0e01d7adffefafdebafa">_collective_min_deg</a>)/(<a class="code hl_variable" href="classAP__MotorsHeli.html#adcf40cee4254ffd6581de67ba17b6358">_collective_max_deg</a>-<a class="code hl_variable" href="classAP__MotorsHeli.html#a946467f33d7d0e01d7adffefafdebafa">_collective_min_deg</a>);</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span> </div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>        <span class="comment">// calculate collective land min point as a number from 0 to 1</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#adb52106b2ca4bfbeee13d675c69891a9">_collective_land_min_pct</a> = (<a class="code hl_variable" href="classAP__MotorsHeli.html#a3542b3ce4b6a87fe03a32d8278913ffa">_collective_land_min_deg</a>-<a class="code hl_variable" href="classAP__MotorsHeli.html#a946467f33d7d0e01d7adffefafdebafa">_collective_min_deg</a>)/(<a class="code hl_variable" href="classAP__MotorsHeli.html#adcf40cee4254ffd6581de67ba17b6358">_collective_max_deg</a>-<a class="code hl_variable" href="classAP__MotorsHeli.html#a946467f33d7d0e01d7adffefafdebafa">_collective_min_deg</a>);</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#aaed6411adeface8fd4b0078a8c6f7445">_collective_zero_thrust_pct</a> = 0.0f;</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#adb52106b2ca4bfbeee13d675c69891a9">_collective_land_min_pct</a> = 0.0f;</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    }</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span> </div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a2aa5ccc6beec15070943806745282f08">_collective2_zero_thrst_pct</a> = <a class="code hl_variable" href="classAP__MotorsHeli.html#aaed6411adeface8fd4b0078a8c6f7445">_collective_zero_thrust_pct</a>;</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span> </div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>    <span class="comment">// configure swashplate 1 and update scalars</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#ac3b37be220f90cae8be8ef45452da1fc">_swashplate1</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#a18b0de3c790a8985f7b3fd3b0b636c5c">configure</a>();</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span> </div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>    <span class="comment">// configure swashplate 2 and update scalars</span></div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>    <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6fd29c2f7c9fc5c950abebd3f35e0969">_swashplate2</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#a18b0de3c790a8985f7b3fd3b0b636c5c">configure</a>();</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span> </div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>    <span class="comment">// set mode of main rotor controller and trigger recalculation of scalars</span></div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#ace1311fec7bf1c155d5a50db0f6d2c53">set_control_mode</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="AP__MotorsHeli__RSC_8h.html#a36de13430db64e7068d0522f9dc24b96">RotorControlMode</a><span class="keyword">&gt;</span>(<a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_variable" href="classAP__MotorsHeli__RSC.html#a1b6672292d361239bf11433a6ee62a01">_rsc_mode</a>.get()));</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>    <a class="code hl_function" href="classAP__MotorsHeli__Dual.html#a6ceac770c46717669afffc50590d93ee">calculate_armed_scalars</a>();</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>}</div>
</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span> </div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span><span class="comment">// Mix and output swashplates for tandem</span></div>
<div class="foldopen" id="foldopen00306" data-start="{" data-end="}">
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Dual.html#a8d6f09f9bcacb4168216ff574cbaade0">  306</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Dual.html#a8d6f09f9bcacb4168216ff574cbaade0">AP_MotorsHeli_Dual::mix_tandem</a>(<span class="keywordtype">float</span> pitch_input, <span class="keywordtype">float</span> roll_input, <span class="keywordtype">float</span> yaw_input, <span class="keywordtype">float</span> collective1_input, <span class="keywordtype">float</span> collective2_input)</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>{</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    <span class="comment">// Differential cyclic roll is used for yaw and combined for roll</span></div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> swash1_roll = roll_input + <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6cf79607c48a255c1b02e879f0aa5b3f">_yaw_scaler</a> * yaw_input;</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> swash2_roll = roll_input - <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6cf79607c48a255c1b02e879f0aa5b3f">_yaw_scaler</a> * yaw_input;</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span> </div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    <span class="comment">// cyclic is not used for pitch control</span></div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> swash_pitch = 0.0;</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span> </div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    <span class="comment">// Differential collective for pitch and combined for thrust</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> swash1_coll =  0.45 * <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9124427cb958de67b1187a2cb10e10a9">_dcp_scaler</a> * (pitch_input + <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a74264f75a2ba6fb11facf274e76cf402">_dcp_trim</a>, -0.2, 0.2)) + collective1_input;</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> swash2_coll = -0.45 * <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9124427cb958de67b1187a2cb10e10a9">_dcp_scaler</a> * (pitch_input + <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a74264f75a2ba6fb11facf274e76cf402">_dcp_trim</a>, -0.2, 0.2)) + collective2_input;</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span> </div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>    <span class="comment">// Calculate servo positions in swashplate library</span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#ac3b37be220f90cae8be8ef45452da1fc">_swashplate1</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#a22b946d1f0acd118c59bd2f0e8f7d824">calculate</a>(swash1_roll, swash_pitch, swash1_coll);</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6fd29c2f7c9fc5c950abebd3f35e0969">_swashplate2</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#a22b946d1f0acd118c59bd2f0e8f7d824">calculate</a>(swash2_roll, swash_pitch, swash2_coll);</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>}</div>
</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span> </div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span><span class="comment">// Mix and output swashplates for transverse</span></div>
<div class="foldopen" id="foldopen00325" data-start="{" data-end="}">
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Dual.html#a650474fd017f8f979033e0b7812346f4">  325</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Dual.html#a650474fd017f8f979033e0b7812346f4">AP_MotorsHeli_Dual::mix_transverse</a>(<span class="keywordtype">float</span> pitch_input, <span class="keywordtype">float</span> roll_input, <span class="keywordtype">float</span> yaw_input, <span class="keywordtype">float</span> collective1_input, <span class="keywordtype">float</span> collective2_input)</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>{</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>    <span class="comment">// cyclic is not used for roll control</span></div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> swash_roll = 0.0;</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span> </div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>    <span class="comment">// Differential cyclic pitch is used for yaw</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> swash1_pitch = pitch_input - <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6cf79607c48a255c1b02e879f0aa5b3f">_yaw_scaler</a> * yaw_input;</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> swash2_pitch = pitch_input + <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6cf79607c48a255c1b02e879f0aa5b3f">_yaw_scaler</a> * yaw_input;</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span> </div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <span class="comment">// Differential collective for roll and combined for thrust</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> swash1_coll =  0.45 * <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9124427cb958de67b1187a2cb10e10a9">_dcp_scaler</a> * (roll_input + <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a74264f75a2ba6fb11facf274e76cf402">_dcp_trim</a>, -0.2, 0.2)) + collective1_input;</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> swash2_coll = -0.45 * <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9124427cb958de67b1187a2cb10e10a9">_dcp_scaler</a> * (roll_input + <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a74264f75a2ba6fb11facf274e76cf402">_dcp_trim</a>, -0.2, 0.2)) + collective2_input;</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span> </div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    <span class="comment">// Calculate servo positions in swashplate library</span></div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#ac3b37be220f90cae8be8ef45452da1fc">_swashplate1</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#a22b946d1f0acd118c59bd2f0e8f7d824">calculate</a>(swash_roll, swash1_pitch, swash1_coll);</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6fd29c2f7c9fc5c950abebd3f35e0969">_swashplate2</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#a22b946d1f0acd118c59bd2f0e8f7d824">calculate</a>(swash_roll, swash2_pitch, swash2_coll);</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>}</div>
</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span> </div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span><span class="comment">// Mix and output swashplates for intermeshing</span></div>
<div class="foldopen" id="foldopen00344" data-start="{" data-end="}">
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Dual.html#abb05e5dce17a80b7755be73581412654">  344</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Dual.html#abb05e5dce17a80b7755be73581412654">AP_MotorsHeli_Dual::mix_intermeshing</a>(<span class="keywordtype">float</span> pitch_input, <span class="keywordtype">float</span> roll_input, <span class="keywordtype">float</span> yaw_input, <span class="keywordtype">float</span> collective1_input, <span class="keywordtype">float</span> collective2_input)</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>{</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>    <span class="comment">// Direct roll control on both swash plates</span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> swash_roll = roll_input;</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span> </div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    <span class="comment">// Differential cyclic pitch is used for yaw and combined for pitch</span></div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> swash1_pitch = pitch_input - <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6cf79607c48a255c1b02e879f0aa5b3f">_yaw_scaler</a> * yaw_input;</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> swash2_pitch = pitch_input + <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6cf79607c48a255c1b02e879f0aa5b3f">_yaw_scaler</a> * yaw_input;</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span> </div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>    <span class="comment">// Differential collective for yaw and combined for thrust</span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> swash1_coll =   0.45 * <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9124427cb958de67b1187a2cb10e10a9">_dcp_scaler</a> * yaw_input + collective1_input;</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> swash2_coll =  -0.45 * <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9124427cb958de67b1187a2cb10e10a9">_dcp_scaler</a> * yaw_input + collective2_input;</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span> </div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    <span class="comment">// Calculate servo positions in swashplate library</span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#ac3b37be220f90cae8be8ef45452da1fc">_swashplate1</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#a22b946d1f0acd118c59bd2f0e8f7d824">calculate</a>(swash_roll, swash1_pitch, swash1_coll);</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>    <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6fd29c2f7c9fc5c950abebd3f35e0969">_swashplate2</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#a22b946d1f0acd118c59bd2f0e8f7d824">calculate</a>(swash_roll, swash2_pitch, swash2_coll);</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>}</div>
</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span> </div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span><span class="comment">// update_motor_controls - sends commands to motor controllers</span></div>
<div class="foldopen" id="foldopen00363" data-start="{" data-end="}">
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Dual.html#a8ffe11364f0284193427a00f2a4d9d28">  363</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Dual.html#a8ffe11364f0284193427a00f2a4d9d28">AP_MotorsHeli_Dual::update_motor_control</a>(<a class="code hl_enumeration" href="classAP__MotorsHeli__RSC.html#aedbcba02e003b6a77f71d6112723e28e">AP_MotorsHeli_RSC::RotorControlState</a> <a class="code hl_variable" href="AP__Scripting_2generator_2src_2main_8c.html#a8d04d02fe8bb190484bba202fee18f5c">state</a>)</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>{</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    <span class="comment">// Send state update to motors</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#ab23a1aebfd83a9e76acf076a2f15841b">output</a>(<a class="code hl_variable" href="AP__Scripting_2generator_2src_2main_8c.html#a8d04d02fe8bb190484bba202fee18f5c">state</a>);</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span> </div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="AP__Scripting_2generator_2src_2main_8c.html#a8d04d02fe8bb190484bba202fee18f5c">state</a> == <a class="code hl_enumvalue" href="classAP__MotorsHeli__RSC.html#aedbcba02e003b6a77f71d6112723e28ea615a46af313786fc4e349f34118be111">AP_MotorsHeli_RSC::RotorControlState::STOP</a>) {</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>        <span class="comment">// set engine run enable aux output to not run position to kill engine when disarmed</span></div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>        <a class="code hl_function" href="classSRV__Channels.html#aff9ab18c996b319de867b4e87b75d4e5">SRV_Channels::set_output_limit</a>(<a class="code hl_enumvalue" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a9092e3ef14fd05ed3913977030258cda">SRV_Channel::k_engine_run_enable</a>, <a class="code hl_enumvalue" href="classSRV__Channel.html#a86fdf4fa1eaa8f844eccb555359aa129ace31e2a082d17e038fcc6e3006166653">SRV_Channel::Limit::MIN</a>);</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>        <span class="comment">// else if armed, set engine run enable output to run position</span></div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>        <a class="code hl_function" href="classSRV__Channels.html#aff9ab18c996b319de867b4e87b75d4e5">SRV_Channels::set_output_limit</a>(<a class="code hl_enumvalue" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a9092e3ef14fd05ed3913977030258cda">SRV_Channel::k_engine_run_enable</a>, <a class="code hl_enumvalue" href="classSRV__Channel.html#a86fdf4fa1eaa8f844eccb555359aa129a26a4b44a837bf97b972628509912b4a5">SRV_Channel::Limit::MAX</a>);</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    }</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span> </div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>    <span class="comment">// Check if rotors are run-up</span></div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a99ea09bf2b220cb66752a5e0d89c9ef2">rotor_runup_complete</a> = <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a44ac49dc9bd2beb3528ba6aedc608c49">is_runup_complete</a>();</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    <span class="comment">// Check if rotors are spooled down</span></div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a0c30ba83758973bae63a9b0f515b995b">rotor_spooldown_complete</a> = <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#a44b88d267e3ab3efb45910761808a083">is_spooldown_complete</a>();</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>}</div>
</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span> </div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span><span class="comment">//</span></div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span><span class="comment">// move_actuators - moves swash plate to attitude of parameters passed in</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span><span class="comment">//                - expected ranges:</span></div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span><span class="comment">//                       roll : -1 ~ +1</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span><span class="comment">//                       pitch: -1 ~ +1</span></div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span><span class="comment">//                       collective: 0 ~ 1</span></div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span><span class="comment">//                       yaw:   -1 ~ +1</span></div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span><span class="comment">//</span></div>
<div class="foldopen" id="foldopen00390" data-start="{" data-end="}">
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Dual.html#a79cf1328b1d8a2be75b8a3440e9a5800">  390</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Dual.html#a79cf1328b1d8a2be75b8a3440e9a5800">AP_MotorsHeli_Dual::move_actuators</a>(<span class="keywordtype">float</span> roll_out, <span class="keywordtype">float</span> pitch_out, <span class="keywordtype">float</span> collective_in, <span class="keywordtype">float</span> yaw_out)</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>{</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    <span class="comment">// initialize limits flag</span></div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#afd0229f4c5b9f51c174b3581dea3f51c">throttle_lower</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#ac52a828197746fda049c092888a10c40">throttle_upper</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span> </div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a5e7888021209fe0f851439054c90ec1d">_dual_mode</a> == <a class="code hl_define" href="AP__MotorsHeli__Dual_8h.html#adbcf60cf571068b0be1f576ce03a45fd">AP_MOTORS_HELI_DUAL_MODE_TRANSVERSE</a> || <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a5e7888021209fe0f851439054c90ec1d">_dual_mode</a> == <a class="code hl_define" href="AP__MotorsHeli__Dual_8h.html#a1aa45247367de19751ae75f4d26d56f8">AP_MOTORS_HELI_DUAL_MODE_INTERMESHING</a>) {</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>        <span class="keywordflow">if</span> (pitch_out &lt; -<a class="code hl_variable" href="classAP__MotorsHeli.html#ad9d651d8d68486a820d62950ebc5164f">_cyclic_max</a>/4500.0f) {</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>            pitch_out = -<a class="code hl_variable" href="classAP__MotorsHeli.html#ad9d651d8d68486a820d62950ebc5164f">_cyclic_max</a>/4500.0f;</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>            <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#aa97af39fbb03d91e8eb0b566beadd4fe">pitch</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>        }</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span> </div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>        <span class="keywordflow">if</span> (pitch_out &gt; <a class="code hl_variable" href="classAP__MotorsHeli.html#ad9d651d8d68486a820d62950ebc5164f">_cyclic_max</a>/4500.0f) {</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>            pitch_out = <a class="code hl_variable" href="classAP__MotorsHeli.html#ad9d651d8d68486a820d62950ebc5164f">_cyclic_max</a>/4500.0f;</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>            <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#aa97af39fbb03d91e8eb0b566beadd4fe">pitch</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>        }</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>        <span class="keywordflow">if</span> (roll_out &lt; -<a class="code hl_variable" href="classAP__MotorsHeli.html#ad9d651d8d68486a820d62950ebc5164f">_cyclic_max</a>/4500.0f) {</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>            roll_out = -<a class="code hl_variable" href="classAP__MotorsHeli.html#ad9d651d8d68486a820d62950ebc5164f">_cyclic_max</a>/4500.0f;</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>            <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#aab5d837b1dba97ce081478af57f63ce2">roll</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>        }</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span> </div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>        <span class="keywordflow">if</span> (roll_out &gt; <a class="code hl_variable" href="classAP__MotorsHeli.html#ad9d651d8d68486a820d62950ebc5164f">_cyclic_max</a>/4500.0f) {</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>            roll_out = <a class="code hl_variable" href="classAP__MotorsHeli.html#ad9d651d8d68486a820d62950ebc5164f">_cyclic_max</a>/4500.0f;</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>            <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#aab5d837b1dba97ce081478af57f63ce2">roll</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>        }</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>    }</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span> </div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>    <span class="comment">// constrain collective input</span></div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>    <span class="keywordtype">float</span> collective_out = collective_in;</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>    <span class="keywordflow">if</span> (collective_out &lt;= 0.0f) {</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>        collective_out = 0.0f;</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>        <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#afd0229f4c5b9f51c174b3581dea3f51c">throttle_lower</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>    }</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>    <span class="keywordflow">if</span> (collective_out &gt;= 1.0f) {</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>        collective_out = 1.0f;</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>        <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#ac52a828197746fda049c092888a10c40">throttle_upper</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>    }</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span> </div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>    <span class="comment">// ensure not below landed/landing collective</span></div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a76a09fed86331cc44469ad0d90e8867a">landing_collective</a> &amp;&amp; collective_out &lt; <a class="code hl_variable" href="classAP__MotorsHeli.html#adb52106b2ca4bfbeee13d675c69891a9">_collective_land_min_pct</a>) {</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>        collective_out = <a class="code hl_variable" href="classAP__MotorsHeli.html#adb52106b2ca4bfbeee13d675c69891a9">_collective_land_min_pct</a>;</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>        <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#afd0229f4c5b9f51c174b3581dea3f51c">throttle_lower</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>    }</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span> </div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    <span class="comment">// updates below land min collective flag</span></div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    <span class="keywordflow">if</span> (collective_out &lt;= <a class="code hl_variable" href="classAP__MotorsHeli.html#adb52106b2ca4bfbeee13d675c69891a9">_collective_land_min_pct</a>) {</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a5edc094fa547a133e48b52ccae013b3e">below_land_min_coll</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>        <a class="code hl_variable" href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">_heliflags</a>.<a class="code hl_variable" href="structAP__MotorsHeli_1_1heliflags__type.html#a5edc094fa547a133e48b52ccae013b3e">below_land_min_coll</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>    }</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span> </div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>    <span class="comment">// updates takeoff collective flag based on 50% hover collective</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>    <a class="code hl_function" href="classAP__MotorsHeli.html#a57451b83ffd98c2ec06dbc92610f5ade">update_takeoff_collective_flag</a>(collective_out);</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span> </div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>    <span class="comment">// Set rear collective to midpoint if required</span></div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>    <span class="keywordtype">float</span> collective2_out = collective_out;</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#aafd84af3b1560f7b86bd2b68344c615c">_servo_mode</a> == <a class="code hl_enumvalue" href="classAP__MotorsHeli.html#a925cc56a1a581f42507ac39218e26632a7a5fea76230f36f1ebc6d1d354559d66">SERVO_CONTROL_MODE_MANUAL_CENTER</a>) {</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>        collective2_out = <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a2aa5ccc6beec15070943806745282f08">_collective2_zero_thrst_pct</a>;</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>    }</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span> </div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>    <span class="comment">// if servo output not in manual mode, process pre-compensation factors</span></div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#aafd84af3b1560f7b86bd2b68344c615c">_servo_mode</a> == <a class="code hl_enumvalue" href="classAP__MotorsHeli.html#a925cc56a1a581f42507ac39218e26632a9a0cd8b8b01a7a8369c12df193d8f4e2">SERVO_CONTROL_MODE_AUTOMATED</a>) {</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>        <span class="comment">// add differential collective pitch yaw compensation</span></div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>        <span class="keywordtype">float</span> yaw_compensation = 0.0f;</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span> </div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a5e7888021209fe0f851439054c90ec1d">_dual_mode</a> == <a class="code hl_define" href="AP__MotorsHeli__Dual_8h.html#a1aa45247367de19751ae75f4d26d56f8">AP_MOTORS_HELI_DUAL_MODE_INTERMESHING</a>) {</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>            <span class="comment">// for intermeshing, reverse yaw in negative collective region and smoothen transition near zero collective</span></div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a4ebb0c2310653f5c6bcf4a830da8a9f4">_yaw_rev_expo</a> &gt; 0.01f) {</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>                <span class="comment">// yaw_compensation range: (-1,1) S-shaped curve (Logistic Model) 1/(1 + e^kt)</span></div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>                yaw_compensation = 1.0f - (2.0f / (1.0f + powf(2.7182818f , <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a4ebb0c2310653f5c6bcf4a830da8a9f4">_yaw_rev_expo</a> * (collective_out-<a class="code hl_variable" href="classAP__MotorsHeli.html#aaed6411adeface8fd4b0078a8c6f7445">_collective_zero_thrust_pct</a>))));</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>                yaw_out = yaw_out * yaw_compensation;</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>            }</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a5e7888021209fe0f851439054c90ec1d">_dual_mode</a> == <a class="code hl_define" href="AP__MotorsHeli__Dual_8h.html#adbcf60cf571068b0be1f576ce03a45fd">AP_MOTORS_HELI_DUAL_MODE_TRANSVERSE</a>) {</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>                yaw_compensation = <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#aae609e7e017e782b154d9a0e581baa3d">_dcp_yaw_effect</a> * roll_out;</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>            } <span class="keywordflow">else</span> { <span class="comment">// AP_MOTORS_HELI_DUAL_MODE_TANDEM</span></div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>                yaw_compensation = <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#aae609e7e017e782b154d9a0e581baa3d">_dcp_yaw_effect</a> * pitch_out;</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>            }</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>            yaw_out = yaw_out + yaw_compensation;</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>        }</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>    }</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span> </div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    <span class="comment">// scale yaw and update limits</span></div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>    <span class="keywordflow">if</span> (yaw_out &lt; -<a class="code hl_variable" href="classAP__MotorsHeli.html#ad9d651d8d68486a820d62950ebc5164f">_cyclic_max</a>/4500.0f) {</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>        yaw_out = -<a class="code hl_variable" href="classAP__MotorsHeli.html#ad9d651d8d68486a820d62950ebc5164f">_cyclic_max</a>/4500.0f;</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>        <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#a44fcc5cc1c9a35b07f6a1add36edbac6">yaw</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>    }</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>    <span class="keywordflow">if</span> (yaw_out &gt; <a class="code hl_variable" href="classAP__MotorsHeli.html#ad9d651d8d68486a820d62950ebc5164f">_cyclic_max</a>/4500.0f) {</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>        yaw_out = <a class="code hl_variable" href="classAP__MotorsHeli.html#ad9d651d8d68486a820d62950ebc5164f">_cyclic_max</a>/4500.0f;</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>        <a class="code hl_variable" href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">limit</a>.<a class="code hl_variable" href="structAP__Motors_1_1AP__Motors__limit.html#a44fcc5cc1c9a35b07f6a1add36edbac6">yaw</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>    }</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span> </div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>    <span class="comment">// scale collective pitch for front swashplate (servos 1,2,3)</span></div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>    <span class="keywordtype">float</span> collective_scaler = ((float)(<a class="code hl_variable" href="classAP__MotorsHeli.html#a372ef59a8edcf950ff5ff4f1bcf13571">_collective_max</a>-<a class="code hl_variable" href="classAP__MotorsHeli.html#a6abf37ce818bf3317e80b69377a5a14a">_collective_min</a>))*0.001f;</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>    <span class="keywordtype">float</span> collective_out_scaled = collective_out * collective_scaler + (<a class="code hl_variable" href="classAP__MotorsHeli.html#a6abf37ce818bf3317e80b69377a5a14a">_collective_min</a> - 1000)*0.001f;</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span> </div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>    <span class="comment">// scale collective pitch for rear swashplate (servos 4,5,6)</span></div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>    <span class="keywordtype">float</span> collective2_scaler = ((float)(<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a876c9c435f46cc6834ef3dba35e0500c">_collective2_max</a>-<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#ae050085203dd3042ece738abddbb5155">_collective2_min</a>))*0.001f;</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>    <span class="keywordtype">float</span> collective2_out_scaled = collective2_out * collective2_scaler + (<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#ae050085203dd3042ece738abddbb5155">_collective2_min</a> - 1000)*0.001f;</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span> </div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>    <span class="comment">// feed power estimate into main rotor controller</span></div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>    <span class="comment">// ToDo: add main rotor cyclic power?</span></div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>    <a class="code hl_variable" href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">_main_rotor</a>.<a class="code hl_function" href="classAP__MotorsHeli__RSC.html#ad4321593bc1f5d440790d10e71048c46">set_collective</a>(fabsf(collective_out));</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span> </div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>    <span class="comment">// Mix swash plate</span></div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a5e7888021209fe0f851439054c90ec1d">_dual_mode</a>) {</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="AP__MotorsHeli__Dual_8h.html#ae611b95f6a88d30003158a2a1e5cf339">AP_MOTORS_HELI_DUAL_MODE_TANDEM</a>:</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>            <a class="code hl_function" href="classAP__MotorsHeli__Dual.html#a8d6f09f9bcacb4168216ff574cbaade0">mix_tandem</a>(pitch_out, roll_out, yaw_out, collective_out_scaled, collective2_out_scaled);</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span> </div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="AP__MotorsHeli__Dual_8h.html#adbcf60cf571068b0be1f576ce03a45fd">AP_MOTORS_HELI_DUAL_MODE_TRANSVERSE</a>:</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>            <a class="code hl_function" href="classAP__MotorsHeli__Dual.html#a650474fd017f8f979033e0b7812346f4">mix_transverse</a>(pitch_out, roll_out, yaw_out, collective_out_scaled, collective2_out_scaled);</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span> </div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="AP__MotorsHeli__Dual_8h.html#a1aa45247367de19751ae75f4d26d56f8">AP_MOTORS_HELI_DUAL_MODE_INTERMESHING</a>:</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>            <a class="code hl_function" href="classAP__MotorsHeli__Dual.html#abb05e5dce17a80b7755be73581412654">mix_intermeshing</a>(pitch_out, roll_out, yaw_out, collective_out_scaled, collective2_out_scaled);</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span> </div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>    }</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span> </div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>}</div>
</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span> </div>
<div class="foldopen" id="foldopen00514" data-start="{" data-end="}">
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Dual.html#a406dcfd65f5929be7cd53e1597b07784">  514</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Dual.html#a406dcfd65f5929be7cd53e1597b07784">AP_MotorsHeli_Dual::output_to_motors</a>()</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>{</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Motors.html#a1d624c6828c0843a8475a122d47afaac">initialised_ok</a>()) {</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    }</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span> </div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>    <span class="comment">// Write swashplate outputs</span></div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>    <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#ac3b37be220f90cae8be8ef45452da1fc">_swashplate1</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#a3fe8a3c35a811bcb99609e769c8f7e4f">output</a>();</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>    <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6fd29c2f7c9fc5c950abebd3f35e0969">_swashplate2</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#a3fe8a3c35a811bcb99609e769c8f7e4f">output</a>();</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span> </div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>    <a class="code hl_function" href="classAP__MotorsHeli__Dual.html#a8ffe11364f0284193427a00f2a4d9d28">update_motor_control</a>(<a class="code hl_function" href="classAP__MotorsHeli.html#ab63a34a6f966cabf867ca1f6ce49a5e1">get_rotor_control_state</a>());</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span> </div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>}</div>
</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span> </div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span><span class="comment">// servo_test - move servos through full range of movement</span></div>
<div class="foldopen" id="foldopen00529" data-start="{" data-end="}">
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Dual.html#a8028c4bb98547c9f76d6817596dc8ce0">  529</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__MotorsHeli__Dual.html#a8028c4bb98547c9f76d6817596dc8ce0">AP_MotorsHeli_Dual::servo_test</a>()</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>{</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>    <span class="comment">// this test cycle is equivalent to that of AP_MotorsHeli_Single, but excluding</span></div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    <span class="comment">// mixing of yaw, as that physical movement is represented by pitch and roll</span></div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span> </div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>    <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9d29fa7d334e3ae6b65a1a22f1385bee">_servo_test_cycle_time</a> += <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>;</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span> </div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9d29fa7d334e3ae6b65a1a22f1385bee">_servo_test_cycle_time</a> &gt;= 0.0f &amp;&amp; <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9d29fa7d334e3ae6b65a1a22f1385bee">_servo_test_cycle_time</a> &lt; 0.5f)||                                   <span class="comment">// Tilt swash back</span></div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>        (<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9d29fa7d334e3ae6b65a1a22f1385bee">_servo_test_cycle_time</a> &gt;= 6.0f &amp;&amp; <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9d29fa7d334e3ae6b65a1a22f1385bee">_servo_test_cycle_time</a> &lt; 6.5f)){</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a8ca21279e244df36d725d4ecd1dd694d">_pitch_test</a> += 2.0 * <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>;</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6c393548c3b11185226f8c95c6ac5b6d">_oscillate_angle</a> += 8 * <a class="code hl_define" href="definitions_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> * <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>;</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9d29fa7d334e3ae6b65a1a22f1385bee">_servo_test_cycle_time</a> &gt;= 0.5f &amp;&amp; <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9d29fa7d334e3ae6b65a1a22f1385bee">_servo_test_cycle_time</a> &lt; 4.5f)||                            <span class="comment">// Roll swash around</span></div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>               (<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9d29fa7d334e3ae6b65a1a22f1385bee">_servo_test_cycle_time</a> &gt;= 6.5f &amp;&amp; <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9d29fa7d334e3ae6b65a1a22f1385bee">_servo_test_cycle_time</a> &lt; 10.5f)){</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6c393548c3b11185226f8c95c6ac5b6d">_oscillate_angle</a> += 0.5 * <a class="code hl_define" href="definitions_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> * <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>;</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a65b144eb7be8feadf5b34c338161407f">_roll_test</a> = sinf(<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6c393548c3b11185226f8c95c6ac5b6d">_oscillate_angle</a>);</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a8ca21279e244df36d725d4ecd1dd694d">_pitch_test</a> = cosf(<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6c393548c3b11185226f8c95c6ac5b6d">_oscillate_angle</a>);</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9d29fa7d334e3ae6b65a1a22f1385bee">_servo_test_cycle_time</a> &gt;= 4.5f &amp;&amp; <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9d29fa7d334e3ae6b65a1a22f1385bee">_servo_test_cycle_time</a> &lt; 5.0f)||                            <span class="comment">// Return swash to level</span></div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>               (<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9d29fa7d334e3ae6b65a1a22f1385bee">_servo_test_cycle_time</a> &gt;= 10.5f &amp;&amp; <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9d29fa7d334e3ae6b65a1a22f1385bee">_servo_test_cycle_time</a> &lt; 11.0f)){</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a8ca21279e244df36d725d4ecd1dd694d">_pitch_test</a> -= 2.0 * <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>;</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6c393548c3b11185226f8c95c6ac5b6d">_oscillate_angle</a> += 8 * <a class="code hl_define" href="definitions_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> * <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>;</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9d29fa7d334e3ae6b65a1a22f1385bee">_servo_test_cycle_time</a> &gt;= 5.0f &amp;&amp; <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9d29fa7d334e3ae6b65a1a22f1385bee">_servo_test_cycle_time</a> &lt; 6.0f){                              <span class="comment">// Raise swash to top</span></div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a4774eb0ef151d5c162593bbf94c2716d">_collective_test</a> +=  <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>;</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6c393548c3b11185226f8c95c6ac5b6d">_oscillate_angle</a> += 2 * <a class="code hl_define" href="definitions_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> * <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>;</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9d29fa7d334e3ae6b65a1a22f1385bee">_servo_test_cycle_time</a> &gt;= 11.0f &amp;&amp; <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9d29fa7d334e3ae6b65a1a22f1385bee">_servo_test_cycle_time</a> &lt; 12.0f){                            <span class="comment">// Lower swash to bottom</span></div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a4774eb0ef151d5c162593bbf94c2716d">_collective_test</a> -=  <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>;</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6c393548c3b11185226f8c95c6ac5b6d">_oscillate_angle</a> += 2 * <a class="code hl_define" href="definitions_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> * <a class="code hl_variable" href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">_dt</a>;</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>    } <span class="keywordflow">else</span> {                                                                                                  <span class="comment">// reset cycle</span></div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a9d29fa7d334e3ae6b65a1a22f1385bee">_servo_test_cycle_time</a> = 0.0f;</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6c393548c3b11185226f8c95c6ac5b6d">_oscillate_angle</a> = 0.0f;</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a4774eb0ef151d5c162593bbf94c2716d">_collective_test</a> = 0.0f;</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a65b144eb7be8feadf5b34c338161407f">_roll_test</a> = 0.0f;</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>        <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a8ca21279e244df36d725d4ecd1dd694d">_pitch_test</a> = 0.0f;</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>        <span class="comment">// decrement servo test cycle counter at the end of the cycle</span></div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli.html#a681e1032cb75a6cd1072b2c060701cdb">_servo_test_cycle_counter</a> &gt; 0){</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>            <a class="code hl_variable" href="classAP__MotorsHeli.html#a681e1032cb75a6cd1072b2c060701cdb">_servo_test_cycle_counter</a>--;</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>        }</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>    }</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span> </div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>    <span class="comment">// over-ride servo commands to move servos through defined ranges</span></div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span> </div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>    <a class="code hl_variable" href="classAP__Motors.html#ab3685c6a458e9d7d763f5b24054484d0">_throttle_filter</a>.<a class="code hl_function" href="classLowPassFilter.html#adad51ea3b156f167fff0fb586a912cb5">reset</a>(<a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a4774eb0ef151d5c162593bbf94c2716d">_collective_test</a>, 0.0f, 1.0f));</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>    <a class="code hl_variable" href="classAP__Motors.html#a191acbe0acedd563d2740eb25d150a17">_roll_in</a> = <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a65b144eb7be8feadf5b34c338161407f">_roll_test</a>, -1.0f, 1.0f);</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>    <a class="code hl_variable" href="classAP__Motors.html#a1f4b25d114f7a8612364bb020e77cc67">_pitch_in</a> = <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a8ca21279e244df36d725d4ecd1dd694d">_pitch_test</a>, -1.0f, 1.0f);</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>}</div>
</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span> </div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span><span class="comment">// Run arming checks</span></div>
<div class="foldopen" id="foldopen00575" data-start="{" data-end="}">
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno"><a class="line" href="classAP__MotorsHeli__Dual.html#a9025325cb2af29cdc508d9a3e43d534b">  575</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__MotorsHeli__Dual.html#a9025325cb2af29cdc508d9a3e43d534b">AP_MotorsHeli_Dual::arming_checks</a>(<span class="keywordtype">size_t</span> <a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <span class="keywordtype">char</span> *<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>)<span class="keyword"> const</span></div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>    <span class="comment">// run base class checks</span></div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__MotorsHeli.html#ac506d005ab74fdd87c5ed878ef4cb388">AP_MotorsHeli::arming_checks</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>)) {</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>    }</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span> </div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>    <span class="comment">// returns false if Phase Angle is outside of range for H3 swashplate 1</span></div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#ac3b37be220f90cae8be8ef45452da1fc">_swashplate1</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#a33a98d1945d1064960fbe997242c8e08">get_swash_type</a>() == <a class="code hl_enumvalue" href="AP__MotorsHeli__Swash_8h.html#af1f531860bcb03e35d747c314affcd80abfbf90d6d672d972daca7cc624614c20">SWASHPLATE_TYPE_H3</a> &amp;&amp; (<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#ac3b37be220f90cae8be8ef45452da1fc">_swashplate1</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#af16e678ba5e57798de5de41116d1a3b4">get_phase_angle</a>() &gt; 30 || <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#ac3b37be220f90cae8be8ef45452da1fc">_swashplate1</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#af16e678ba5e57798de5de41116d1a3b4">get_phase_angle</a>() &lt; -30)){</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>        <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">snprintf</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <span class="stringliteral">&quot;H_SW1_H3_PHANG out of range&quot;</span>);</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>    }</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span> </div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>    <span class="comment">// returns false if Phase Angle is outside of range for H3 swashplate 2</span></div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6fd29c2f7c9fc5c950abebd3f35e0969">_swashplate2</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#a33a98d1945d1064960fbe997242c8e08">get_swash_type</a>() == <a class="code hl_enumvalue" href="AP__MotorsHeli__Swash_8h.html#af1f531860bcb03e35d747c314affcd80abfbf90d6d672d972daca7cc624614c20">SWASHPLATE_TYPE_H3</a> &amp;&amp; (<a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6fd29c2f7c9fc5c950abebd3f35e0969">_swashplate2</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#af16e678ba5e57798de5de41116d1a3b4">get_phase_angle</a>() &gt; 30 || <a class="code hl_variable" href="classAP__MotorsHeli__Dual.html#a6fd29c2f7c9fc5c950abebd3f35e0969">_swashplate2</a>.<a class="code hl_function" href="classAP__MotorsHeli__Swash.html#af16e678ba5e57798de5de41116d1a3b4">get_phase_angle</a>() &lt; -30)){</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>        <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">snprintf</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a>, <span class="stringliteral">&quot;H_SW2_H3_PHANG out of range&quot;</span>);</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>    }</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span> </div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>}</div>
</div>
<div class="ttc" id="aAC__AttitudeControl_8cpp_html_a240c1a4ae2a70d1855f91e4a0b1ac938"><div class="ttname"><a href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a></div><div class="ttdeci">const AP_HAL::HAL &amp; hal</div><div class="ttdef"><b>Definition</b> <a href="AP__Compass__AK09916_8cpp_source.html#l00059">AP_Compass_AK09916.cpp:59</a></div></div>
<div class="ttc" id="aAP__HAL_8h_html"><div class="ttname"><a href="AP__HAL_8h.html">AP_HAL.h</a></div></div>
<div class="ttc" id="aAP__Math_8cpp_html_a74db690fa0d764d7e0900a9c97f629b2"><div class="ttname"><a href="AP__Math_8cpp.html#a74db690fa0d764d7e0900a9c97f629b2">is_equal</a></div><div class="ttdeci">std::enable_if&lt; std::is_integral&lt; typenamestd::common_type&lt; Arithmetic1, Arithmetic2 &gt;::type &gt;::value, bool &gt;::type is_equal(const Arithmetic1 v_1, const Arithmetic2 v_2)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8cpp_source.html#l00014">AP_Math.cpp:14</a></div></div>
<div class="ttc" id="aAP__Math_8h_html_a5256308fd38a7098b8f95607aa56888f"><div class="ttname"><a href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a></div><div class="ttdeci">#define constrain_float(amt, low, high)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00174">AP_Math.h:174</a></div></div>
<div class="ttc" id="aAP__MotorsHeli_8h_html_a2d874d74f7f67ba067290f76a7455059"><div class="ttname"><a href="AP__MotorsHeli_8h.html#a2d874d74f7f67ba067290f76a7455059">AP_MOTORS_HELI_COLLECTIVE_MAX</a></div><div class="ttdeci">#define AP_MOTORS_HELI_COLLECTIVE_MAX</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00020">AP_MotorsHeli.h:20</a></div></div>
<div class="ttc" id="aAP__MotorsHeli_8h_html_aaa0a7ad796ec7b2416f3afa84534bea7"><div class="ttname"><a href="AP__MotorsHeli_8h.html#aaa0a7ad796ec7b2416f3afa84534bea7">AP_MOTORS_HELI_COLLECTIVE_MIN</a></div><div class="ttdeci">#define AP_MOTORS_HELI_COLLECTIVE_MIN</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00019">AP_MotorsHeli.h:19</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__Dual_8cpp_html_ae08c3ca4ba26b63cda0bb3e3c6c02785"><div class="ttname"><a href="AP__MotorsHeli__Dual_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a></div><div class="ttdeci">const AP_HAL::HAL &amp; hal</div><div class="ttdef"><b>Definition</b> <a href="AC__PID__test_8cpp_source.html#l00021">AC_PID_test.cpp:21</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__Dual_8h_html"><div class="ttname"><a href="AP__MotorsHeli__Dual_8h.html">AP_MotorsHeli_Dual.h</a></div><div class="ttdoc">Motor control class for dual heli (tandem or transverse)</div></div>
<div class="ttc" id="aAP__MotorsHeli__Dual_8h_html_a1aa45247367de19751ae75f4d26d56f8"><div class="ttname"><a href="AP__MotorsHeli__Dual_8h.html#a1aa45247367de19751ae75f4d26d56f8">AP_MOTORS_HELI_DUAL_MODE_INTERMESHING</a></div><div class="ttdeci">#define AP_MOTORS_HELI_DUAL_MODE_INTERMESHING</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00018">AP_MotorsHeli_Dual.h:18</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__Dual_8h_html_a1cc8c4c4472277f2dfe0b0171b6ba2e5"><div class="ttname"><a href="AP__MotorsHeli__Dual_8h.html#a1cc8c4c4472277f2dfe0b0171b6ba2e5">AP_MOTORS_HELI_DUAL_COLLECTIVE2_MIN</a></div><div class="ttdeci">#define AP_MOTORS_HELI_DUAL_COLLECTIVE2_MIN</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00027">AP_MotorsHeli_Dual.h:27</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__Dual_8h_html_a79f9f61d70afd0e80828f292ca99a523"><div class="ttname"><a href="AP__MotorsHeli__Dual_8h.html#a79f9f61d70afd0e80828f292ca99a523">AP_MOTORS_HELI_DUAL_COLLECTIVE2_MAX</a></div><div class="ttdeci">#define AP_MOTORS_HELI_DUAL_COLLECTIVE2_MAX</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00028">AP_MotorsHeli_Dual.h:28</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__Dual_8h_html_ab45e67e70b6bc146e0a4879713c7b927"><div class="ttname"><a href="AP__MotorsHeli__Dual_8h.html#ab45e67e70b6bc146e0a4879713c7b927">AP_MOTORS_HELI_DUAL_DCP_SCALER</a></div><div class="ttdeci">#define AP_MOTORS_HELI_DUAL_DCP_SCALER</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00021">AP_MotorsHeli_Dual.h:21</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__Dual_8h_html_adbcf60cf571068b0be1f576ce03a45fd"><div class="ttname"><a href="AP__MotorsHeli__Dual_8h.html#adbcf60cf571068b0be1f576ce03a45fd">AP_MOTORS_HELI_DUAL_MODE_TRANSVERSE</a></div><div class="ttdeci">#define AP_MOTORS_HELI_DUAL_MODE_TRANSVERSE</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00017">AP_MotorsHeli_Dual.h:17</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__Dual_8h_html_ae611b95f6a88d30003158a2a1e5cf339"><div class="ttname"><a href="AP__MotorsHeli__Dual_8h.html#ae611b95f6a88d30003158a2a1e5cf339">AP_MOTORS_HELI_DUAL_MODE_TANDEM</a></div><div class="ttdeci">#define AP_MOTORS_HELI_DUAL_MODE_TANDEM</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00016">AP_MotorsHeli_Dual.h:16</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__RSC_8h_html_a36de13430db64e7068d0522f9dc24b96"><div class="ttname"><a href="AP__MotorsHeli__RSC_8h.html#a36de13430db64e7068d0522f9dc24b96">RotorControlMode</a></div><div class="ttdeci">RotorControlMode</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00034">AP_MotorsHeli_RSC.h:34</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__RSC_8h_html_a36de13430db64e7068d0522f9dc24b96a3aecae8a93464861924e151011a67619"><div class="ttname"><a href="AP__MotorsHeli__RSC_8h.html#a36de13430db64e7068d0522f9dc24b96a3aecae8a93464861924e151011a67619">ROTOR_CONTROL_MODE_AUTOTHROTTLE</a></div><div class="ttdeci">@ ROTOR_CONTROL_MODE_AUTOTHROTTLE</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00040">AP_MotorsHeli_RSC.h:39</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__RSC_8h_html_a36de13430db64e7068d0522f9dc24b96a7433b022b4d35a121548001f3ec5cf9e"><div class="ttname"><a href="AP__MotorsHeli__RSC_8h.html#a36de13430db64e7068d0522f9dc24b96a7433b022b4d35a121548001f3ec5cf9e">ROTOR_CONTROL_MODE_THROTTLECURVE</a></div><div class="ttdeci">@ ROTOR_CONTROL_MODE_THROTTLECURVE</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00038">AP_MotorsHeli_RSC.h:38</a></div></div>
<div class="ttc" id="aAP__MotorsHeli__Swash_8h_html_af1f531860bcb03e35d747c314affcd80abfbf90d6d672d972daca7cc624614c20"><div class="ttname"><a href="AP__MotorsHeli__Swash_8h.html#af1f531860bcb03e35d747c314affcd80abfbf90d6d672d972daca7cc624614c20">SWASHPLATE_TYPE_H3</a></div><div class="ttdeci">@ SWASHPLATE_TYPE_H3</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Swash_8h_source.html#l00011">AP_MotorsHeli_Swash.h:11</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a0a8f85b5d68c3b15980239a2a6c1d4fb"><div class="ttname"><a href="AP__Param_8h.html#a0a8f85b5d68c3b15980239a2a6c1d4fb">AP_NESTEDGROUPINFO</a></div><div class="ttdeci">#define AP_NESTEDGROUPINFO(clazz, idx)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00148">AP_Param.h:148</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a0f9acb038a5283b964b862aea8cc5051"><div class="ttname"><a href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div><div class="ttdeci">#define AP_GROUPEND</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00163">AP_Param.h:163</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a16c360358c5d6a08d34f60921fd916a9"><div class="ttname"><a href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a></div><div class="ttdeci">#define AP_SUBGROUPINFO(element, name, idx, thisclazz, elclazz)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00152">AP_Param.h:152</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a78a408c84f2a1bafde256ac650142e4d"><div class="ttname"><a href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a></div><div class="ttdeci">#define AP_GROUPINFO(name, idx, clazz, element, def)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00145">AP_Param.h:145</a></div></div>
<div class="ttc" id="aAP__Scripting_2generator_2src_2main_8c_html_a8d04d02fe8bb190484bba202fee18f5c"><div class="ttname"><a href="AP__Scripting_2generator_2src_2main_8c.html#a8d04d02fe8bb190484bba202fee18f5c">state</a></div><div class="ttdeci">static struct generator_state state</div><div class="ttdef"><b>Definition</b> <a href="AP__Scripting_2generator_2src_2main_8c_source.html#l00087">main.c:87</a></div></div>
<div class="ttc" id="aGCS_8h_html"><div class="ttname"><a href="GCS_8h.html">GCS.h</a></div><div class="ttdoc">Interface definition for the various Ground Control System.</div></div>
<div class="ttc" id="aUART__chargen_8cpp_html_a892366b22e8ea42d95e49308022eef4d"><div class="ttname"><a href="UART__chargen_8cpp.html#a892366b22e8ea42d95e49308022eef4d">buflen</a></div><div class="ttdeci">uint16_t buflen</div><div class="ttdef"><b>Definition</b> <a href="UART__chargen_8cpp_source.html#l00037">UART_chargen.cpp:37</a></div></div>
<div class="ttc" id="aUART__chargen_8cpp_html_a8a45ba1322f5f38149f9bb899b09a1f4"><div class="ttname"><a href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a></div><div class="ttdeci">uint8_t buffer[16384]</div><div class="ttdef"><b>Definition</b> <a href="UART__chargen_8cpp_source.html#l00036">UART_chargen.cpp:36</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1HAL_html"><div class="ttname"><a href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a></div><div class="ttdef"><b>Definition</b> <a href="HAL_8h_source.html#l00021">HAL.h:21</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1HAL_html_a9337a60383f4264fa96a20dbe43a4e2e"><div class="ttname"><a href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">AP_HAL::HAL::util</a></div><div class="ttdeci">AP_HAL::Util * util</div><div class="ttdef"><b>Definition</b> <a href="HAL_8h_source.html#l00131">HAL.h:131</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1Util_html_afaedff8102d9ae2fbc398d2099e30cf6"><div class="ttname"><a href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">AP_HAL::Util::snprintf</a></div><div class="ttdeci">int snprintf(char *str, size_t size, const char *format,...) FMT_PRINTF(4</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL_2Util_8cpp_source.html#l00044">Util.cpp:44</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html">AP_MotorsHeli_Dual</a></div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00031">AP_MotorsHeli_Dual.h:31</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a22286781e5f676bd00b34cea39481981"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a22286781e5f676bd00b34cea39481981">AP_MotorsHeli_Dual::init_outputs</a></div><div class="ttdeci">void init_outputs() override</div><div class="ttdef"><b>Definition</b> <a href="#l00224">AP_MotorsHeli_Dual.cpp:224</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a2aa5ccc6beec15070943806745282f08"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a2aa5ccc6beec15070943806745282f08">AP_MotorsHeli_Dual::_collective2_zero_thrst_pct</a></div><div class="ttdeci">float _collective2_zero_thrst_pct</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00101">AP_MotorsHeli_Dual.h:101</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a406dcfd65f5929be7cd53e1597b07784"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a406dcfd65f5929be7cd53e1597b07784">AP_MotorsHeli_Dual::output_to_motors</a></div><div class="ttdeci">void output_to_motors() override</div><div class="ttdef"><b>Definition</b> <a href="#l00514">AP_MotorsHeli_Dual.cpp:514</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a4774eb0ef151d5c162593bbf94c2716d"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a4774eb0ef151d5c162593bbf94c2716d">AP_MotorsHeli_Dual::_collective_test</a></div><div class="ttdeci">float _collective_test</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00085">AP_MotorsHeli_Dual.h:85</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a4ebb0c2310653f5c6bcf4a830da8a9f4"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a4ebb0c2310653f5c6bcf4a830da8a9f4">AP_MotorsHeli_Dual::_yaw_rev_expo</a></div><div class="ttdeci">AP_Float _yaw_rev_expo</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00098">AP_MotorsHeli_Dual.h:98</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a5e7888021209fe0f851439054c90ec1d"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a5e7888021209fe0f851439054c90ec1d">AP_MotorsHeli_Dual::_dual_mode</a></div><div class="ttdeci">AP_Int8 _dual_mode</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00093">AP_MotorsHeli_Dual.h:93</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a650474fd017f8f979033e0b7812346f4"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a650474fd017f8f979033e0b7812346f4">AP_MotorsHeli_Dual::mix_transverse</a></div><div class="ttdeci">void mix_transverse(float pitch_input, float roll_input, float yaw_input, float collective1_input, float collective2_input)</div><div class="ttdef"><b>Definition</b> <a href="#l00325">AP_MotorsHeli_Dual.cpp:325</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a65b144eb7be8feadf5b34c338161407f"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a65b144eb7be8feadf5b34c338161407f">AP_MotorsHeli_Dual::_roll_test</a></div><div class="ttdeci">float _roll_test</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00086">AP_MotorsHeli_Dual.h:86</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a6c393548c3b11185226f8c95c6ac5b6d"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a6c393548c3b11185226f8c95c6ac5b6d">AP_MotorsHeli_Dual::_oscillate_angle</a></div><div class="ttdeci">float _oscillate_angle</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00083">AP_MotorsHeli_Dual.h:83</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a6ceac770c46717669afffc50590d93ee"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a6ceac770c46717669afffc50590d93ee">AP_MotorsHeli_Dual::calculate_armed_scalars</a></div><div class="ttdeci">void calculate_armed_scalars() override</div><div class="ttdef"><b>Definition</b> <a href="#l00235">AP_MotorsHeli_Dual.cpp:235</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a6cf79607c48a255c1b02e879f0aa5b3f"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a6cf79607c48a255c1b02e879f0aa5b3f">AP_MotorsHeli_Dual::_yaw_scaler</a></div><div class="ttdeci">AP_Float _yaw_scaler</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00096">AP_MotorsHeli_Dual.h:96</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a6fd29c2f7c9fc5c950abebd3f35e0969"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a6fd29c2f7c9fc5c950abebd3f35e0969">AP_MotorsHeli_Dual::_swashplate2</a></div><div class="ttdeci">AP_MotorsHeli_Swash _swashplate2</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00080">AP_MotorsHeli_Dual.h:80</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a7112c1b7a86a1080a00dd3c529c17b25"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a7112c1b7a86a1080a00dd3c529c17b25">AP_MotorsHeli_Dual::calculate_scalars</a></div><div class="ttdeci">void calculate_scalars() override</div><div class="ttdef"><b>Definition</b> <a href="#l00262">AP_MotorsHeli_Dual.cpp:262</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a74264f75a2ba6fb11facf274e76cf402"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a74264f75a2ba6fb11facf274e76cf402">AP_MotorsHeli_Dual::_dcp_trim</a></div><div class="ttdeci">AP_Float _dcp_trim</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00097">AP_MotorsHeli_Dual.h:97</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a79cf1328b1d8a2be75b8a3440e9a5800"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a79cf1328b1d8a2be75b8a3440e9a5800">AP_MotorsHeli_Dual::move_actuators</a></div><div class="ttdeci">void move_actuators(float roll_out, float pitch_out, float coll_in, float yaw_out) override</div><div class="ttdef"><b>Definition</b> <a href="#l00390">AP_MotorsHeli_Dual.cpp:390</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a8028c4bb98547c9f76d6817596dc8ce0"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a8028c4bb98547c9f76d6817596dc8ce0">AP_MotorsHeli_Dual::servo_test</a></div><div class="ttdeci">void servo_test() override</div><div class="ttdef"><b>Definition</b> <a href="#l00529">AP_MotorsHeli_Dual.cpp:529</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a876c9c435f46cc6834ef3dba35e0500c"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a876c9c435f46cc6834ef3dba35e0500c">AP_MotorsHeli_Dual::_collective2_max</a></div><div class="ttdeci">AP_Int16 _collective2_max</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00092">AP_MotorsHeli_Dual.h:92</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a8ca21279e244df36d725d4ecd1dd694d"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a8ca21279e244df36d725d4ecd1dd694d">AP_MotorsHeli_Dual::_pitch_test</a></div><div class="ttdeci">float _pitch_test</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00087">AP_MotorsHeli_Dual.h:87</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a8d6f09f9bcacb4168216ff574cbaade0"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a8d6f09f9bcacb4168216ff574cbaade0">AP_MotorsHeli_Dual::mix_tandem</a></div><div class="ttdeci">void mix_tandem(float pitch_input, float roll_input, float yaw_input, float collective1_input, float collective2_input)</div><div class="ttdef"><b>Definition</b> <a href="#l00306">AP_MotorsHeli_Dual.cpp:306</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a8ffe11364f0284193427a00f2a4d9d28"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a8ffe11364f0284193427a00f2a4d9d28">AP_MotorsHeli_Dual::update_motor_control</a></div><div class="ttdeci">void update_motor_control(AP_MotorsHeli_RSC::RotorControlState state) override</div><div class="ttdef"><b>Definition</b> <a href="#l00363">AP_MotorsHeli_Dual.cpp:363</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a9025325cb2af29cdc508d9a3e43d534b"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a9025325cb2af29cdc508d9a3e43d534b">AP_MotorsHeli_Dual::arming_checks</a></div><div class="ttdeci">bool arming_checks(size_t buflen, char *buffer) const override</div><div class="ttdef"><b>Definition</b> <a href="#l00575">AP_MotorsHeli_Dual.cpp:575</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a9124427cb958de67b1187a2cb10e10a9"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a9124427cb958de67b1187a2cb10e10a9">AP_MotorsHeli_Dual::_dcp_scaler</a></div><div class="ttdeci">AP_Float _dcp_scaler</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00094">AP_MotorsHeli_Dual.h:94</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_a9d29fa7d334e3ae6b65a1a22f1385bee"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#a9d29fa7d334e3ae6b65a1a22f1385bee">AP_MotorsHeli_Dual::_servo_test_cycle_time</a></div><div class="ttdeci">float _servo_test_cycle_time</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00084">AP_MotorsHeli_Dual.h:84</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_aa02b6d52fbd392d8e50c6feb79fef768"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#aa02b6d52fbd392d8e50c6feb79fef768">AP_MotorsHeli_Dual::set_update_rate</a></div><div class="ttdeci">void set_update_rate(uint16_t speed_hz) override</div><div class="ttdef"><b>Definition</b> <a href="#l00212">AP_MotorsHeli_Dual.cpp:212</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_aae609e7e017e782b154d9a0e581baa3d"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#aae609e7e017e782b154d9a0e581baa3d">AP_MotorsHeli_Dual::_dcp_yaw_effect</a></div><div class="ttdeci">AP_Float _dcp_yaw_effect</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00095">AP_MotorsHeli_Dual.h:95</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_abb05e5dce17a80b7755be73581412654"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#abb05e5dce17a80b7755be73581412654">AP_MotorsHeli_Dual::mix_intermeshing</a></div><div class="ttdeci">void mix_intermeshing(float pitch_input, float roll_input, float yaw_input, float collective1_input, float collective2_input)</div><div class="ttdef"><b>Definition</b> <a href="#l00344">AP_MotorsHeli_Dual.cpp:344</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_ac3b37be220f90cae8be8ef45452da1fc"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#ac3b37be220f90cae8be8ef45452da1fc">AP_MotorsHeli_Dual::_swashplate1</a></div><div class="ttdeci">AP_MotorsHeli_Swash _swashplate1</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00079">AP_MotorsHeli_Dual.h:79</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_ae050085203dd3042ece738abddbb5155"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#ae050085203dd3042ece738abddbb5155">AP_MotorsHeli_Dual::_collective2_min</a></div><div class="ttdeci">AP_Int16 _collective2_min</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00091">AP_MotorsHeli_Dual.h:91</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Dual_html_ae3b57352c2895e1745c38d007f1e214f"><div class="ttname"><a href="classAP__MotorsHeli__Dual.html#ae3b57352c2895e1745c38d007f1e214f">AP_MotorsHeli_Dual::var_info</a></div><div class="ttdeci">static const struct AP_Param::GroupInfo var_info[]</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Dual_8h_source.html#l00023">AP_MotorsHeli_Dual.h:23</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a1b6672292d361239bf11433a6ee62a01"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a1b6672292d361239bf11433a6ee62a01">AP_MotorsHeli_RSC::_rsc_mode</a></div><div class="ttdeci">AP_Int8 _rsc_mode</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00139">AP_MotorsHeli_RSC.h:139</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a4434e7e3d56b0cf9e0d0901676b8a5a4"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a4434e7e3d56b0cf9e0d0901676b8a5a4">AP_MotorsHeli_RSC::reset_rsc_mode_param</a></div><div class="ttdeci">void reset_rsc_mode_param()</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00070">AP_MotorsHeli_RSC.h:70</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a44ac49dc9bd2beb3528ba6aedc608c49"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a44ac49dc9bd2beb3528ba6aedc608c49">AP_MotorsHeli_RSC::is_runup_complete</a></div><div class="ttdeci">bool is_runup_complete() const</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00099">AP_MotorsHeli_RSC.h:99</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a44b88d267e3ab3efb45910761808a083"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a44b88d267e3ab3efb45910761808a083">AP_MotorsHeli_RSC::is_spooldown_complete</a></div><div class="ttdeci">bool is_spooldown_complete() const</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00102">AP_MotorsHeli_RSC.h:102</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a897f34035252d1ce89f564d38ab35dea"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a897f34035252d1ce89f564d38ab35dea">AP_MotorsHeli_RSC::set_throttle_curve</a></div><div class="ttdeci">void set_throttle_curve()</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8cpp_source.html#l00234">AP_MotorsHeli_RSC.cpp:234</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_a9917c1b3cd96935708cdb8b6118da87a"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#a9917c1b3cd96935708cdb8b6118da87a">AP_MotorsHeli_RSC::set_autorotation_flag</a></div><div class="ttdeci">void set_autorotation_flag(bool flag)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00111">AP_MotorsHeli_RSC.h:111</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_ab23a1aebfd83a9e76acf076a2f15841b"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#ab23a1aebfd83a9e76acf076a2f15841b">AP_MotorsHeli_RSC::output</a></div><div class="ttdeci">void output(RotorControlState state)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8cpp_source.html#l00247">AP_MotorsHeli_RSC.cpp:247</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_aca3a4d81f1f2921be0099f1f240c60ea"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#aca3a4d81f1f2921be0099f1f240c60ea">AP_MotorsHeli_RSC::get_control_mode</a></div><div class="ttdeci">uint8_t get_control_mode() const</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00073">AP_MotorsHeli_RSC.h:73</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_ace1311fec7bf1c155d5a50db0f6d2c53"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#ace1311fec7bf1c155d5a50db0f6d2c53">AP_MotorsHeli_RSC::set_control_mode</a></div><div class="ttdeci">void set_control_mode(RotorControlMode mode)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00067">AP_MotorsHeli_RSC.h:67</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_ad4321593bc1f5d440790d10e71048c46"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#ad4321593bc1f5d440790d10e71048c46">AP_MotorsHeli_RSC::set_collective</a></div><div class="ttdeci">void set_collective(float collective)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00105">AP_MotorsHeli_RSC.h:105</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_ad63386ff867bc4220f388a133d315ca7"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#ad63386ff867bc4220f388a133d315ca7">AP_MotorsHeli_RSC::use_bailout_ramp_time</a></div><div class="ttdeci">void use_bailout_ramp_time(bool enable)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00108">AP_MotorsHeli_RSC.h:108</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_aeb6143de2bc88e0540acd68349f61c73"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#aeb6143de2bc88e0540acd68349f61c73">AP_MotorsHeli_RSC::init_servo</a></div><div class="ttdeci">void init_servo()</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8cpp_source.html#l00225">AP_MotorsHeli_RSC.cpp:225</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_aedbcba02e003b6a77f71d6112723e28e"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#aedbcba02e003b6a77f71d6112723e28e">AP_MotorsHeli_RSC::RotorControlState</a></div><div class="ttdeci">RotorControlState</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__RSC_8h_source.html#l00057">AP_MotorsHeli_RSC.h:57</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__RSC_html_aedbcba02e003b6a77f71d6112723e28ea615a46af313786fc4e349f34118be111"><div class="ttname"><a href="classAP__MotorsHeli__RSC.html#aedbcba02e003b6a77f71d6112723e28ea615a46af313786fc4e349f34118be111">AP_MotorsHeli_RSC::RotorControlState::STOP</a></div><div class="ttdeci">@ STOP</div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Swash_html"><div class="ttname"><a href="classAP__MotorsHeli__Swash.html">AP_MotorsHeli_Swash</a></div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Swash_8h_source.html#l00019">AP_MotorsHeli_Swash.h:19</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Swash_html_a18b0de3c790a8985f7b3fd3b0b636c5c"><div class="ttname"><a href="classAP__MotorsHeli__Swash.html#a18b0de3c790a8985f7b3fd3b0b636c5c">AP_MotorsHeli_Swash::configure</a></div><div class="ttdeci">void configure()</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Swash_8cpp_source.html#l00101">AP_MotorsHeli_Swash.cpp:101</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Swash_html_a22b946d1f0acd118c59bd2f0e8f7d824"><div class="ttname"><a href="classAP__MotorsHeli__Swash.html#a22b946d1f0acd118c59bd2f0e8f7d824">AP_MotorsHeli_Swash::calculate</a></div><div class="ttdeci">void calculate(float roll, float pitch, float collective)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Swash_8cpp_source.html#l00215">AP_MotorsHeli_Swash.cpp:215</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Swash_html_a33a98d1945d1064960fbe997242c8e08"><div class="ttname"><a href="classAP__MotorsHeli__Swash.html#a33a98d1945d1064960fbe997242c8e08">AP_MotorsHeli_Swash::get_swash_type</a></div><div class="ttdeci">SwashPlateType get_swash_type() const</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Swash_8h_source.html#l00028">AP_MotorsHeli_Swash.h:28</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Swash_html_a3fe8a3c35a811bcb99609e769c8f7e4f"><div class="ttname"><a href="classAP__MotorsHeli__Swash.html#a3fe8a3c35a811bcb99609e769c8f7e4f">AP_MotorsHeli_Swash::output</a></div><div class="ttdeci">void output()</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Swash_8cpp_source.html#l00255">AP_MotorsHeli_Swash.cpp:255</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Swash_html_a6f669cda1b14e12302b1b3ebf7cdc5ab"><div class="ttname"><a href="classAP__MotorsHeli__Swash.html#a6f669cda1b14e12302b1b3ebf7cdc5ab">AP_MotorsHeli_Swash::get_output_mask</a></div><div class="ttdeci">uint32_t get_output_mask() const</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Swash_8cpp_source.html#l00276">AP_MotorsHeli_Swash.cpp:276</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli__Swash_html_af16e678ba5e57798de5de41116d1a3b4"><div class="ttname"><a href="classAP__MotorsHeli__Swash.html#af16e678ba5e57798de5de41116d1a3b4">AP_MotorsHeli_Swash::get_phase_angle</a></div><div class="ttdeci">int16_t get_phase_angle() const</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli__Swash_8h_source.html#l00037">AP_MotorsHeli_Swash.h:37</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html"><div class="ttname"><a href="classAP__MotorsHeli.html">AP_MotorsHeli</a></div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00039">AP_MotorsHeli.h:39</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a229f1fd270a23534043885bbc674aa3a"><div class="ttname"><a href="classAP__MotorsHeli.html#a229f1fd270a23534043885bbc674aa3a">AP_MotorsHeli::_collective_zero_thrust_deg</a></div><div class="ttdeci">AP_Float _collective_zero_thrust_deg</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00268">AP_MotorsHeli.h:268</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a3542b3ce4b6a87fe03a32d8278913ffa"><div class="ttname"><a href="classAP__MotorsHeli.html#a3542b3ce4b6a87fe03a32d8278913ffa">AP_MotorsHeli::_collective_land_min_deg</a></div><div class="ttdeci">AP_Float _collective_land_min_deg</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00269">AP_MotorsHeli.h:269</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a372ef59a8edcf950ff5ff4f1bcf13571"><div class="ttname"><a href="classAP__MotorsHeli.html#a372ef59a8edcf950ff5ff4f1bcf13571">AP_MotorsHeli::_collective_max</a></div><div class="ttdeci">AP_Int16 _collective_max</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00262">AP_MotorsHeli.h:262</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a4dbab26c560a82f5a26f4bd3fb307e2c"><div class="ttname"><a href="classAP__MotorsHeli.html#a4dbab26c560a82f5a26f4bd3fb307e2c">AP_MotorsHeli::_main_rotor</a></div><div class="ttdeci">AP_MotorsHeli_RSC _main_rotor</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00185">AP_MotorsHeli.h:185</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a57451b83ffd98c2ec06dbc92610f5ade"><div class="ttname"><a href="classAP__MotorsHeli.html#a57451b83ffd98c2ec06dbc92610f5ade">AP_MotorsHeli::update_takeoff_collective_flag</a></div><div class="ttdeci">void update_takeoff_collective_flag(float coll_out)</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8cpp_source.html#l00476">AP_MotorsHeli.cpp:476</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a681e1032cb75a6cd1072b2c060701cdb"><div class="ttname"><a href="classAP__MotorsHeli.html#a681e1032cb75a6cd1072b2c060701cdb">AP_MotorsHeli::_servo_test_cycle_counter</a></div><div class="ttdeci">uint8_t _servo_test_cycle_counter</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00276">AP_MotorsHeli.h:276</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a6abf37ce818bf3317e80b69377a5a14a"><div class="ttname"><a href="classAP__MotorsHeli.html#a6abf37ce818bf3317e80b69377a5a14a">AP_MotorsHeli::_collective_min</a></div><div class="ttdeci">AP_Int16 _collective_min</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00261">AP_MotorsHeli.h:261</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a6b1ea5d5d974ee9796086b26815d0b1a"><div class="ttname"><a href="classAP__MotorsHeli.html#a6b1ea5d5d974ee9796086b26815d0b1a">AP_MotorsHeli::_frame_class</a></div><div class="ttdeci">motor_frame_class _frame_class</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00279">AP_MotorsHeli.h:279</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a925cc56a1a581f42507ac39218e26632a7a5fea76230f36f1ebc6d1d354559d66"><div class="ttname"><a href="classAP__MotorsHeli.html#a925cc56a1a581f42507ac39218e26632a7a5fea76230f36f1ebc6d1d354559d66">AP_MotorsHeli::SERVO_CONTROL_MODE_MANUAL_CENTER</a></div><div class="ttdeci">@ SERVO_CONTROL_MODE_MANUAL_CENTER</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00175">AP_MotorsHeli.h:175</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a925cc56a1a581f42507ac39218e26632a9a0cd8b8b01a7a8369c12df193d8f4e2"><div class="ttname"><a href="classAP__MotorsHeli.html#a925cc56a1a581f42507ac39218e26632a9a0cd8b8b01a7a8369c12df193d8f4e2">AP_MotorsHeli::SERVO_CONTROL_MODE_AUTOMATED</a></div><div class="ttdeci">@ SERVO_CONTROL_MODE_AUTOMATED</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00172">AP_MotorsHeli.h:172</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a946467f33d7d0e01d7adffefafdebafa"><div class="ttname"><a href="classAP__MotorsHeli.html#a946467f33d7d0e01d7adffefafdebafa">AP_MotorsHeli::_collective_min_deg</a></div><div class="ttdeci">AP_Float _collective_min_deg</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00271">AP_MotorsHeli.h:271</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_a94b072334fcf06cfe3ae5977fafebaf4"><div class="ttname"><a href="classAP__MotorsHeli.html#a94b072334fcf06cfe3ae5977fafebaf4">AP_MotorsHeli::_heliflags</a></div><div class="ttdeci">struct AP_MotorsHeli::heliflags_type _heliflags</div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_aaed6411adeface8fd4b0078a8c6f7445"><div class="ttname"><a href="classAP__MotorsHeli.html#aaed6411adeface8fd4b0078a8c6f7445">AP_MotorsHeli::_collective_zero_thrust_pct</a></div><div class="ttdeci">float _collective_zero_thrust_pct</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00274">AP_MotorsHeli.h:274</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_aafd84af3b1560f7b86bd2b68344c615c"><div class="ttname"><a href="classAP__MotorsHeli.html#aafd84af3b1560f7b86bd2b68344c615c">AP_MotorsHeli::_servo_mode</a></div><div class="ttdeci">AP_Int8 _servo_mode</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00263">AP_MotorsHeli.h:263</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_ab63a34a6f966cabf867ca1f6ce49a5e1"><div class="ttname"><a href="classAP__MotorsHeli.html#ab63a34a6f966cabf867ca1f6ce49a5e1">AP_MotorsHeli::get_rotor_control_state</a></div><div class="ttdeci">AP_MotorsHeli_RSC::RotorControlState get_rotor_control_state() const</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8cpp_source.html#l00580">AP_MotorsHeli.cpp:580</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_ac506d005ab74fdd87c5ed878ef4cb388"><div class="ttname"><a href="classAP__MotorsHeli.html#ac506d005ab74fdd87c5ed878ef4cb388">AP_MotorsHeli::arming_checks</a></div><div class="ttdeci">bool arming_checks(size_t buflen, char *buffer) const override</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8cpp_source.html#l00502">AP_MotorsHeli.cpp:502</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_ad9d651d8d68486a820d62950ebc5164f"><div class="ttname"><a href="classAP__MotorsHeli.html#ad9d651d8d68486a820d62950ebc5164f">AP_MotorsHeli::_cyclic_max</a></div><div class="ttdeci">AP_Int16 _cyclic_max</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00260">AP_MotorsHeli.h:260</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_adb52106b2ca4bfbeee13d675c69891a9"><div class="ttname"><a href="classAP__MotorsHeli.html#adb52106b2ca4bfbeee13d675c69891a9">AP_MotorsHeli::_collective_land_min_pct</a></div><div class="ttdeci">float _collective_land_min_pct</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00275">AP_MotorsHeli.h:275</a></div></div>
<div class="ttc" id="aclassAP__MotorsHeli_html_adcf40cee4254ffd6581de67ba17b6358"><div class="ttname"><a href="classAP__MotorsHeli.html#adcf40cee4254ffd6581de67ba17b6358">AP_MotorsHeli::_collective_max_deg</a></div><div class="ttdeci">AP_Float _collective_max_deg</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00270">AP_MotorsHeli.h:270</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a0c24486701885def1e9fc2dfc4680e7d"><div class="ttname"><a href="classAP__Motors.html#a0c24486701885def1e9fc2dfc4680e7d">AP_Motors::_dt</a></div><div class="ttdeci">float _dt</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00313">AP_Motors_Class.h:313</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a191acbe0acedd563d2740eb25d150a17"><div class="ttname"><a href="classAP__Motors.html#a191acbe0acedd563d2740eb25d150a17">AP_Motors::_roll_in</a></div><div class="ttdeci">float _roll_in</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00315">AP_Motors_Class.h:315</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a1d624c6828c0843a8475a122d47afaac"><div class="ttname"><a href="classAP__Motors.html#a1d624c6828c0843a8475a122d47afaac">AP_Motors::initialised_ok</a></div><div class="ttdeci">bool initialised_ok() const</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00116">AP_Motors_Class.h:116</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a1f4b25d114f7a8612364bb020e77cc67"><div class="ttname"><a href="classAP__Motors.html#a1f4b25d114f7a8612364bb020e77cc67">AP_Motors::_pitch_in</a></div><div class="ttdeci">float _pitch_in</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00317">AP_Motors_Class.h:317</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a3d84a895c644d34e7fe78d7301ccf534"><div class="ttname"><a href="classAP__Motors.html#a3d84a895c644d34e7fe78d7301ccf534">AP_Motors::rc_set_freq</a></div><div class="ttdeci">virtual void rc_set_freq(uint32_t mask, uint16_t freq_hz)</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8cpp_source.html#l00128">AP_Motors_Class.cpp:128</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a54a436586a970d55788b909fc69d7a0c"><div class="ttname"><a href="classAP__Motors.html#a54a436586a970d55788b909fc69d7a0c">AP_Motors::_speed_hz</a></div><div class="ttdeci">uint16_t _speed_hz</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00314">AP_Motors_Class.h:314</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a67a133570ae075a874c6522b23c5261b"><div class="ttname"><a href="classAP__Motors.html#a67a133570ae075a874c6522b23c5261b">AP_Motors::armed</a></div><div class="ttdeci">bool armed() const</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00120">AP_Motors_Class.h:120</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_a67c3d8b0e216ff11e444992571fa10c3ae4bf0ecfd518fe98c48174e63784d2dc"><div class="ttname"><a href="classAP__Motors.html#a67c3d8b0e216ff11e444992571fa10c3ae4bf0ecfd518fe98c48174e63784d2dc">AP_Motors::MOTOR_FRAME_HELI_DUAL</a></div><div class="ttdeci">@ MOTOR_FRAME_HELI_DUAL</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00071">AP_Motors_Class.h:71</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_aa6dd949317fd0d3e44e10b00a4cdece5"><div class="ttname"><a href="classAP__Motors.html#aa6dd949317fd0d3e44e10b00a4cdece5">AP_Motors::set_initialised_ok</a></div><div class="ttdeci">void set_initialised_ok(bool val)</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00117">AP_Motors_Class.h:117</a></div></div>
<div class="ttc" id="aclassAP__Motors_html_aafeb2d0a52ac147cb7a06d82cbd9ec2a"><div class="ttname"><a href="classAP__Motors.html#aafeb2d0a52ac147cb7a06d82cbd9ec2a">AP_Motors::limit</a></div><div class="ttdeci">struct AP_Motors::AP_Motors_limit limit</div></div>
<div class="ttc" id="aclassAP__Motors_html_ab3685c6a458e9d7d763f5b24054484d0"><div class="ttname"><a href="classAP__Motors.html#ab3685c6a458e9d7d763f5b24054484d0">AP_Motors::_throttle_filter</a></div><div class="ttdeci">LowPassFilterFloat _throttle_filter</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00327">AP_Motors_Class.h:327</a></div></div>
<div class="ttc" id="aclassLowPassFilter_html_adad51ea3b156f167fff0fb586a912cb5"><div class="ttname"><a href="classLowPassFilter.html#adad51ea3b156f167fff0fb586a912cb5">LowPassFilter::reset</a></div><div class="ttdeci">void reset(T value)</div><div class="ttdef"><b>Definition</b> <a href="LowPassFilter_8cpp_source.html#l00133">LowPassFilter.cpp:133</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_a86fdf4fa1eaa8f844eccb555359aa129a26a4b44a837bf97b972628509912b4a5"><div class="ttname"><a href="classSRV__Channel.html#a86fdf4fa1eaa8f844eccb555359aa129a26a4b44a837bf97b972628509912b4a5">SRV_Channel::Limit::MAX</a></div><div class="ttdeci">@ MAX</div></div>
<div class="ttc" id="aclassSRV__Channel_html_a86fdf4fa1eaa8f844eccb555359aa129ace31e2a082d17e038fcc6e3006166653"><div class="ttname"><a href="classSRV__Channel.html#a86fdf4fa1eaa8f844eccb555359aa129ace31e2a082d17e038fcc6e3006166653">SRV_Channel::Limit::MIN</a></div><div class="ttdeci">@ MIN</div></div>
<div class="ttc" id="aclassSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a9092e3ef14fd05ed3913977030258cda"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a9092e3ef14fd05ed3913977030258cda">SRV_Channel::k_engine_run_enable</a></div><div class="ttdeci">@ k_engine_run_enable</div><div class="ttdoc">engine kill switch, used for gas airplanes and helicopters</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00079">SRV_Channel.h:79</a></div></div>
<div class="ttc" id="aclassSRV__Channels_html_aff9ab18c996b319de867b4e87b75d4e5"><div class="ttname"><a href="classSRV__Channels.html#aff9ab18c996b319de867b4e87b75d4e5">SRV_Channels::set_output_limit</a></div><div class="ttdeci">static void set_output_limit(SRV_Channel::Aux_servo_function_t function, SRV_Channel::Limit limit)</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel__aux_8cpp_source.html#l00475">SRV_Channel_aux.cpp:475</a></div></div>
<div class="ttc" id="adefinitions_8h_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="definitions_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdef"><b>Definition</b> <a href="definitions_8h_source.html#l00010">definitions.h:10</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_a0c30ba83758973bae63a9b0f515b995b"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#a0c30ba83758973bae63a9b0f515b995b">AP_MotorsHeli::heliflags_type::rotor_spooldown_complete</a></div><div class="ttdeci">uint8_t rotor_spooldown_complete</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00255">AP_MotorsHeli.h:255</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_a2419f82e97d52acf5410c1fc654f8888"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#a2419f82e97d52acf5410c1fc654f8888">AP_MotorsHeli::heliflags_type::enable_bailout</a></div><div class="ttdeci">uint8_t enable_bailout</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00250">AP_MotorsHeli.h:250</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_a2c566a23e7650f17c9375ae2a5119059"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#a2c566a23e7650f17c9375ae2a5119059">AP_MotorsHeli::heliflags_type::save_rsc_mode</a></div><div class="ttdeci">uint8_t save_rsc_mode</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00248">AP_MotorsHeli.h:248</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_a5edc094fa547a133e48b52ccae013b3e"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#a5edc094fa547a133e48b52ccae013b3e">AP_MotorsHeli::heliflags_type::below_land_min_coll</a></div><div class="ttdeci">uint8_t below_land_min_coll</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00254">AP_MotorsHeli.h:254</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_a76a09fed86331cc44469ad0d90e8867a"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#a76a09fed86331cc44469ad0d90e8867a">AP_MotorsHeli::heliflags_type::landing_collective</a></div><div class="ttdeci">uint8_t landing_collective</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00245">AP_MotorsHeli.h:245</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_a99ea09bf2b220cb66752a5e0d89c9ef2"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#a99ea09bf2b220cb66752a5e0d89c9ef2">AP_MotorsHeli::heliflags_type::rotor_runup_complete</a></div><div class="ttdeci">uint8_t rotor_runup_complete</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00246">AP_MotorsHeli.h:246</a></div></div>
<div class="ttc" id="astructAP__MotorsHeli_1_1heliflags__type_html_a9cd22561061579ae281aac2a92dc0042"><div class="ttname"><a href="structAP__MotorsHeli_1_1heliflags__type.html#a9cd22561061579ae281aac2a92dc0042">AP_MotorsHeli::heliflags_type::in_autorotation</a></div><div class="ttdeci">uint8_t in_autorotation</div><div class="ttdef"><b>Definition</b> <a href="AP__MotorsHeli_8h_source.html#l00249">AP_MotorsHeli.h:249</a></div></div>
<div class="ttc" id="astructAP__Motors_1_1AP__Motors__limit_html_a44fcc5cc1c9a35b07f6a1add36edbac6"><div class="ttname"><a href="structAP__Motors_1_1AP__Motors__limit.html#a44fcc5cc1c9a35b07f6a1add36edbac6">AP_Motors::AP_Motors_limit::yaw</a></div><div class="ttdeci">bool yaw</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00203">AP_Motors_Class.h:203</a></div></div>
<div class="ttc" id="astructAP__Motors_1_1AP__Motors__limit_html_aa97af39fbb03d91e8eb0b566beadd4fe"><div class="ttname"><a href="structAP__Motors_1_1AP__Motors__limit.html#aa97af39fbb03d91e8eb0b566beadd4fe">AP_Motors::AP_Motors_limit::pitch</a></div><div class="ttdeci">bool pitch</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00202">AP_Motors_Class.h:202</a></div></div>
<div class="ttc" id="astructAP__Motors_1_1AP__Motors__limit_html_aab5d837b1dba97ce081478af57f63ce2"><div class="ttname"><a href="structAP__Motors_1_1AP__Motors__limit.html#aab5d837b1dba97ce081478af57f63ce2">AP_Motors::AP_Motors_limit::roll</a></div><div class="ttdeci">bool roll</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00201">AP_Motors_Class.h:201</a></div></div>
<div class="ttc" id="astructAP__Motors_1_1AP__Motors__limit_html_ac52a828197746fda049c092888a10c40"><div class="ttname"><a href="structAP__Motors_1_1AP__Motors__limit.html#ac52a828197746fda049c092888a10c40">AP_Motors::AP_Motors_limit::throttle_upper</a></div><div class="ttdeci">bool throttle_upper</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00205">AP_Motors_Class.h:205</a></div></div>
<div class="ttc" id="astructAP__Motors_1_1AP__Motors__limit_html_afd0229f4c5b9f51c174b3581dea3f51c"><div class="ttname"><a href="structAP__Motors_1_1AP__Motors__limit.html#afd0229f4c5b9f51c174b3581dea3f51c">AP_Motors::AP_Motors_limit::throttle_lower</a></div><div class="ttdeci">bool throttle_lower</div><div class="ttdef"><b>Definition</b> <a href="AP__Motors__Class_8h_source.html#l00204">AP_Motors_Class.h:204</a></div></div>
<div class="ttc" id="astructAP__Param_1_1GroupInfo_html"><div class="ttname"><a href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00199">AP_Param.h:199</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 22 2024 16:14:14 for APM:Libraries by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
