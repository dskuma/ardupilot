<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>APM:Libraries: libraries/APM_Control/AR_AttitudeControl.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">APM:Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_50866fe7c3a898cfa96b79f21ec45884.html">APM_Control</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">AR_AttitudeControl.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="AR__AttitudeControl_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">   This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">   it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">   the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">   (at your option) any later version.</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"></span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">   This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">   GNU General Public License for more details.</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment"></span> </div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">   You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">   along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"> */</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &lt;<a class="code" href="AP__AHRS_8h.html">AP_AHRS/AP_AHRS.h</a>&gt;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Math_8h.html">AP_Math/AP_Math.h</a>&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;<a class="code" href="AP__HAL_8h.html">AP_HAL/AP_HAL.h</a>&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;<a class="code" href="AR__AttitudeControl_8h.html">AR_AttitudeControl.h</a>&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;<a class="code" href="AP__GPS_8h.html">AP_GPS/AP_GPS.h</a>&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span> </div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="comment">// attitude control default definition</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#ab135f19a6003a571d5b7c1837e0602b2">   23</a></span><span class="preprocessor">#define AR_ATTCONTROL_STEER_ANG_P       2.00f</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#a06b984b4168a27d502bef534f7fccee1">   24</a></span><span class="preprocessor">#define AR_ATTCONTROL_STEER_RATE_FF     0.20f</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#ae949053db8c558a493de9eb6b0f1803d">   25</a></span><span class="preprocessor">#define AR_ATTCONTROL_STEER_RATE_P      0.20f</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#ac051d217917b91f59abeec1d378e6b0a">   26</a></span><span class="preprocessor">#define AR_ATTCONTROL_STEER_RATE_I      0.20f</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#a177824d29e1513a6276a3af33dba1d32">   27</a></span><span class="preprocessor">#define AR_ATTCONTROL_STEER_RATE_IMAX   1.00f</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#a4c97f965971b287b2dc1b34798655c3d">   28</a></span><span class="preprocessor">#define AR_ATTCONTROL_STEER_RATE_D      0.00f</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#a36c572513d9bfc7c862c49dd01ee7657">   29</a></span><span class="preprocessor">#define AR_ATTCONTROL_STEER_RATE_FILT   10.00f</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#a78bde5e930c705c266f86cb1c09e88f4">   30</a></span><span class="preprocessor">#define AR_ATTCONTROL_STEER_RATE_MAX    120.0f</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#ac8b8402ac8b38ba1ba0a381669b1cc4e">   31</a></span><span class="preprocessor">#define AR_ATTCONTROL_STEER_ACCEL_MAX   120.0f</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#ae7fa1997bcc6963cee6a612c832c3349">   32</a></span><span class="preprocessor">#define AR_ATTCONTROL_THR_SPEED_P       0.20f</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#a6a831278d078fc863d82458b9b0c4aa1">   33</a></span><span class="preprocessor">#define AR_ATTCONTROL_THR_SPEED_I       0.20f</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#ac097b44c0d92cc7f415f2ed83405bd7d">   34</a></span><span class="preprocessor">#define AR_ATTCONTROL_THR_SPEED_IMAX    1.00f</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#ae294048323646375973af98e06a2ccc8">   35</a></span><span class="preprocessor">#define AR_ATTCONTROL_THR_SPEED_D       0.00f</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#a2f5869540efb0b76edba3f0c2b9050a6">   36</a></span><span class="preprocessor">#define AR_ATTCONTROL_THR_SPEED_FILT    10.00f</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#aa32cb57144ba7a46a5c620a6ca08522f">   37</a></span><span class="preprocessor">#define AR_ATTCONTROL_PITCH_THR_P       1.80f</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#ad9e5930608c541a71756d228772ab8d0">   38</a></span><span class="preprocessor">#define AR_ATTCONTROL_PITCH_THR_I       1.50f</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#aed30729a582f3914627f8630e30c3047">   39</a></span><span class="preprocessor">#define AR_ATTCONTROL_PITCH_THR_D       0.03f</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#ad1df62d5eafe80a2a752fba1e2e382d7">   40</a></span><span class="preprocessor">#define AR_ATTCONTROL_PITCH_THR_IMAX    1.0f</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#aab150bb7678a6b6cc45228a0d728bf29">   41</a></span><span class="preprocessor">#define AR_ATTCONTROL_PITCH_THR_FILT    10.0f</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#aa668f990226fadf08dfb1d6f7911fda4">   42</a></span><span class="preprocessor">#define AR_ATTCONTROL_BAL_PITCH_FF      0.4f</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#ad4a2906ba1e3e8d33810c022b19721ff">   43</a></span><span class="preprocessor">#define AR_ATTCONTROL_PITCH_LIM_TC      0.5f        </span><span class="comment">// pitch limit default time constant</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#af53e56eaad0e780a9261d2191298d9a1">   44</a></span><span class="preprocessor">#define AR_ATTCONTROL_PITCH_RELAX_RATIO 0.5f        </span><span class="comment">// pitch limit relaxed 2x slower than it is limited</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#af204fe784c907ce770f7b5ced2127810">   45</a></span><span class="preprocessor">#define AR_ATTCONTROL_PITCH_LIM_THR_THRESH  0.60    </span><span class="comment">// pitch limiting starts if throttle exceeds 60%</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#a8751005dca2e0b2dd32894090aa4eb53">   46</a></span><span class="preprocessor">#define AR_ATTCONTROL_DT                0.02f</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#a6f4d7da53a5d9d11ebc640300274f28f">   47</a></span><span class="preprocessor">#define AR_ATTCONTROL_TIMEOUT_MS        200</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#a23ad7b36d998f13a9421c19722fbb2b7">   48</a></span><span class="preprocessor">#define AR_ATTCONTROL_HEEL_SAIL_P       1.0f</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#a8eafc100dd5881439393681299bed19a">   49</a></span><span class="preprocessor">#define AR_ATTCONTROL_HEEL_SAIL_I       0.1f</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#abd34ed589e97ab065eae51f394733108">   50</a></span><span class="preprocessor">#define AR_ATTCONTROL_HEEL_SAIL_D       0.0f</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#a1f32d22a215d8a647213efb41b60e793">   51</a></span><span class="preprocessor">#define AR_ATTCONTROL_HEEL_SAIL_IMAX    1.0f</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#aa7cc0c4d422169f8495ab170c611f5ba">   52</a></span><span class="preprocessor">#define AR_ATTCONTROL_HEEL_SAIL_FILT    10.0f</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="preprocessor">#define AR_ATTCONTROL_DT                0.02f</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span> </div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="comment">// throttle/speed control maximum acceleration/deceleration (in m/s) (_ACCEL_MAX parameter default)</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#a9c3b0e2600421b7c16c43d08eb9d4408">   56</a></span><span class="preprocessor">#define AR_ATTCONTROL_THR_ACCEL_MAX     1.00f</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span> </div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="comment">// minimum speed in m/s</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#ac3f5a27d23cdd8222aa87c1891f8c072">   59</a></span><span class="preprocessor">#define AR_ATTCONTROL_STEER_SPEED_MIN   1.0f</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span> </div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="comment">// speed (in m/s) at or below which vehicle is considered stopped (_STOP_SPEED parameter default)</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno"><a class="line" href="AR__AttitudeControl_8cpp.html#af8d163adfd64718afb84186f25f41270">   62</a></span><span class="preprocessor">#define AR_ATTCONTROL_STOP_SPEED_DEFAULT    0.1f</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span> </div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="keyword">extern</span> <span class="keyword">const</span> <a class="code hl_class" href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a>&amp; <a class="code hl_variable" href="AR__AttitudeControl_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>;</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> </div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><a class="code hl_class" href="classAR__AttitudeControl.html">AR_AttitudeControl</a> *<a class="code hl_variable" href="classAR__AttitudeControl.html#ab338b3d0c9170ce182e0ee6b325c8c15">AR_AttitudeControl::_singleton</a>;</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span> </div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><span class="keyword">const</span> <a class="code hl_struct" href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a> <a class="code hl_variable" href="classAR__AttitudeControl.html#a5209b96c45b666ff42dacbe42d0ff6eb">AR_AttitudeControl::var_info</a>[] = {</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span> </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    <span class="comment">// @Param: _STR_RAT_P</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <span class="comment">// @DisplayName: Steering control rate P gain</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    <span class="comment">// @Description: Steering control rate P gain.  Converts the turn rate error (in radians/sec) to a steering control output (in the range -1 to +1)</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    <span class="comment">// @Range: 0.000 2.000</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    <span class="comment">// @Increment: 0.001</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span> </div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    <span class="comment">// @Param: _STR_RAT_I</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>    <span class="comment">// @DisplayName: Steering control I gain</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    <span class="comment">// @Description: Steering control I gain.  Corrects long term error between the desired turn rate (in rad/s) and actual</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    <span class="comment">// @Range: 0.000 2.000</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    <span class="comment">// @Increment: 0.001</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    <span class="comment">// @Param: _STR_RAT_IMAX</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    <span class="comment">// @DisplayName: Steering control I gain maximum</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    <span class="comment">// @Description: Steering control I gain maximum.  Constrains the steering output (range -1 to +1) that the I term will generate</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    <span class="comment">// @Range: 0.000 1.000</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span> </div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    <span class="comment">// @Param: _STR_RAT_D</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    <span class="comment">// @DisplayName: Steering control D gain</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>    <span class="comment">// @Description: Steering control D gain.  Compensates for short-term change in desired turn rate vs actual</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <span class="comment">// @Range: 0.000 0.400</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    <span class="comment">// @Increment: 0.001</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span> </div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="comment">// @Param: _STR_RAT_FF</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    <span class="comment">// @DisplayName: Steering control feed forward</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <span class="comment">// @Description: Steering control feed forward</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <span class="comment">// @Range: 0.000 3.000</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <span class="comment">// @Increment: 0.001</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span> </div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <span class="comment">// @Param: _STR_RAT_FILT</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    <span class="comment">// @DisplayName: Steering control filter frequency</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    <span class="comment">// @Description: Steering control input filter.  Lower values reduce noise but add delay.</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    <span class="comment">// @Range: 0.000 100.000</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <span class="comment">// @Param: _STR_RAT_FLTT</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <span class="comment">// @DisplayName: Steering control Target filter frequency in Hz</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <span class="comment">// @Description: Target filter frequency in Hz</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    <span class="comment">// @Range: 0.000 100.000</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span> </div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    <span class="comment">// @Param: _STR_RAT_FLTE</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    <span class="comment">// @DisplayName: Steering control Error filter frequency in Hz</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    <span class="comment">// @Description: Error filter frequency in Hz</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    <span class="comment">// @Range: 0.000 100.000</span></div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span> </div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <span class="comment">// @Param: _STR_RAT_FLTD</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <span class="comment">// @DisplayName: Steering control Derivative term filter frequency in Hz</span></div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    <span class="comment">// @Description: Derivative filter frequency in Hz</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <span class="comment">// @Range: 0.000 100.000</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span> </div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <span class="comment">// @Param: _STR_RAT_SMAX</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <span class="comment">// @DisplayName: Steering slew rate limit</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <span class="comment">// @Description: Sets an upper limit on the slew rate produced by the combined P and D gains. If the amplitude of the control action produced by the rate feedback exceeds this value, then the D+P gain is reduced to respect the limit. This limits the amplitude of high frequency oscillations caused by an excessive gain. The limit should be set to no more than 25% of the actuators maximum slew rate to allow for load effects. Note: The gain will not be reduced to less than 10% of the nominal value. A value of zero will disable this feature.</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <span class="comment">// @Range: 0 200</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    <span class="comment">// @Increment: 0.5</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span> </div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="comment">// @Param: _STR_RAT_PDMX</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <span class="comment">// @DisplayName: Steering control PD sum maximum</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <span class="comment">// @Description: Steering control PD sum maximum.  The maximum/minimum value that the sum of the P and D term can output</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <span class="comment">// @Range: 0.000 1.000</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span> </div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <span class="comment">// @Param: _STR_RAT_D_FF</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    <span class="comment">// @DisplayName: Steering control Derivative FeedForward Gain</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    <span class="comment">// @Description: FF D Gain which produces an output that is proportional to the rate of change of the target</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    <span class="comment">// @Range: 0 0.03</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    <span class="comment">// @Increment: 0.001</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span> </div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    <span class="comment">// @Param: _STR_RAT_NTF</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <span class="comment">// @DisplayName: Steering control Target notch filter index</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    <span class="comment">// @Description: Steering control Target notch filter index</span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <span class="comment">// @Range: 1 8</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span> </div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="comment">// @Param: _STR_RAT_NEF</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <span class="comment">// @DisplayName: Steering control Error notch filter index</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    <span class="comment">// @Description: Steering control Error notch filter index</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    <span class="comment">// @Range: 1 8</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span> </div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <a class="code hl_define" href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a>(_steer_rate_pid, <span class="stringliteral">&quot;_STR_RAT_&quot;</span>, 1, <a class="code hl_class" href="classAR__AttitudeControl.html">AR_AttitudeControl</a>, <a class="code hl_class" href="classAC__PID.html">AC_PID</a>),</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span> </div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    <span class="comment">// @Param: _SPEED_P</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <span class="comment">// @DisplayName: Speed control P gain</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <span class="comment">// @Description: Speed control P gain.  Converts the error between the desired speed (in m/s) and actual speed to a motor output (in the range -1 to +1)</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <span class="comment">// @Range: 0.010 2.000</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    <span class="comment">// @Param: _SPEED_I</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    <span class="comment">// @DisplayName: Speed control I gain</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <span class="comment">// @Description: Speed control I gain.  Corrects long term error between the desired speed (in m/s) and actual speed</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <span class="comment">// @Range: 0.000 2.000</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span> </div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <span class="comment">// @Param: _SPEED_IMAX</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="comment">// @DisplayName: Speed control I gain maximum</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    <span class="comment">// @Description: Speed control I gain maximum.  Constrains the maximum motor output (range -1 to +1) that the I term will generate</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    <span class="comment">// @Range: 0.000 1.000</span></div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span> </div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    <span class="comment">// @Param: _SPEED_D</span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <span class="comment">// @DisplayName: Speed control D gain</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <span class="comment">// @Description: Speed control D gain.  Compensates for short-term change in desired speed vs actual</span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <span class="comment">// @Range: 0.000 0.400</span></div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <span class="comment">// @Increment: 0.001</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span> </div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <span class="comment">// @Param: _SPEED_FF</span></div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <span class="comment">// @DisplayName: Speed control feed forward</span></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>    <span class="comment">// @Description: Speed control feed forward</span></div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    <span class="comment">// @Range: 0.000 0.500</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    <span class="comment">// @Increment: 0.001</span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span> </div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    <span class="comment">// @Param: _SPEED_FILT</span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    <span class="comment">// @DisplayName: Speed control filter frequency</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    <span class="comment">// @Description: Speed control input filter.  Lower values reduce noise but add delay.</span></div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>    <span class="comment">// @Range: 0.000 100.000</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span> </div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    <span class="comment">// @Param: _SPEED_FLTT</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    <span class="comment">// @DisplayName: Speed control Target filter frequency in Hz</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>    <span class="comment">// @Description: Target filter frequency in Hz</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    <span class="comment">// @Range: 0.000 100.000</span></div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span> </div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    <span class="comment">// @Param: _SPEED_FLTE</span></div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <span class="comment">// @DisplayName: Speed control Error filter frequency in Hz</span></div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <span class="comment">// @Description: Error filter frequency in Hz</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    <span class="comment">// @Range: 0.000 100.000</span></div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span> </div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    <span class="comment">// @Param: _SPEED_FLTD</span></div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <span class="comment">// @DisplayName: Speed control Derivative term filter frequency in Hz</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>    <span class="comment">// @Description: Derivative filter frequency in Hz</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <span class="comment">// @Range: 0.000 100.000</span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span> </div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    <span class="comment">// @Param: _SPEED_SMAX</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    <span class="comment">// @DisplayName: Speed control slew rate limit</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    <span class="comment">// @Description: Sets an upper limit on the slew rate produced by the combined P and D gains. If the amplitude of the control action produced by the rate feedback exceeds this value, then the D+P gain is reduced to respect the limit. This limits the amplitude of high frequency oscillations caused by an excessive gain. The limit should be set to no more than 25% of the actuators maximum slew rate to allow for load effects. Note: The gain will not be reduced to less than 10% of the nominal value. A value of zero will disable this feature.</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    <span class="comment">// @Range: 0 200</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    <span class="comment">// @Increment: 0.5</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span> </div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    <span class="comment">// @Param: _SPEED_PDMX</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    <span class="comment">// @DisplayName: Speed control PD sum maximum</span></div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    <span class="comment">// @Description: Speed control PD sum maximum.  The maximum/minimum value that the sum of the P and D term can output</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    <span class="comment">// @Range: 0.000 1.000</span></div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span> </div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>    <span class="comment">// @Param: _SPEED_D_FF</span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>    <span class="comment">// @DisplayName: Speed control Derivative FeedForward Gain</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>    <span class="comment">// @Description: FF D Gain which produces an output that is proportional to the rate of change of the target</span></div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>    <span class="comment">// @Range: 0 0.03</span></div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>    <span class="comment">// @Increment: 0.001</span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span> </div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    <span class="comment">// @Param: _SPEED_NTF</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    <span class="comment">// @DisplayName: Speed control Target notch filter index</span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    <span class="comment">// @Description: Speed control Target notch filter index</span></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    <span class="comment">// @Range: 1 8</span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span> </div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>    <span class="comment">// @Param: _SPEED_NEF</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    <span class="comment">// @DisplayName: Speed control Error notch filter index</span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    <span class="comment">// @Description: Speed control Error notch filter index</span></div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>    <span class="comment">// @Range: 1 8</span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span> </div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    <a class="code hl_define" href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a>(_throttle_speed_pid, <span class="stringliteral">&quot;_SPEED_&quot;</span>, 2, <a class="code hl_class" href="classAR__AttitudeControl.html">AR_AttitudeControl</a>, <a class="code hl_class" href="classAC__PID.html">AC_PID</a>),</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span> </div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    <span class="comment">// @Param: _ACCEL_MAX</span></div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    <span class="comment">// @DisplayName: Speed control acceleration (and deceleration) maximum in m/s/s</span></div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    <span class="comment">// @Description: Speed control acceleration (and deceleration) maximum in m/s/s.  0 to disable acceleration limiting</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    <span class="comment">// @Range: 0.0 10.0</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    <span class="comment">// @Units: m/s/s</span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_ACCEL_MAX&quot;</span>, 3, <a class="code hl_class" href="classAR__AttitudeControl.html">AR_AttitudeControl</a>, _throttle_accel_max, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#a9c3b0e2600421b7c16c43d08eb9d4408">AR_ATTCONTROL_THR_ACCEL_MAX</a>),</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span> </div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    <span class="comment">// @Param: _BRAKE</span></div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    <span class="comment">// @DisplayName: Speed control brake enable/disable</span></div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    <span class="comment">// @Description: Speed control brake enable/disable. Allows sending a reversed output to the motors to slow the vehicle.</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>    <span class="comment">// @Values: 0:Disable,1:Enable</span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_BRAKE&quot;</span>, 4, <a class="code hl_class" href="classAR__AttitudeControl.html">AR_AttitudeControl</a>, _brake_enable, 1),</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    <span class="comment">// @Param: _STOP_SPEED</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    <span class="comment">// @DisplayName: Speed control stop speed</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    <span class="comment">// @Description: Speed control stop speed.  Motor outputs to zero once vehicle speed falls below this value</span></div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>    <span class="comment">// @Range: 0.00 0.50</span></div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    <span class="comment">// @Units: m/s</span></div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_STOP_SPEED&quot;</span>, 5, <a class="code hl_class" href="classAR__AttitudeControl.html">AR_AttitudeControl</a>, _stop_speed, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#af8d163adfd64718afb84186f25f41270">AR_ATTCONTROL_STOP_SPEED_DEFAULT</a>),</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span> </div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>    <span class="comment">// @Param: _STR_ANG_P</span></div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>    <span class="comment">// @DisplayName: Steering control angle P gain</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>    <span class="comment">// @Description: Steering control angle P gain.  Converts the error between the desired heading/yaw (in radians) and actual heading/yaw to a desired turn rate (in rad/sec)</span></div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>    <span class="comment">// @Range: 1.000 10.000</span></div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    <a class="code hl_define" href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a>(_steer_angle_p, <span class="stringliteral">&quot;_STR_ANG_&quot;</span>, 6, <a class="code hl_class" href="classAR__AttitudeControl.html">AR_AttitudeControl</a>, <a class="code hl_class" href="classAC__P.html">AC_P</a>),</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span> </div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>    <span class="comment">// @Param: _STR_ACC_MAX</span></div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>    <span class="comment">// @DisplayName: Steering control angular acceleration maximum</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>    <span class="comment">// @Description: Steering control angular acceleration maximum (in deg/s/s).  0 to disable acceleration limiting</span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    <span class="comment">// @Range: 0 1000</span></div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>    <span class="comment">// @Units: deg/s/s</span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_STR_ACC_MAX&quot;</span>, 7, <a class="code hl_class" href="classAR__AttitudeControl.html">AR_AttitudeControl</a>, _steer_accel_max, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#ac8b8402ac8b38ba1ba0a381669b1cc4e">AR_ATTCONTROL_STEER_ACCEL_MAX</a>),</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span> </div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    <span class="comment">// @Param: _STR_RAT_MAX</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    <span class="comment">// @DisplayName: Steering control rotation rate maximum</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    <span class="comment">// @Description: Steering control rotation rate maximum in deg/s.  0 to remove rate limiting</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <span class="comment">// @Range: 0 1000</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>    <span class="comment">// @Units: deg/s</span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_STR_RAT_MAX&quot;</span>, 8, <a class="code hl_class" href="classAR__AttitudeControl.html">AR_AttitudeControl</a>, _steer_rate_max, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#a78bde5e930c705c266f86cb1c09e88f4">AR_ATTCONTROL_STEER_RATE_MAX</a>),</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span> </div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>    <span class="comment">// @Param: _DECEL_MAX</span></div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>    <span class="comment">// @DisplayName: Speed control deceleration maximum in m/s/s</span></div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>    <span class="comment">// @Description: Speed control and deceleration maximum in m/s/s.  0 to use ATC_ACCEL_MAX for deceleration</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>    <span class="comment">// @Range: 0.0 10.0</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>    <span class="comment">// @Units: m/s/s</span></div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_DECEL_MAX&quot;</span>, 9, <a class="code hl_class" href="classAR__AttitudeControl.html">AR_AttitudeControl</a>, _throttle_decel_max, 0.00f),</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span> </div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    <span class="comment">// @Param: _BAL_P</span></div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>    <span class="comment">// @DisplayName: Pitch control P gain</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <span class="comment">// @Description: Pitch control P gain for BalanceBots.  Converts the error between the desired pitch (in radians) and actual pitch to a motor output (in the range -1 to +1)</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <span class="comment">// @Range: 0.000 2.000</span></div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span> </div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    <span class="comment">// @Param: _BAL_I</span></div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    <span class="comment">// @DisplayName: Pitch control I gain</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    <span class="comment">// @Description: Pitch control I gain for BalanceBots.  Corrects long term error between the desired pitch (in radians) and actual pitch</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>    <span class="comment">// @Range: 0.000 2.000</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span> </div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>    <span class="comment">// @Param: _BAL_IMAX</span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    <span class="comment">// @DisplayName: Pitch control I gain maximum</span></div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    <span class="comment">// @Description: Pitch control I gain maximum.  Constrains the maximum motor output (range -1 to +1) that the I term will generate</span></div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    <span class="comment">// @Range: 0.000 1.000</span></div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span> </div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>    <span class="comment">// @Param: _BAL_D</span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <span class="comment">// @DisplayName: Pitch control D gain</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    <span class="comment">// @Description: Pitch control D gain.  Compensates for short-term change in desired pitch vs actual</span></div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    <span class="comment">// @Range: 0.000 0.100</span></div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    <span class="comment">// @Increment: 0.001</span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span> </div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    <span class="comment">// @Param: _BAL_FF</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>    <span class="comment">// @DisplayName: Pitch control feed forward</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    <span class="comment">// @Description: Pitch control feed forward</span></div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    <span class="comment">// @Range: 0.000 0.500</span></div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    <span class="comment">// @Increment: 0.001</span></div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span> </div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    <span class="comment">// @Param: _BAL_FILT</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <span class="comment">// @DisplayName: Pitch control filter frequency</span></div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>    <span class="comment">// @Description: Pitch control input filter.  Lower values reduce noise but add delay.</span></div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>    <span class="comment">// @Range: 0.000 100.000</span></div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span> </div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    <span class="comment">// @Param: _BAL_FLTT</span></div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>    <span class="comment">// @DisplayName: Pitch control Target filter frequency in Hz</span></div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>    <span class="comment">// @Description: Pitch control Target filter frequency in Hz</span></div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    <span class="comment">// @Range: 0.000 100.000</span></div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span> </div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    <span class="comment">// @Param: _BAL_FLTE</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>    <span class="comment">// @DisplayName: Pitch control Error filter frequency in Hz</span></div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <span class="comment">// @Description: Pitch control Error filter frequency in Hz</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    <span class="comment">// @Range: 0.000 100.000</span></div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span> </div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    <span class="comment">// @Param: _BAL_FLTD</span></div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    <span class="comment">// @DisplayName: Pitch control Derivative term filter frequency in Hz</span></div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    <span class="comment">// @Description: Pitch control Derivative filter frequency in Hz</span></div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    <span class="comment">// @Range: 0.000 100.000</span></div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span> </div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    <span class="comment">// @Param: _BAL_SMAX</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    <span class="comment">// @DisplayName: Pitch control slew rate limit</span></div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    <span class="comment">// @Description: Pitch control upper limit on the slew rate produced by the combined P and D gains. If the amplitude of the control action produced by the rate feedback exceeds this value, then the D+P gain is reduced to respect the limit. This limits the amplitude of high frequency oscillations caused by an excessive gain. The limit should be set to no more than 25% of the actuators maximum slew rate to allow for load effects. Note: The gain will not be reduced to less than 10% of the nominal value. A value of zero will disable this feature.</span></div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>    <span class="comment">// @Range: 0 200</span></div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    <span class="comment">// @Increment: 0.5</span></div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span> </div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    <span class="comment">// @Param: _BAL_PDMX</span></div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    <span class="comment">// @DisplayName: Pitch control PD sum maximum</span></div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>    <span class="comment">// @Description: Pitch control PD sum maximum.  The maximum/minimum value that the sum of the P and D term can output</span></div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>    <span class="comment">// @Range: 0.000 1.000</span></div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span> </div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>    <span class="comment">// @Param: _BAL_D_FF</span></div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>    <span class="comment">// @DisplayName: Pitch control Derivative FeedForward Gain</span></div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>    <span class="comment">// @Description: FF D Gain which produces an output that is proportional to the rate of change of the target</span></div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>    <span class="comment">// @Range: 0 0.03</span></div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>    <span class="comment">// @Increment: 0.001</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span> </div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>    <span class="comment">// @Param: _BAL_NTF</span></div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>    <span class="comment">// @DisplayName: Pitch control Target notch filter index</span></div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>    <span class="comment">// @Description: Pitch control Target notch filter index</span></div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>    <span class="comment">// @Range: 1 8</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span> </div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>    <span class="comment">// @Param: _BAL_NEF</span></div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>    <span class="comment">// @DisplayName: Pitch control Error notch filter index</span></div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>    <span class="comment">// @Description: Pitch control Error notch filter index</span></div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>    <span class="comment">// @Range: 1 8</span></div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span> </div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>    <a class="code hl_define" href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a>(_pitch_to_throttle_pid, <span class="stringliteral">&quot;_BAL_&quot;</span>, 10, <a class="code hl_class" href="classAR__AttitudeControl.html">AR_AttitudeControl</a>, <a class="code hl_class" href="classAC__PID.html">AC_PID</a>),</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span> </div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>    <span class="comment">// @Param: _BAL_PIT_FF</span></div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>    <span class="comment">// @DisplayName: Pitch control feed forward from current pitch angle</span></div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    <span class="comment">// @Description: Pitch control feed forward from current pitch angle</span></div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    <span class="comment">// @Range: 0.0 1.0</span></div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_BAL_PIT_FF&quot;</span>, 11, <a class="code hl_class" href="classAR__AttitudeControl.html">AR_AttitudeControl</a>, _pitch_to_throttle_ff, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#aa668f990226fadf08dfb1d6f7911fda4">AR_ATTCONTROL_BAL_PITCH_FF</a>),</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span> </div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>    <span class="comment">// @Param: _SAIL_P</span></div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>    <span class="comment">// @DisplayName: Sail Heel control P gain</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>    <span class="comment">// @Description: Sail Heel control P gain for sailboats.  Converts the error between the desired heel angle (in radians) and actual heel to a main sail output (in the range -1 to +1)</span></div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>    <span class="comment">// @Range: 0.000 2.000</span></div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span> </div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>    <span class="comment">// @Param: _SAIL_I</span></div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>    <span class="comment">// @DisplayName: Sail Heel control I gain</span></div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>    <span class="comment">// @Description: Sail Heel control I gain for sailboats.  Corrects long term error between the desired heel angle (in radians) and actual</span></div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>    <span class="comment">// @Range: 0.000 2.000</span></div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span> </div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>    <span class="comment">// @Param: _SAIL_IMAX</span></div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>    <span class="comment">// @DisplayName: Sail Heel control I gain maximum</span></div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>    <span class="comment">// @Description: Sail Heel control I gain maximum.  Constrains the maximum I term contribution to the main sail output (range -1 to +1)</span></div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>    <span class="comment">// @Range: 0.000 1.000</span></div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span> </div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>    <span class="comment">// @Param: _SAIL_D</span></div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>    <span class="comment">// @DisplayName: Sail Heel control D gain</span></div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>    <span class="comment">// @Description: Sail Heel control D gain.  Compensates for short-term change in desired heel angle vs actual</span></div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>    <span class="comment">// @Range: 0.000 0.100</span></div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>    <span class="comment">// @Increment: 0.001</span></div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span> </div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>    <span class="comment">// @Param: _SAIL_FF</span></div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>    <span class="comment">// @DisplayName: Sail Heel control feed forward</span></div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>    <span class="comment">// @Description: Sail Heel control feed forward</span></div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>    <span class="comment">// @Range: 0.000 0.500</span></div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    <span class="comment">// @Increment: 0.001</span></div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span> </div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>    <span class="comment">// @Param: _SAIL_FILT</span></div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>    <span class="comment">// @DisplayName: Sail Heel control filter frequency</span></div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>    <span class="comment">// @Description: Sail Heel control input filter.  Lower values reduce noise but add delay.</span></div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>    <span class="comment">// @Range: 0.000 100.000</span></div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span> </div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>    <span class="comment">// @Param: _SAIL_FLTT</span></div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>    <span class="comment">// @DisplayName: Sail Heel Target filter frequency in Hz</span></div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>    <span class="comment">// @Description: Target filter frequency in Hz</span></div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>    <span class="comment">// @Range: 0.000 100.000</span></div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span> </div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>    <span class="comment">// @Param: _SAIL_FLTE</span></div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>    <span class="comment">// @DisplayName: Sail Heel Error filter frequency in Hz</span></div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>    <span class="comment">// @Description: Error filter frequency in Hz</span></div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>    <span class="comment">// @Range: 0.000 100.000</span></div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span> </div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>    <span class="comment">// @Param: _SAIL_FLTD</span></div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>    <span class="comment">// @DisplayName: Sail Heel Derivative term filter frequency in Hz</span></div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>    <span class="comment">// @Description: Derivative filter frequency in Hz</span></div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>    <span class="comment">// @Range: 0.000 100.000</span></div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span> </div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>    <span class="comment">// @Param: _SAIL_SMAX</span></div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>    <span class="comment">// @DisplayName: Sail heel slew rate limit</span></div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>    <span class="comment">// @Description: Sets an upper limit on the slew rate produced by the combined P and D gains. If the amplitude of the control action produced by the rate feedback exceeds this value, then the D+P gain is reduced to respect the limit. This limits the amplitude of high frequency oscillations caused by an excessive gain. The limit should be set to no more than 25% of the actuators maximum slew rate to allow for load effects. Note: The gain will not be reduced to less than 10% of the nominal value. A value of zero will disable this feature.</span></div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    <span class="comment">// @Range: 0 200</span></div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>    <span class="comment">// @Increment: 0.5</span></div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span> </div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>    <span class="comment">// @Param: _SAIL_PDMX</span></div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>    <span class="comment">// @DisplayName: Sail Heel control PD sum maximum</span></div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>    <span class="comment">// @Description: Sail Heel control PD sum maximum.  The maximum/minimum value that the sum of the P and D term can output</span></div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    <span class="comment">// @Range: 0.000 1.000</span></div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span> </div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>    <span class="comment">// @Param: _SAIL_D_FF</span></div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>    <span class="comment">// @DisplayName: Sail Heel Derivative FeedForward Gain</span></div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>    <span class="comment">// @Description: FF D Gain which produces an output that is proportional to the rate of change of the target</span></div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>    <span class="comment">// @Range: 0 0.03</span></div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>    <span class="comment">// @Increment: 0.001</span></div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span> </div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>    <span class="comment">// @Param: _SAIL_NTF</span></div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>    <span class="comment">// @DisplayName: Sail Heel Target notch filter index</span></div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>    <span class="comment">// @Description: Sail Heel Target notch filter index</span></div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>    <span class="comment">// @Range: 1 8</span></div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span> </div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>    <span class="comment">// @Param: _SAIL_NEF</span></div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>    <span class="comment">// @DisplayName: Sail Heel Error notch filter index</span></div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    <span class="comment">// @Description: Sail Heel Error notch filter index</span></div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>    <span class="comment">// @Range: 1 8</span></div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span> </div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>    <a class="code hl_define" href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a>(_sailboat_heel_pid, <span class="stringliteral">&quot;_SAIL_&quot;</span>, 12, <a class="code hl_class" href="classAR__AttitudeControl.html">AR_AttitudeControl</a>, <a class="code hl_class" href="classAC__PID.html">AC_PID</a>),</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span> </div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>    <span class="comment">// @Param: _TURN_MAX_G</span></div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>    <span class="comment">// @DisplayName: Turning maximum G force</span></div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>    <span class="comment">// @Description: The maximum turning acceleration (in units of gravities) that the rover can handle while remaining stable. The navigation code will keep the lateral acceleration below this level to avoid rolling over or slipping the wheels in turns</span></div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>    <span class="comment">// @Units: gravities</span></div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>    <span class="comment">// @Range: 0.1 10</span></div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_TURN_MAX_G&quot;</span>, 13, <a class="code hl_class" href="classAR__AttitudeControl.html">AR_AttitudeControl</a>, _turn_lateral_G_max, 0.6f),</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span> </div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>    <span class="comment">// @Param: _BAL_LIM_TC</span></div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>    <span class="comment">// @DisplayName: Pitch control limit time constant</span></div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>    <span class="comment">// @Description: Pitch control limit time constant to protect against falling.  Lower values limit pitch more quickly, higher values limit more slowly.  Set to 0 to disable</span></div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>    <span class="comment">// @Range: 0.0 5.0</span></div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_BAL_LIM_TC&quot;</span>, 14, <a class="code hl_class" href="classAR__AttitudeControl.html">AR_AttitudeControl</a>, _pitch_limit_tc, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#ad4a2906ba1e3e8d33810c022b19721ff">AR_ATTCONTROL_PITCH_LIM_TC</a>),</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span> </div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>    <span class="comment">// @Param: _BAL_LIM_THR</span></div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>    <span class="comment">// @DisplayName: Pitch control limit throttle threshold</span></div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>    <span class="comment">// @Description: Pitch control limit throttle threshold.  Pitch angle will be limited if throttle crosses this threshold (from 0 to 1)</span></div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>    <span class="comment">// @Range: 0.0 1.0</span></div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_BAL_LIM_THR&quot;</span>, 15, <a class="code hl_class" href="classAR__AttitudeControl.html">AR_AttitudeControl</a>, _pitch_limit_throttle_thresh, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#af204fe784c907ce770f7b5ced2127810">AR_ATTCONTROL_PITCH_LIM_THR_THRESH</a>),</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span> </div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>    <a class="code hl_define" href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>};</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span> </div>
<div class="foldopen" id="foldopen00570" data-start="{" data-end="}">
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#a9f13616d0abb02403bbd7c6d3eaef28a">  570</a></span><a class="code hl_function" href="classAR__AttitudeControl.html#a9f13616d0abb02403bbd7c6d3eaef28a">AR_AttitudeControl::AR_AttitudeControl</a>() :</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>    _steer_angle_p(<a class="code hl_define" href="AR__AttitudeControl_8cpp.html#ab135f19a6003a571d5b7c1837e0602b2">AR_ATTCONTROL_STEER_ANG_P</a>),</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>    _steer_rate_pid(<a class="code hl_define" href="AR__AttitudeControl_8cpp.html#ae949053db8c558a493de9eb6b0f1803d">AR_ATTCONTROL_STEER_RATE_P</a>, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#ac051d217917b91f59abeec1d378e6b0a">AR_ATTCONTROL_STEER_RATE_I</a>, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#a4c97f965971b287b2dc1b34798655c3d">AR_ATTCONTROL_STEER_RATE_D</a>, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#a06b984b4168a27d502bef534f7fccee1">AR_ATTCONTROL_STEER_RATE_FF</a>, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#a177824d29e1513a6276a3af33dba1d32">AR_ATTCONTROL_STEER_RATE_IMAX</a>, 0.0f, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#a36c572513d9bfc7c862c49dd01ee7657">AR_ATTCONTROL_STEER_RATE_FILT</a>, 0.0f),</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>    _throttle_speed_pid(<a class="code hl_define" href="AR__AttitudeControl_8cpp.html#ae7fa1997bcc6963cee6a612c832c3349">AR_ATTCONTROL_THR_SPEED_P</a>, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#a6a831278d078fc863d82458b9b0c4aa1">AR_ATTCONTROL_THR_SPEED_I</a>, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#ae294048323646375973af98e06a2ccc8">AR_ATTCONTROL_THR_SPEED_D</a>, 0.0f, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#ac097b44c0d92cc7f415f2ed83405bd7d">AR_ATTCONTROL_THR_SPEED_IMAX</a>, 0.0f, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#a2f5869540efb0b76edba3f0c2b9050a6">AR_ATTCONTROL_THR_SPEED_FILT</a>, 0.0f),</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>    _pitch_to_throttle_pid(<a class="code hl_define" href="AR__AttitudeControl_8cpp.html#aa32cb57144ba7a46a5c620a6ca08522f">AR_ATTCONTROL_PITCH_THR_P</a>, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#ad9e5930608c541a71756d228772ab8d0">AR_ATTCONTROL_PITCH_THR_I</a>, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#aed30729a582f3914627f8630e30c3047">AR_ATTCONTROL_PITCH_THR_D</a>, 0.0f, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#ad1df62d5eafe80a2a752fba1e2e382d7">AR_ATTCONTROL_PITCH_THR_IMAX</a>, 0.0f, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#aab150bb7678a6b6cc45228a0d728bf29">AR_ATTCONTROL_PITCH_THR_FILT</a>, 0.0f),</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>    _sailboat_heel_pid(<a class="code hl_define" href="AR__AttitudeControl_8cpp.html#a23ad7b36d998f13a9421c19722fbb2b7">AR_ATTCONTROL_HEEL_SAIL_P</a>, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#a8eafc100dd5881439393681299bed19a">AR_ATTCONTROL_HEEL_SAIL_I</a>, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#abd34ed589e97ab065eae51f394733108">AR_ATTCONTROL_HEEL_SAIL_D</a>, 0.0f, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#a1f32d22a215d8a647213efb41b60e793">AR_ATTCONTROL_HEEL_SAIL_IMAX</a>, 0.0f, <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#aa7cc0c4d422169f8495ab170c611f5ba">AR_ATTCONTROL_HEEL_SAIL_FILT</a>, 0.0f)</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>{</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#ab338b3d0c9170ce182e0ee6b325c8c15">_singleton</a> = <span class="keyword">this</span>;</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>    <a class="code hl_function" href="classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a>(<span class="keyword">this</span>, var_info);</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>}</div>
</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span> </div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span><span class="comment">// return a steering servo output from -1.0 to +1.0 given a desired lateral acceleration rate in m/s/s.</span></div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span><span class="comment">// positive lateral acceleration is to the right.</span></div>
<div class="foldopen" id="foldopen00583" data-start="{" data-end="}">
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#aedb2c49f989bc820c8df3a01f8c4d780">  583</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAR__AttitudeControl.html#aedb2c49f989bc820c8df3a01f8c4d780">AR_AttitudeControl::get_steering_out_lat_accel</a>(<span class="keywordtype">float</span> desired_accel, <span class="keywordtype">bool</span> motor_limit_left, <span class="keywordtype">bool</span> motor_limit_right, <span class="keywordtype">float</span> dt)</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>{</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>    <span class="comment">// record desired accel for reporting purposes</span></div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#a550c73677a5e7e4e1d54b2cd58d497c3">_steer_lat_accel_last_ms</a> = <a class="code hl_function" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#a4178440de74565a3d19dafe6767a8a10">_desired_lat_accel</a> = desired_accel;</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span> </div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>    <span class="comment">// get speed forward</span></div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>    <span class="keywordtype">float</span> speed;</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAR__AttitudeControl.html#a329178791a21e75f4bb6a3336cd2fea3">get_forward_speed</a>(speed)) {</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>        <span class="comment">// we expect caller will not try to control heading using rate control without a valid speed estimate</span></div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>        <span class="comment">// on failure to get speed we do not attempt to steer</span></div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>        <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>    }</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span> </div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> desired_rate = <a class="code hl_function" href="classAR__AttitudeControl.html#ade9d46b8ff306d77945ddac014a8260a">get_turn_rate_from_lat_accel</a>(desired_accel, speed);</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span> </div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classAR__AttitudeControl.html#a1fc75455078aaf1f936c483013f96a2b">get_steering_out_rate</a>(desired_rate, motor_limit_left, motor_limit_right, dt);</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>}</div>
</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span> </div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span><span class="comment">// return a steering servo output from -1 to +1 given a heading in radians</span></div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span><span class="comment">// set rate_max_rads to a non-zero number to apply a limit on the desired turn rate</span></div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span><span class="comment">// return value is normally in range -1.0 to +1.0 but can be higher or lower</span></div>
<div class="foldopen" id="foldopen00605" data-start="{" data-end="}">
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#abf916c52557e5fab8099983f346c256f">  605</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAR__AttitudeControl.html#abf916c52557e5fab8099983f346c256f">AR_AttitudeControl::get_steering_out_heading</a>(<span class="keywordtype">float</span> heading_rad, <span class="keywordtype">float</span> rate_max_rads, <span class="keywordtype">bool</span> motor_limit_left, <span class="keywordtype">bool</span> motor_limit_right, <span class="keywordtype">float</span> dt)</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>{</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>    <span class="comment">// calculate the desired turn rate (in radians) from the angle error (also in radians)</span></div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>    <span class="keywordtype">float</span> desired_rate = <a class="code hl_function" href="classAR__AttitudeControl.html#acd0df86ba466a2a6d4551a447b65e3ec">get_turn_rate_from_heading</a>(heading_rad, rate_max_rads);</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span> </div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classAR__AttitudeControl.html#a1fc75455078aaf1f936c483013f96a2b">get_steering_out_rate</a>(desired_rate, motor_limit_left, motor_limit_right, dt);</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>}</div>
</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span> </div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span><span class="comment">// return a desired turn-rate given a desired heading in radians</span></div>
<div class="foldopen" id="foldopen00614" data-start="{" data-end="}">
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#acd0df86ba466a2a6d4551a447b65e3ec">  614</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAR__AttitudeControl.html#acd0df86ba466a2a6d4551a447b65e3ec">AR_AttitudeControl::get_turn_rate_from_heading</a>(<span class="keywordtype">float</span> heading_rad, <span class="keywordtype">float</span> rate_max_rads)<span class="keyword"> const</span></div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> yaw_error = <a class="code hl_function" href="AP__Math_8cpp.html#ae77517d032abb1e1b525d2b43ff9a27d">wrap_PI</a>(heading_rad - <a class="code hl_function" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>().get_yaw());</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span> </div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>    <span class="comment">// Calculate the desired turn rate (in radians) from the angle error (also in radians)</span></div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>    <span class="keywordtype">float</span> desired_rate = <a class="code hl_variable" href="classAR__AttitudeControl.html#a3baa6843acbdce84cc80864f3dbf4027">_steer_angle_p</a>.<a class="code hl_function" href="classAC__P.html#a7fd01b39a158855248caea5f76b366e7">get_p</a>(yaw_error);</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span> </div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>    <span class="comment">// limit desired_rate if a custom pivot turn rate is selected, otherwise use ATC_STR_RAT_MAX</span></div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(rate_max_rads)) {</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>        desired_rate = <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(desired_rate, -rate_max_rads, rate_max_rads);</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>    }</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span> </div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>    <span class="comment">// if acceleration limit is provided, ensure rate can be slowed to zero in time to stop at heading_rad (i.e. avoid overshoot)</span></div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAR__AttitudeControl.html#ada80c5aeae9e455af4a54e2dddc26919">_steer_accel_max</a>)) {</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> steer_accel_rate_max_rads = <a class="code hl_function" href="AP__Math_8cpp.html#ac89eb1832d8e4d67fcf1ac07e3c25184">safe_sqrt</a>(2.0 * fabsf(yaw_error) * <a class="code hl_function" href="AP__Math_8h.html#a49ad7fa2fa2e3d8aa75e8e0ec3f83b99">radians</a>(<a class="code hl_variable" href="classAR__AttitudeControl.html#ada80c5aeae9e455af4a54e2dddc26919">_steer_accel_max</a>));</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>        desired_rate = <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(desired_rate, -steer_accel_rate_max_rads, steer_accel_rate_max_rads);</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>    }</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span> </div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>    <span class="keywordflow">return</span> desired_rate;</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>}</div>
</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span> </div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span><span class="comment">// return a steering servo output given a desired yaw rate in radians/sec.</span></div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span><span class="comment">// positive yaw is to the right</span></div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span><span class="comment">// return value is normally in range -1.0 to +1.0 but can be higher or lower</span></div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span><span class="comment">// also sets steering_limit_left and steering_limit_right flags</span></div>
<div class="foldopen" id="foldopen00639" data-start="{" data-end="}">
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#a1fc75455078aaf1f936c483013f96a2b">  639</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAR__AttitudeControl.html#a1fc75455078aaf1f936c483013f96a2b">AR_AttitudeControl::get_steering_out_rate</a>(<span class="keywordtype">float</span> desired_rate, <span class="keywordtype">bool</span> motor_limit_left, <span class="keywordtype">bool</span> motor_limit_right, <span class="keywordtype">float</span> dt)</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>{</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>    <span class="comment">// sanity check dt</span></div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>    dt = <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(dt, 0.0f, 1.0f);</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span> </div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>    <span class="comment">// update steering limit flags used by higher level controllers (e.g. position controller)</span></div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#a2a89aec6c8914bd1c57731c256e99d30">_steering_limit_left</a> = motor_limit_left;</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#ae5abeb82e864ccc344d8230aef044b95">_steering_limit_right</a> = motor_limit_right;</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span> </div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>    <span class="comment">// if not called recently, reset input filter and desired turn rate to actual turn rate (used for accel limiting)</span></div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>    <span class="keyword">const</span> uint32_t now = <a class="code hl_function" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classAR__AttitudeControl.html#ae33e1f869fd9ae77fe23d8a1fb68c9e7">_steer_turn_last_ms</a> == 0) || ((now - <a class="code hl_variable" href="classAR__AttitudeControl.html#ae33e1f869fd9ae77fe23d8a1fb68c9e7">_steer_turn_last_ms</a>) &gt; <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#a6f4d7da53a5d9d11ebc640300274f28f">AR_ATTCONTROL_TIMEOUT_MS</a>)) {</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#a11e49e3d7d6139690c11e7420b2bd3b8">_steer_rate_pid</a>.<a class="code hl_function" href="classAC__PID.html#a2fd30f6413ff1b18c387542450e15bb3">reset_filter</a>();</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#a11e49e3d7d6139690c11e7420b2bd3b8">_steer_rate_pid</a>.<a class="code hl_function" href="classAC__PID.html#aeee26e2bec3de02355b307b2b40ddbaa">reset_I</a>();</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#aa50dfa5bbfbd81ebd3e8550266c8b1cb">_desired_turn_rate</a> = <a class="code hl_function" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>().<a class="code hl_function" href="classAP__AHRS.html#aceff0a785eb88258c2428298f5c5839a">get_yaw_rate_earth</a>();</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>    }</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#ae33e1f869fd9ae77fe23d8a1fb68c9e7">_steer_turn_last_ms</a> = now;</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span> </div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>    <span class="comment">// acceleration limit desired turn rate</span></div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAR__AttitudeControl.html#ada80c5aeae9e455af4a54e2dddc26919">_steer_accel_max</a>)) {</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> change_max = <a class="code hl_function" href="AP__Math_8h.html#a49ad7fa2fa2e3d8aa75e8e0ec3f83b99">radians</a>(<a class="code hl_variable" href="classAR__AttitudeControl.html#ada80c5aeae9e455af4a54e2dddc26919">_steer_accel_max</a>) * dt;</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>        <span class="keywordflow">if</span> (desired_rate &lt;= <a class="code hl_variable" href="classAR__AttitudeControl.html#aa50dfa5bbfbd81ebd3e8550266c8b1cb">_desired_turn_rate</a> - change_max) {</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>            <a class="code hl_variable" href="classAR__AttitudeControl.html#a2a89aec6c8914bd1c57731c256e99d30">_steering_limit_left</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>        }</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>        <span class="keywordflow">if</span> (desired_rate &gt;= <a class="code hl_variable" href="classAR__AttitudeControl.html#aa50dfa5bbfbd81ebd3e8550266c8b1cb">_desired_turn_rate</a> + change_max) {</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>            <a class="code hl_variable" href="classAR__AttitudeControl.html#ae5abeb82e864ccc344d8230aef044b95">_steering_limit_right</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>        }</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>        desired_rate = <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(desired_rate, <a class="code hl_variable" href="classAR__AttitudeControl.html#aa50dfa5bbfbd81ebd3e8550266c8b1cb">_desired_turn_rate</a> - change_max, <a class="code hl_variable" href="classAR__AttitudeControl.html#aa50dfa5bbfbd81ebd3e8550266c8b1cb">_desired_turn_rate</a> + change_max);</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>    }</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#aa50dfa5bbfbd81ebd3e8550266c8b1cb">_desired_turn_rate</a> = desired_rate;</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span> </div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>    <span class="comment">// rate limit desired turn rate</span></div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAR__AttitudeControl.html#a0f3131d0bb6c184a563717888c3cb784">_steer_rate_max</a>)) {</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> steer_rate_max_rad = <a class="code hl_function" href="AP__Math_8h.html#a49ad7fa2fa2e3d8aa75e8e0ec3f83b99">radians</a>(<a class="code hl_variable" href="classAR__AttitudeControl.html#a0f3131d0bb6c184a563717888c3cb784">_steer_rate_max</a>);</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAR__AttitudeControl.html#aa50dfa5bbfbd81ebd3e8550266c8b1cb">_desired_turn_rate</a> &lt;= -steer_rate_max_rad) {</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>            <a class="code hl_variable" href="classAR__AttitudeControl.html#a2a89aec6c8914bd1c57731c256e99d30">_steering_limit_left</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>        }</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAR__AttitudeControl.html#aa50dfa5bbfbd81ebd3e8550266c8b1cb">_desired_turn_rate</a> &gt;= steer_rate_max_rad) {</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>            <a class="code hl_variable" href="classAR__AttitudeControl.html#ae5abeb82e864ccc344d8230aef044b95">_steering_limit_right</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>        }</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#aa50dfa5bbfbd81ebd3e8550266c8b1cb">_desired_turn_rate</a> = <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAR__AttitudeControl.html#aa50dfa5bbfbd81ebd3e8550266c8b1cb">_desired_turn_rate</a>, -steer_rate_max_rad, steer_rate_max_rad);</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>    }</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span> </div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>    <span class="comment">// G limit based on speed</span></div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>    <span class="keywordtype">float</span> speed;</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAR__AttitudeControl.html#a329178791a21e75f4bb6a3336cd2fea3">get_forward_speed</a>(speed)) {</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>        <span class="comment">// do not limit to less than 1 deg/s</span></div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> turn_rate_max = <a class="code hl_define" href="monocypher_8cpp.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(<a class="code hl_function" href="classAR__AttitudeControl.html#ade9d46b8ff306d77945ddac014a8260a">get_turn_rate_from_lat_accel</a>(<a class="code hl_function" href="classAR__AttitudeControl.html#ab46a990c0951ee4cb9320f16cff30120">get_turn_lat_accel_max</a>(), fabsf(speed)), <a class="code hl_function" href="AP__Math_8h.html#a49ad7fa2fa2e3d8aa75e8e0ec3f83b99">radians</a>(1.0f));</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAR__AttitudeControl.html#aa50dfa5bbfbd81ebd3e8550266c8b1cb">_desired_turn_rate</a> &lt;= -turn_rate_max) {</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>            <a class="code hl_variable" href="classAR__AttitudeControl.html#a2a89aec6c8914bd1c57731c256e99d30">_steering_limit_left</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>        }</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAR__AttitudeControl.html#aa50dfa5bbfbd81ebd3e8550266c8b1cb">_desired_turn_rate</a> &gt;= turn_rate_max) {</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>            <a class="code hl_variable" href="classAR__AttitudeControl.html#ae5abeb82e864ccc344d8230aef044b95">_steering_limit_right</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>        }</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#aa50dfa5bbfbd81ebd3e8550266c8b1cb">_desired_turn_rate</a> = <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAR__AttitudeControl.html#aa50dfa5bbfbd81ebd3e8550266c8b1cb">_desired_turn_rate</a>, -turn_rate_max, turn_rate_max);</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>    }</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span> </div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>    <span class="comment">// update pid to calculate output to motors</span></div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="luac_8c.html#a5a832fe6e2412dfabb93a2adae30e745">output</a> = <a class="code hl_variable" href="classAR__AttitudeControl.html#a11e49e3d7d6139690c11e7420b2bd3b8">_steer_rate_pid</a>.<a class="code hl_function" href="classAC__PID.html#ad590012ddb8fa4ec372a82c61c5a2dde">update_all</a>(<a class="code hl_variable" href="classAR__AttitudeControl.html#aa50dfa5bbfbd81ebd3e8550266c8b1cb">_desired_turn_rate</a>, <a class="code hl_function" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>().get_yaw_rate_earth(), dt, (motor_limit_left || motor_limit_right));</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>    <a class="code hl_variable" href="luac_8c.html#a5a832fe6e2412dfabb93a2adae30e745">output</a> += <a class="code hl_variable" href="classAR__AttitudeControl.html#a11e49e3d7d6139690c11e7420b2bd3b8">_steer_rate_pid</a>.<a class="code hl_function" href="classAC__PID.html#ad78d03d125980bae0d247e9db48b7460">get_ff</a>();</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>    <span class="comment">// constrain and return final output</span></div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="luac_8c.html#a5a832fe6e2412dfabb93a2adae30e745">output</a>;</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>}</div>
</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span> </div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span><span class="comment">// get latest desired turn rate in rad/sec (recorded during calls to get_steering_out_rate)</span></div>
<div class="foldopen" id="foldopen00704" data-start="{" data-end="}">
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#ad00bc58aa97f4d7a9287335d9525b7f1">  704</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAR__AttitudeControl.html#ad00bc58aa97f4d7a9287335d9525b7f1">AR_AttitudeControl::get_desired_turn_rate</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>    <span class="comment">// return zero if no recent calls to turn rate controller</span></div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classAR__AttitudeControl.html#ae33e1f869fd9ae77fe23d8a1fb68c9e7">_steer_turn_last_ms</a> == 0) || ((<a class="code hl_function" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>() - <a class="code hl_variable" href="classAR__AttitudeControl.html#ae33e1f869fd9ae77fe23d8a1fb68c9e7">_steer_turn_last_ms</a>) &gt; <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#a6f4d7da53a5d9d11ebc640300274f28f">AR_ATTCONTROL_TIMEOUT_MS</a>)) {</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>        <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    }</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classAR__AttitudeControl.html#aa50dfa5bbfbd81ebd3e8550266c8b1cb">_desired_turn_rate</a>;</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>}</div>
</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span> </div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span><span class="comment">// get latest desired lateral acceleration in m/s/s (recorded during calls to get_steering_out_lat_accel)</span></div>
<div class="foldopen" id="foldopen00714" data-start="{" data-end="}">
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#a4e9fefc4be7d3eed4ab12e900ab56eff">  714</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAR__AttitudeControl.html#a4e9fefc4be7d3eed4ab12e900ab56eff">AR_AttitudeControl::get_desired_lat_accel</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>    <span class="comment">// return zero if no recent calls to lateral acceleration controller</span></div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classAR__AttitudeControl.html#a550c73677a5e7e4e1d54b2cd58d497c3">_steer_lat_accel_last_ms</a> == 0) || ((<a class="code hl_function" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>() - <a class="code hl_variable" href="classAR__AttitudeControl.html#a550c73677a5e7e4e1d54b2cd58d497c3">_steer_lat_accel_last_ms</a>) &gt; <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#a6f4d7da53a5d9d11ebc640300274f28f">AR_ATTCONTROL_TIMEOUT_MS</a>)) {</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>        <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>    }</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classAR__AttitudeControl.html#a4178440de74565a3d19dafe6767a8a10">_desired_lat_accel</a>;</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>}</div>
</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span> </div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span><span class="comment">// get actual lateral acceleration in m/s/s.  returns true on success</span></div>
<div class="foldopen" id="foldopen00724" data-start="{" data-end="}">
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#a0de698ede9f5ef351a8e4944937fd0cf">  724</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAR__AttitudeControl.html#a0de698ede9f5ef351a8e4944937fd0cf">AR_AttitudeControl::get_lat_accel</a>(<span class="keywordtype">float</span> &amp;lat_accel)<span class="keyword"> const</span></div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>    <span class="keywordtype">float</span> speed;</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAR__AttitudeControl.html#a329178791a21e75f4bb6a3336cd2fea3">get_forward_speed</a>(speed)) {</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>    }</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>    lat_accel = speed * <a class="code hl_function" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>().<a class="code hl_function" href="classAP__AHRS.html#aceff0a785eb88258c2428298f5c5839a">get_yaw_rate_earth</a>();</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>}</div>
</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span> </div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span><span class="comment">// calculate the turn rate in rad/sec given a lateral acceleration (in m/s/s) and speed (in m/s)</span></div>
<div class="foldopen" id="foldopen00735" data-start="{" data-end="}">
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#ade9d46b8ff306d77945ddac014a8260a">  735</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAR__AttitudeControl.html#ade9d46b8ff306d77945ddac014a8260a">AR_AttitudeControl::get_turn_rate_from_lat_accel</a>(<span class="keywordtype">float</span> lat_accel, <span class="keywordtype">float</span> speed)<span class="keyword"> const</span></div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>    <span class="comment">// enforce minimum speed to stop oscillations when first starting to move</span></div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>    <span class="keywordflow">if</span> (fabsf(speed) &lt; <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#ac3f5a27d23cdd8222aa87c1891f8c072">AR_ATTCONTROL_STEER_SPEED_MIN</a>) {</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="AP__Math_8h.html#a8b6f71a42818d74fd8bfe348108942fa">is_negative</a>(speed)) {</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>            speed = -<a class="code hl_define" href="AR__AttitudeControl_8cpp.html#ac3f5a27d23cdd8222aa87c1891f8c072">AR_ATTCONTROL_STEER_SPEED_MIN</a>;</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>            speed = <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#ac3f5a27d23cdd8222aa87c1891f8c072">AR_ATTCONTROL_STEER_SPEED_MIN</a>;</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>        }</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>    }</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span> </div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>    <span class="keywordflow">return</span> lat_accel / speed;</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>}</div>
</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span> </div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span><span class="comment">// return a throttle output from -1 to +1 given a desired speed in m/s (use negative speeds to travel backwards)</span></div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span><span class="comment">//   motor_limit should be true if motors have hit their upper or lower limits</span></div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span><span class="comment">//   cruise speed should be in m/s, cruise throttle should be a number from -1 to +1</span></div>
<div class="foldopen" id="foldopen00752" data-start="{" data-end="}">
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#a9aab31d9702c59bf0cd5dbfc8db2fc6b">  752</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAR__AttitudeControl.html#a9aab31d9702c59bf0cd5dbfc8db2fc6b">AR_AttitudeControl::get_throttle_out_speed</a>(<span class="keywordtype">float</span> desired_speed, <span class="keywordtype">bool</span> motor_limit_low, <span class="keywordtype">bool</span> motor_limit_high, <span class="keywordtype">float</span> cruise_speed, <span class="keywordtype">float</span> cruise_throttle, <span class="keywordtype">float</span> dt)</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>{</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>    <span class="comment">// sanity check dt</span></div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>    dt = <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(dt, 0.0f, 1.0f);</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span> </div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>    <span class="comment">// get speed forward</span></div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>    <span class="keywordtype">float</span> speed;</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAR__AttitudeControl.html#a329178791a21e75f4bb6a3336cd2fea3">get_forward_speed</a>(speed)) {</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>        <span class="comment">// we expect caller will not try to control heading using rate control without a valid speed estimate</span></div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>        <span class="comment">// on failure to get speed we do not attempt to steer</span></div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>        <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>    }</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span> </div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>    <span class="comment">// if not called recently, reset input filter and desired speed to actual speed (used for accel limiting)</span></div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAR__AttitudeControl.html#accb55294272ddcfbc002c4c0d71070fd">speed_control_active</a>()) {</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#a37c35304454538e3bc1de460133f41a5">_throttle_speed_pid</a>.<a class="code hl_function" href="classAC__PID.html#a2fd30f6413ff1b18c387542450e15bb3">reset_filter</a>();</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#a37c35304454538e3bc1de460133f41a5">_throttle_speed_pid</a>.<a class="code hl_function" href="classAC__PID.html#aeee26e2bec3de02355b307b2b40ddbaa">reset_I</a>();</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#a923c453631ed230ac644ef8b15ae0881">_desired_speed</a> = speed;</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>    }</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#a2a6e553e2687d21e05a33394c55db2cb">_speed_last_ms</a> = <a class="code hl_function" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span> </div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>    <span class="comment">// acceleration limit desired speed</span></div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#a923c453631ed230ac644ef8b15ae0881">_desired_speed</a> = <a class="code hl_function" href="classAR__AttitudeControl.html#afc29228fde53e3229643ffe0108da06a">get_desired_speed_accel_limited</a>(desired_speed, dt);</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span> </div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>    <span class="comment">// calculate base throttle (protect against divide by zero)</span></div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>    <span class="keywordtype">float</span> throttle_base = 0.0f;</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(cruise_speed) &amp;&amp; <a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(cruise_throttle)) {</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>        throttle_base = <a class="code hl_variable" href="classAR__AttitudeControl.html#a923c453631ed230ac644ef8b15ae0881">_desired_speed</a> * (cruise_throttle / cruise_speed);</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>    }</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span> </div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>    <span class="comment">// calculate final output</span></div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>    <span class="keywordtype">float</span> throttle_out = <a class="code hl_variable" href="classAR__AttitudeControl.html#a37c35304454538e3bc1de460133f41a5">_throttle_speed_pid</a>.<a class="code hl_function" href="classAC__PID.html#ad590012ddb8fa4ec372a82c61c5a2dde">update_all</a>(<a class="code hl_variable" href="classAR__AttitudeControl.html#a923c453631ed230ac644ef8b15ae0881">_desired_speed</a>, speed, dt, (motor_limit_low || motor_limit_high || <a class="code hl_variable" href="classAR__AttitudeControl.html#a49157fbbe73b7d1bc6b26ac3827d2b7c">_throttle_limit_low</a> || <a class="code hl_variable" href="classAR__AttitudeControl.html#a2a6f02b5fbdc340958c063b8ad7fb641">_throttle_limit_high</a>));</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>    throttle_out += <a class="code hl_variable" href="classAR__AttitudeControl.html#a37c35304454538e3bc1de460133f41a5">_throttle_speed_pid</a>.<a class="code hl_function" href="classAC__PID.html#ad78d03d125980bae0d247e9db48b7460">get_ff</a>();</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>    throttle_out += throttle_base;</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span> </div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>    <span class="comment">// update PID info for reporting purposes</span></div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#a1d86cdb1ef9e295620b2142f3f49a1de">_throttle_speed_pid_info</a> = <a class="code hl_variable" href="classAR__AttitudeControl.html#a37c35304454538e3bc1de460133f41a5">_throttle_speed_pid</a>.<a class="code hl_function" href="classAC__PID.html#a1989f50e30d9e5ada0ca95783fc28d2d">get_pid_info</a>();</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#a1d86cdb1ef9e295620b2142f3f49a1de">_throttle_speed_pid_info</a>.<a class="code hl_variable" href="structAP__PIDInfo.html#a6415861ae1439a7dd3a61fb585e5ae91">FF</a> += throttle_base;</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span> </div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>    <span class="comment">// clear local limit flags used to stop i-term build-up as we stop reversed outputs going to motors</span></div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#a49157fbbe73b7d1bc6b26ac3827d2b7c">_throttle_limit_low</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#a2a6f02b5fbdc340958c063b8ad7fb641">_throttle_limit_high</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span> </div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>    <span class="comment">// protect against reverse output being sent to the motors unless braking has been enabled</span></div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classAR__AttitudeControl.html#aec41415cd2a863dceca36ca396bc5336">_brake_enable</a>) {</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>        <span class="comment">// if both desired speed and actual speed are positive, do not allow negative values</span></div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>        <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classAR__AttitudeControl.html#a923c453631ed230ac644ef8b15ae0881">_desired_speed</a> &gt;= 0.0f) &amp;&amp; (throttle_out &lt;= 0.0f)) {</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>            throttle_out = 0.0f;</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>            <a class="code hl_variable" href="classAR__AttitudeControl.html#a49157fbbe73b7d1bc6b26ac3827d2b7c">_throttle_limit_low</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classAR__AttitudeControl.html#a923c453631ed230ac644ef8b15ae0881">_desired_speed</a> &lt;= 0.0f) &amp;&amp; (throttle_out &gt;= 0.0f)) {</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>            throttle_out = 0.0f;</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>            <a class="code hl_variable" href="classAR__AttitudeControl.html#a2a6f02b5fbdc340958c063b8ad7fb641">_throttle_limit_high</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>        }</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>    }</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span> </div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>    <span class="comment">// final output throttle in range -1 to 1</span></div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>    <span class="keywordflow">return</span> throttle_out;</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>}</div>
</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span> </div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span><span class="comment">// return a throttle output from -1 to +1 to perform a controlled stop.  returns true once the vehicle has stopped</span></div>
<div class="foldopen" id="foldopen00812" data-start="{" data-end="}">
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#aa6d93dc014f5037bbcd88e96a392cc5e">  812</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAR__AttitudeControl.html#aa6d93dc014f5037bbcd88e96a392cc5e">AR_AttitudeControl::get_throttle_out_stop</a>(<span class="keywordtype">bool</span> motor_limit_low, <span class="keywordtype">bool</span> motor_limit_high, <span class="keywordtype">float</span> cruise_speed, <span class="keywordtype">float</span> cruise_throttle, <span class="keywordtype">float</span> dt, <span class="keywordtype">bool</span> &amp;stopped)</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>{</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>    <span class="comment">// get current system time</span></div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    <span class="keyword">const</span> uint32_t now = <a class="code hl_function" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span> </div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>    <span class="comment">// if we were stopped in the last 300ms, assume we are still stopped</span></div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>    <span class="keywordtype">bool</span> _stopped = (<a class="code hl_variable" href="classAR__AttitudeControl.html#afaa6de18cd8dfa0df1807d909eedd2c9">_stop_last_ms</a> != 0) &amp;&amp; (now - <a class="code hl_variable" href="classAR__AttitudeControl.html#afaa6de18cd8dfa0df1807d909eedd2c9">_stop_last_ms</a>) &lt; 300;</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span> </div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>    <span class="comment">// get deceleration limited speed</span></div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>    <span class="keywordtype">float</span> desired_speed_limited = <a class="code hl_function" href="classAR__AttitudeControl.html#afc29228fde53e3229643ffe0108da06a">get_desired_speed_accel_limited</a>(0.0f, dt);</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span> </div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>    <span class="comment">// get speed forward</span></div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>    <span class="keywordtype">float</span> speed;</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAR__AttitudeControl.html#a329178791a21e75f4bb6a3336cd2fea3">get_forward_speed</a>(speed)) {</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>        <span class="comment">// could not get speed so assume stopped</span></div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>        _stopped = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>        <span class="comment">// if desired speed is zero and vehicle drops below _stop_speed consider it stopped</span></div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="AP__Math_8h.html#a2a12cce483e9b870da70d30406d82c60">is_zero</a>(desired_speed_limited) &amp;&amp; fabsf(speed) &lt;= fabsf(<a class="code hl_variable" href="classAR__AttitudeControl.html#a8f43697b5ed28daa144e8d065db2668e">_stop_speed</a>)) {</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>            _stopped = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>        }</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>    }</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span> </div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>    <span class="comment">// set stopped status for caller</span></div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>    stopped = _stopped;</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span> </div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>    <span class="comment">// if stopped return zero</span></div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>    <span class="keywordflow">if</span> (stopped) {</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>        <span class="comment">// update last time we thought we were stopped</span></div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#afaa6de18cd8dfa0df1807d909eedd2c9">_stop_last_ms</a> = now;</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>        <span class="comment">// set last time speed controller was run so accelerations are limited</span></div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#a2a6e553e2687d21e05a33394c55db2cb">_speed_last_ms</a> = now;</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>        <span class="comment">// reset filters and I-term</span></div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#a37c35304454538e3bc1de460133f41a5">_throttle_speed_pid</a>.<a class="code hl_function" href="classAC__PID.html#a2fd30f6413ff1b18c387542450e15bb3">reset_filter</a>();</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#a37c35304454538e3bc1de460133f41a5">_throttle_speed_pid</a>.<a class="code hl_function" href="classAC__PID.html#aeee26e2bec3de02355b307b2b40ddbaa">reset_I</a>();</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>        <span class="comment">// ensure desired speed is zero</span></div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#a923c453631ed230ac644ef8b15ae0881">_desired_speed</a> = 0.0f;</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>        <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>    }</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span> </div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>    <span class="comment">// clear stopped system time</span></div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#afaa6de18cd8dfa0df1807d909eedd2c9">_stop_last_ms</a> = 0;</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>    <span class="comment">// run speed controller to bring vehicle to stop</span></div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classAR__AttitudeControl.html#a9aab31d9702c59bf0cd5dbfc8db2fc6b">get_throttle_out_speed</a>(desired_speed_limited, motor_limit_low, motor_limit_high, cruise_speed, cruise_throttle, dt);</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>}</div>
</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span> </div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span><span class="comment">// balancebot pitch to throttle controller</span></div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span><span class="comment">// returns a throttle output from -1 to +1 given a desired pitch angle (in radians)</span></div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span><span class="comment">// pitch_max should be the user defined max pitch angle (in radians)</span></div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span><span class="comment">// motor_limit should be true if the motors have hit their upper or lower limit</span></div>
<div class="foldopen" id="foldopen00862" data-start="{" data-end="}">
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#a53ebd2d17f5216092b078d0eb22dfbcc">  862</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAR__AttitudeControl.html#a53ebd2d17f5216092b078d0eb22dfbcc">AR_AttitudeControl::get_throttle_out_from_pitch</a>(<span class="keywordtype">float</span> desired_pitch, <span class="keywordtype">float</span> pitch_max, <span class="keywordtype">bool</span> motor_limit, <span class="keywordtype">float</span> dt)</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>{</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>    <span class="comment">// sanity check dt</span></div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>    dt = <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(dt, 0.0f, 1.0f);</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span> </div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>    <span class="comment">// if not called recently, reset input filter</span></div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>    <span class="keyword">const</span> uint32_t now = <a class="code hl_function" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classAR__AttitudeControl.html#a2b29dcb537eeb9b20c65253ea2a56147">_balance_last_ms</a> == 0) || ((now - <a class="code hl_variable" href="classAR__AttitudeControl.html#a2b29dcb537eeb9b20c65253ea2a56147">_balance_last_ms</a>) &gt; <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#a6f4d7da53a5d9d11ebc640300274f28f">AR_ATTCONTROL_TIMEOUT_MS</a>)) {</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#ac8cbc76940f23f9e8873cff7a883a7d0">_pitch_to_throttle_pid</a>.<a class="code hl_function" href="classAC__PID.html#a2fd30f6413ff1b18c387542450e15bb3">reset_filter</a>();</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#ac8cbc76940f23f9e8873cff7a883a7d0">_pitch_to_throttle_pid</a>.<a class="code hl_function" href="classAC__PID.html#aeee26e2bec3de02355b307b2b40ddbaa">reset_I</a>();</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#a16a94045bc81958a50a7f7b04fa79571">_pitch_limit_low</a> = -pitch_max;</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#a79756d13f930225e9d94be7cd6a10a74">_pitch_limit_high</a> = pitch_max;</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>    }</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#a2b29dcb537eeb9b20c65253ea2a56147">_balance_last_ms</a> = now;</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span> </div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>    <span class="comment">// limit desired pitch to protect against falling</span></div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> pitch_limit_active = (<a class="code hl_variable" href="classAR__AttitudeControl.html#a003fdc718bedbb02d9e2f04b2e8d2009">_pitch_limit_tc</a> &gt;= 0.01) &amp;&amp; (<a class="code hl_variable" href="classAR__AttitudeControl.html#a6c7f2e87870637a34af2f8c5efd8d0a5">_pitch_limit_throttle_thresh</a> &gt; 0);</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>    <span class="keywordflow">if</span> (pitch_limit_active) {</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>        desired_pitch = <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(desired_pitch, <a class="code hl_variable" href="classAR__AttitudeControl.html#a16a94045bc81958a50a7f7b04fa79571">_pitch_limit_low</a>, <a class="code hl_variable" href="classAR__AttitudeControl.html#a79756d13f930225e9d94be7cd6a10a74">_pitch_limit_high</a>);</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#a31949c50cba5cadf9c2964ec13b8f5f7">_pitch_limited</a> = (desired_pitch &lt;= _pitch_limit_low || desired_pitch &gt;= <a class="code hl_variable" href="classAR__AttitudeControl.html#a79756d13f930225e9d94be7cd6a10a74">_pitch_limit_high</a>);</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#a31949c50cba5cadf9c2964ec13b8f5f7">_pitch_limited</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>    }</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span> </div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>    <span class="comment">// initialise output to feed forward from current pitch angle</span></div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> pitch_rad = <a class="code hl_function" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>().<a class="code hl_function" href="classAP__AHRS.html#a992a48fcef2892301f1a41b795d2e8c2">get_pitch</a>();</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="luac_8c.html#a5a832fe6e2412dfabb93a2adae30e745">output</a> = sinf(pitch_rad) * <a class="code hl_variable" href="classAR__AttitudeControl.html#a1f41a4d7a7a2f6164fdf9c453dd7f78f">_pitch_to_throttle_ff</a>;</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span> </div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>    <span class="comment">// add regular PID control</span></div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>    <a class="code hl_variable" href="luac_8c.html#a5a832fe6e2412dfabb93a2adae30e745">output</a> += <a class="code hl_variable" href="classAR__AttitudeControl.html#ac8cbc76940f23f9e8873cff7a883a7d0">_pitch_to_throttle_pid</a>.<a class="code hl_function" href="classAC__PID.html#ad590012ddb8fa4ec372a82c61c5a2dde">update_all</a>(desired_pitch, pitch_rad, dt, motor_limit);</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>    <a class="code hl_variable" href="luac_8c.html#a5a832fe6e2412dfabb93a2adae30e745">output</a> += <a class="code hl_variable" href="classAR__AttitudeControl.html#ac8cbc76940f23f9e8873cff7a883a7d0">_pitch_to_throttle_pid</a>.<a class="code hl_function" href="classAC__PID.html#ad78d03d125980bae0d247e9db48b7460">get_ff</a>();</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span> </div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>    <span class="comment">// update pitch limits for next iteration</span></div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>    <span class="comment">// note: pitch is positive when leaning backwards, negative when leaning forward</span></div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>    <span class="keywordflow">if</span> (pitch_limit_active) {</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> pitch_limit_incr = 1.0/<a class="code hl_variable" href="classAR__AttitudeControl.html#a003fdc718bedbb02d9e2f04b2e8d2009">_pitch_limit_tc</a> * dt * pitch_max;</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> pitch_relax_incr = pitch_limit_incr * <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#af53e56eaad0e780a9261d2191298d9a1">AR_ATTCONTROL_PITCH_RELAX_RATIO</a>;</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="luac_8c.html#a5a832fe6e2412dfabb93a2adae30e745">output</a> &lt;= -<a class="code hl_variable" href="classAR__AttitudeControl.html#a6c7f2e87870637a34af2f8c5efd8d0a5">_pitch_limit_throttle_thresh</a>) {</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>            <span class="comment">// very low negative throttle output means we must lower pitch_high (e.g. reduce leaning backwards)</span></div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>            <a class="code hl_variable" href="classAR__AttitudeControl.html#a79756d13f930225e9d94be7cd6a10a74">_pitch_limit_high</a> = <a class="code hl_define" href="monocypher_8cpp.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(<a class="code hl_variable" href="classAR__AttitudeControl.html#a79756d13f930225e9d94be7cd6a10a74">_pitch_limit_high</a> - pitch_limit_incr, 0);</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>            <a class="code hl_variable" href="classAR__AttitudeControl.html#a79756d13f930225e9d94be7cd6a10a74">_pitch_limit_high</a> = <a class="code hl_define" href="monocypher_8cpp.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a>(<a class="code hl_variable" href="classAR__AttitudeControl.html#a79756d13f930225e9d94be7cd6a10a74">_pitch_limit_high</a> + pitch_relax_incr, pitch_max);</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>        }</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="luac_8c.html#a5a832fe6e2412dfabb93a2adae30e745">output</a> &gt;= <a class="code hl_variable" href="classAR__AttitudeControl.html#a6c7f2e87870637a34af2f8c5efd8d0a5">_pitch_limit_throttle_thresh</a>) {</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>            <span class="comment">// very high positive throttle output means we must raise pitch_low (reduce leaning forwards)</span></div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>            <a class="code hl_variable" href="classAR__AttitudeControl.html#a16a94045bc81958a50a7f7b04fa79571">_pitch_limit_low</a> = <a class="code hl_define" href="monocypher_8cpp.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a>(<a class="code hl_variable" href="classAR__AttitudeControl.html#a16a94045bc81958a50a7f7b04fa79571">_pitch_limit_low</a> + pitch_limit_incr, 0);</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>            <a class="code hl_variable" href="classAR__AttitudeControl.html#a16a94045bc81958a50a7f7b04fa79571">_pitch_limit_low</a> = <a class="code hl_define" href="monocypher_8cpp.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(<a class="code hl_variable" href="classAR__AttitudeControl.html#a16a94045bc81958a50a7f7b04fa79571">_pitch_limit_low</a> - pitch_relax_incr, -pitch_max);</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>        }</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>    }</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span> </div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>    <span class="comment">// constrain and return final output</span></div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="luac_8c.html#a5a832fe6e2412dfabb93a2adae30e745">output</a>;</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>}</div>
</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span> </div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span><span class="comment">// get latest desired pitch in radians for reporting purposes</span></div>
<div class="foldopen" id="foldopen00918" data-start="{" data-end="}">
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#a2084694eb9a99628d13587ad4e1b0189">  918</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAR__AttitudeControl.html#a2084694eb9a99628d13587ad4e1b0189">AR_AttitudeControl::get_desired_pitch</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>    <span class="comment">// if not called recently, return 0</span></div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classAR__AttitudeControl.html#a2b29dcb537eeb9b20c65253ea2a56147">_balance_last_ms</a> == 0) || ((<a class="code hl_function" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>() - <a class="code hl_variable" href="classAR__AttitudeControl.html#a2b29dcb537eeb9b20c65253ea2a56147">_balance_last_ms</a>) &gt; <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#a6f4d7da53a5d9d11ebc640300274f28f">AR_ATTCONTROL_TIMEOUT_MS</a>)) {</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>        <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>    }</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span> </div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classAR__AttitudeControl.html#ac8cbc76940f23f9e8873cff7a883a7d0">_pitch_to_throttle_pid</a>.<a class="code hl_function" href="classAC__PID.html#a1989f50e30d9e5ada0ca95783fc28d2d">get_pid_info</a>().<a class="code hl_variable" href="structAP__PIDInfo.html#a980fa483168dc010d3d1aae3f4fd542c">target</a>;</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>}</div>
</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span> </div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span><span class="comment">// Sailboat heel(roll) angle controller releases sail to keep at maximum heel angle</span></div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span><span class="comment">// but does not attempt to reach maximum heel angle, ie only lets sails out, does not pull them in</span></div>
<div class="foldopen" id="foldopen00930" data-start="{" data-end="}">
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#a641d4c472cc0dbe3745e600a5dd2d201">  930</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAR__AttitudeControl.html#a641d4c472cc0dbe3745e600a5dd2d201">AR_AttitudeControl::get_sail_out_from_heel</a>(<span class="keywordtype">float</span> desired_heel, <span class="keywordtype">float</span> dt)</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>{</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>    <span class="comment">// sanity check dt</span></div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>    dt = <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(dt, 0.0f, 1.0f);</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span> </div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>    <span class="comment">// if not called recently, reset input filter</span></div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>    <span class="keyword">const</span> uint32_t now = <a class="code hl_function" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classAR__AttitudeControl.html#aaf1fe6b234ca9727770536b359738f3c">_heel_controller_last_ms</a> == 0) || ((now - <a class="code hl_variable" href="classAR__AttitudeControl.html#aaf1fe6b234ca9727770536b359738f3c">_heel_controller_last_ms</a>) &gt; <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#a6f4d7da53a5d9d11ebc640300274f28f">AR_ATTCONTROL_TIMEOUT_MS</a>)) {</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#ac17fbb2fef2d2be346fb1c80b07dcfa4">_sailboat_heel_pid</a>.<a class="code hl_function" href="classAC__PID.html#a2fd30f6413ff1b18c387542450e15bb3">reset_filter</a>();</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#ac17fbb2fef2d2be346fb1c80b07dcfa4">_sailboat_heel_pid</a>.<a class="code hl_function" href="classAC__PID.html#aeee26e2bec3de02355b307b2b40ddbaa">reset_I</a>();</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>    }</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#aaf1fe6b234ca9727770536b359738f3c">_heel_controller_last_ms</a> = now;</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span> </div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#ac17fbb2fef2d2be346fb1c80b07dcfa4">_sailboat_heel_pid</a>.<a class="code hl_function" href="classAC__PID.html#ad590012ddb8fa4ec372a82c61c5a2dde">update_all</a>(desired_heel, fabsf(<a class="code hl_function" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>().get_roll()), dt);</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span> </div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>    <span class="comment">// get feed-forward</span></div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> ff = <a class="code hl_variable" href="classAR__AttitudeControl.html#ac17fbb2fef2d2be346fb1c80b07dcfa4">_sailboat_heel_pid</a>.<a class="code hl_function" href="classAC__PID.html#ad78d03d125980bae0d247e9db48b7460">get_ff</a>();</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span> </div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>    <span class="comment">// get p, constrain to be zero or negative</span></div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>    <span class="keywordtype">float</span> p = <a class="code hl_variable" href="classAR__AttitudeControl.html#ac17fbb2fef2d2be346fb1c80b07dcfa4">_sailboat_heel_pid</a>.<a class="code hl_function" href="classAC__PID.html#a79324d6af91b6fbe7d4203585d254bf3">get_p</a>();</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(p)) {</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>        p = 0.0f;</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>    }</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span> </div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>    <span class="comment">// get i, constrain to be zero or negative</span></div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>    <span class="keywordtype">float</span> i = <a class="code hl_variable" href="classAR__AttitudeControl.html#ac17fbb2fef2d2be346fb1c80b07dcfa4">_sailboat_heel_pid</a>.<a class="code hl_function" href="classAC__PID.html#adb06fb6b336effbfc8b087ae0d8187bc">get_i</a>();</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(i)) {</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>        i = 0.0f;</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>        <a class="code hl_variable" href="classAR__AttitudeControl.html#ac17fbb2fef2d2be346fb1c80b07dcfa4">_sailboat_heel_pid</a>.<a class="code hl_function" href="classAC__PID.html#aeee26e2bec3de02355b307b2b40ddbaa">reset_I</a>();</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>    }</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span> </div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>    <span class="comment">// get d</span></div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="monocypher_8cpp.html#a0974daefcc79bbbd354f3a30f3150dba">d</a> = <a class="code hl_variable" href="classAR__AttitudeControl.html#ac17fbb2fef2d2be346fb1c80b07dcfa4">_sailboat_heel_pid</a>.<a class="code hl_function" href="classAC__PID.html#a95fe2f5a70546d48d3f237c5cf29b0b6">get_d</a>();</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span> </div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>    <span class="comment">// constrain and return final output</span></div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>    <span class="keywordflow">return</span> (ff + p + i + <a class="code hl_variable" href="monocypher_8cpp.html#a0974daefcc79bbbd354f3a30f3150dba">d</a>) * -1.0f;</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>}</div>
</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span> </div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span><span class="comment">// get the slew rate value for speed and steering for oscillation detection in lua scripts</span></div>
<div class="foldopen" id="foldopen00969" data-start="{" data-end="}">
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#a4e5bcb6c0427cb7853b87c7e8ee82d91">  969</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAR__AttitudeControl.html#a4e5bcb6c0427cb7853b87c7e8ee82d91">AR_AttitudeControl::get_srate</a>(<span class="keywordtype">float</span> &amp;steering_srate, <span class="keywordtype">float</span> &amp;speed_srate)</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>{</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>    steering_srate = <a class="code hl_function" href="classAR__AttitudeControl.html#a8e4b4d59b62d36e11653abb6973bbbbf">get_steering_rate_pid</a>().<a class="code hl_function" href="classAC__PID.html#a1989f50e30d9e5ada0ca95783fc28d2d">get_pid_info</a>().<a class="code hl_variable" href="structAP__PIDInfo.html#a9f6d290eb44e636efc029b391287d346">slew_rate</a>;</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>    speed_srate = <a class="code hl_variable" href="classAR__AttitudeControl.html#a1d86cdb1ef9e295620b2142f3f49a1de">_throttle_speed_pid_info</a>.<a class="code hl_variable" href="structAP__PIDInfo.html#a9f6d290eb44e636efc029b391287d346">slew_rate</a>;</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>}</div>
</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span> </div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span><span class="comment">// get forward speed in m/s (earth-frame horizontal velocity but only along vehicle x-axis).  returns true on success</span></div>
<div class="foldopen" id="foldopen00976" data-start="{" data-end="}">
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#a329178791a21e75f4bb6a3336cd2fea3">  976</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAR__AttitudeControl.html#a329178791a21e75f4bb6a3336cd2fea3">AR_AttitudeControl::get_forward_speed</a>(<span class="keywordtype">float</span> &amp;speed)<span class="keyword"> const</span></div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>    <a class="code hl_class" href="classVector3.html">Vector3f</a> velocity;</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>    <span class="keyword">const</span> <a class="code hl_class" href="classAP__AHRS.html">AP_AHRS</a> &amp;_ahrs = <a class="code hl_function" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>();</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>    <span class="keywordflow">if</span> (!_ahrs.<a class="code hl_function" href="classAP__AHRS.html#a2bf7783e49e2237685ac740055a20866">get_velocity_NED</a>(velocity)) {</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>        <span class="comment">// use less accurate GPS, assuming entire length is along forward/back axis of vehicle</span></div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceAP.html#ae6eeec356455220f913e47e323057cd5">AP::gps</a>().<a class="code hl_variable" href="routing_8cpp.html#acdef7b92239f1e607ef6caa33a16d2ed">status</a>() &gt;= <a class="code hl_enumvalue" href="classAP__GPS.html#a7409121ce557236dce2fd541309af5fca3ea1cd30c63cf65db4a124bcd4b9fbdb">AP_GPS::GPS_OK_FIX_3D</a>) {</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>            <span class="keywordflow">if</span> (abs(<a class="code hl_function" href="AP__Math_8cpp.html#a49de5d20e28222d3d8ac555a0a0a017d">wrap_180_cd</a>(_ahrs.<a class="code hl_variable" href="classAP__AHRS.html#a8a160130dd99016a19abab9d85917261">yaw_sensor</a> - <a class="code hl_function" href="namespaceAP.html#ae6eeec356455220f913e47e323057cd5">AP::gps</a>().<a class="code hl_function" href="classAP__GPS.html#ae4e07a8489e0a7dcb1acbea52c687c0e">ground_course_cd</a>())) &lt;= 9000) {</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>                speed = <a class="code hl_function" href="namespaceAP.html#ae6eeec356455220f913e47e323057cd5">AP::gps</a>().<a class="code hl_function" href="classAP__GPS.html#ae7f097588dd863d4624f6fec1509e0e6">ground_speed</a>();</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>                speed = -<a class="code hl_function" href="namespaceAP.html#ae6eeec356455220f913e47e323057cd5">AP::gps</a>().<a class="code hl_function" href="classAP__GPS.html#ae7f097588dd863d4624f6fec1509e0e6">ground_speed</a>();</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>            }</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>        }</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>    }</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>    <span class="comment">// calculate forward speed velocity into body frame</span></div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>    speed = velocity.<a class="code hl_variable" href="classVector3.html#a1a0f7e168c71ca798099f0ba8a444244">x</a>*_ahrs.<a class="code hl_function" href="classAP__AHRS.html#a148f6eb0063fd0e99f11c0f4d047a3c7">cos_yaw</a>() + velocity.<a class="code hl_variable" href="classVector3.html#a561df88b28e106e337a25bb86554a569">y</a>*_ahrs.<a class="code hl_function" href="classAP__AHRS.html#ac02845bd9663dcb4507ed975b3f0aad9">sin_yaw</a>();</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>}</div>
</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span> </div>
<div class="foldopen" id="foldopen00998" data-start="{" data-end="}">
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#ae5fecdcdc7f6abe5a176c0d8d2400732">  998</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAR__AttitudeControl.html#ae5fecdcdc7f6abe5a176c0d8d2400732">AR_AttitudeControl::get_decel_max</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAR__AttitudeControl.html#a1fea0c41bbf2530839cffb68b66fe80d">_throttle_decel_max</a>)) {</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classAR__AttitudeControl.html#a1fea0c41bbf2530839cffb68b66fe80d">_throttle_decel_max</a>;</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classAR__AttitudeControl.html#a33fb4a085f62463f0a9b1e2aede2d2af">_throttle_accel_max</a>;</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>    }</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>}</div>
</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span> </div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span><span class="comment">// check if speed controller active</span></div>
<div class="foldopen" id="foldopen01008" data-start="{" data-end="}">
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#accb55294272ddcfbc002c4c0d71070fd"> 1008</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAR__AttitudeControl.html#accb55294272ddcfbc002c4c0d71070fd">AR_AttitudeControl::speed_control_active</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>    <span class="comment">// active if there have been recent calls to speed controller</span></div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classAR__AttitudeControl.html#a2a6e553e2687d21e05a33394c55db2cb">_speed_last_ms</a> == 0) || ((<a class="code hl_function" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>() - <a class="code hl_variable" href="classAR__AttitudeControl.html#a2a6e553e2687d21e05a33394c55db2cb">_speed_last_ms</a>) &gt; <a class="code hl_define" href="AR__AttitudeControl_8cpp.html#a6f4d7da53a5d9d11ebc640300274f28f">AR_ATTCONTROL_TIMEOUT_MS</a>)) {</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>    }</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>}</div>
</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span> </div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span><span class="comment">// get latest desired speed recorded during call to get_throttle_out_speed.  For reporting purposes only</span></div>
<div class="foldopen" id="foldopen01018" data-start="{" data-end="}">
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#a42dda53e7eed36665b618c4e1a6bc332"> 1018</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAR__AttitudeControl.html#a42dda53e7eed36665b618c4e1a6bc332">AR_AttitudeControl::get_desired_speed</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>    <span class="comment">// return zero if no recent calls to speed controller</span></div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAR__AttitudeControl.html#accb55294272ddcfbc002c4c0d71070fd">speed_control_active</a>()) {</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>        <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>    }</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classAR__AttitudeControl.html#a923c453631ed230ac644ef8b15ae0881">_desired_speed</a>;</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>}</div>
</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span> </div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span><span class="comment">// get acceleration limited desired speed</span></div>
<div class="foldopen" id="foldopen01028" data-start="{" data-end="}">
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#afc29228fde53e3229643ffe0108da06a"> 1028</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAR__AttitudeControl.html#afc29228fde53e3229643ffe0108da06a">AR_AttitudeControl::get_desired_speed_accel_limited</a>(<span class="keywordtype">float</span> desired_speed, <span class="keywordtype">float</span> dt)<span class="keyword"> const</span></div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>    <span class="comment">// return input value if no recent calls to speed controller</span></div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>    <span class="comment">// apply no limiting when ATC_ACCEL_MAX is set to zero</span></div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAR__AttitudeControl.html#accb55294272ddcfbc002c4c0d71070fd">speed_control_active</a>() || !<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAR__AttitudeControl.html#a33fb4a085f62463f0a9b1e2aede2d2af">_throttle_accel_max</a>)) {</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>        <span class="keywordflow">return</span> desired_speed;</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>    }</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span> </div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>    <span class="comment">// sanity check dt</span></div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>    dt = <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(dt, 0.0f, 1.0f);</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span> </div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>    <span class="comment">// use previous desired speed as basis for accel limiting</span></div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>    <span class="keywordtype">float</span> speed_prev = <a class="code hl_variable" href="classAR__AttitudeControl.html#a923c453631ed230ac644ef8b15ae0881">_desired_speed</a>;</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span> </div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>    <span class="comment">// if no recent calls to speed controller limit based on current speed</span></div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAR__AttitudeControl.html#accb55294272ddcfbc002c4c0d71070fd">speed_control_active</a>()) {</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>        <a class="code hl_function" href="classAR__AttitudeControl.html#a329178791a21e75f4bb6a3336cd2fea3">get_forward_speed</a>(speed_prev);</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>    }</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span> </div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>    <span class="comment">// acceleration limit desired speed</span></div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>    <span class="keywordtype">float</span> speed_change_max;</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>    <span class="keywordflow">if</span> (fabsf(desired_speed) &lt; fabsf(<a class="code hl_variable" href="classAR__AttitudeControl.html#a923c453631ed230ac644ef8b15ae0881">_desired_speed</a>) &amp;&amp; <a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAR__AttitudeControl.html#a1fea0c41bbf2530839cffb68b66fe80d">_throttle_decel_max</a>)) {</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>        speed_change_max = <a class="code hl_variable" href="classAR__AttitudeControl.html#a1fea0c41bbf2530839cffb68b66fe80d">_throttle_decel_max</a> * dt;</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>        speed_change_max = <a class="code hl_variable" href="classAR__AttitudeControl.html#a33fb4a085f62463f0a9b1e2aede2d2af">_throttle_accel_max</a> * dt;</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>    }</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(desired_speed, speed_prev - speed_change_max, speed_prev + speed_change_max);</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>}</div>
</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span> </div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span><span class="comment">// get minimum stopping distance (in meters) given a speed (in m/s)</span></div>
<div class="foldopen" id="foldopen01058" data-start="{" data-end="}">
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#aebfc6e8133a8b9b404f83792759e7ec5"> 1058</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAR__AttitudeControl.html#aebfc6e8133a8b9b404f83792759e7ec5">AR_AttitudeControl::get_stopping_distance</a>(<span class="keywordtype">float</span> speed)<span class="keyword"> const</span></div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>    <span class="comment">// get maximum vehicle deceleration</span></div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> accel_max = <a class="code hl_function" href="classAR__AttitudeControl.html#a0cd7ea0cbd98814814cd3fd3d487691d">get_accel_max</a>();</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span> </div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>    <span class="comment">// avoid divide by zero</span></div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>    <span class="keywordflow">if</span> ((accel_max &lt;= 0.0f) || <a class="code hl_function" href="AP__Math_8h.html#a2a12cce483e9b870da70d30406d82c60">is_zero</a>(speed)) {</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>        <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>    }</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span> </div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>    <span class="comment">// assume linear deceleration</span></div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>    <span class="keywordflow">return</span> 0.5f * <a class="code hl_function" href="AP__Math_8h.html#a34f41fcf2bc527b1728ae04423dfba46">sq</a>(speed) / accel_max;</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>}</div>
</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span> </div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span><span class="comment">// relax I terms of throttle and steering controllers</span></div>
<div class="foldopen" id="foldopen01073" data-start="{" data-end="}">
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#aaac29697a7cb972148d8944f3bc7074c"> 1073</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAR__AttitudeControl.html#aaac29697a7cb972148d8944f3bc7074c">AR_AttitudeControl::relax_I</a>()</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>{</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#a11e49e3d7d6139690c11e7420b2bd3b8">_steer_rate_pid</a>.<a class="code hl_function" href="classAC__PID.html#aeee26e2bec3de02355b307b2b40ddbaa">reset_I</a>();</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#a37c35304454538e3bc1de460133f41a5">_throttle_speed_pid</a>.<a class="code hl_function" href="classAC__PID.html#aeee26e2bec3de02355b307b2b40ddbaa">reset_I</a>();</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#ac8cbc76940f23f9e8873cff7a883a7d0">_pitch_to_throttle_pid</a>.<a class="code hl_function" href="classAC__PID.html#aeee26e2bec3de02355b307b2b40ddbaa">reset_I</a>();</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>}</div>
</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span> </div>
<div class="foldopen" id="foldopen01080" data-start="{" data-end="}">
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"><a class="line" href="classAR__AttitudeControl.html#ae67d52b83798b0267ad277057d46d220"> 1080</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAR__AttitudeControl.html#ae67d52b83798b0267ad277057d46d220">AR_AttitudeControl::set_notch_sample_rate</a>(<span class="keywordtype">float</span> sample_rate)</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>{</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span><span class="preprocessor">#if AP_FILTER_ENABLED</span></div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#a11e49e3d7d6139690c11e7420b2bd3b8">_steer_rate_pid</a>.<a class="code hl_function" href="classAC__PID.html#a77cbf62727e99b2a5b642bdaf6def9ca">set_notch_sample_rate</a>(sample_rate);</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#a37c35304454538e3bc1de460133f41a5">_throttle_speed_pid</a>.<a class="code hl_function" href="classAC__PID.html#a77cbf62727e99b2a5b642bdaf6def9ca">set_notch_sample_rate</a>(sample_rate);</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>    <a class="code hl_variable" href="classAR__AttitudeControl.html#ac8cbc76940f23f9e8873cff7a883a7d0">_pitch_to_throttle_pid</a>.<a class="code hl_function" href="classAC__PID.html#a77cbf62727e99b2a5b642bdaf6def9ca">set_notch_sample_rate</a>(sample_rate);</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>}</div>
</div>
<div class="ttc" id="aAP__AHRS_8h_html"><div class="ttname"><a href="AP__AHRS_8h.html">AP_AHRS.h</a></div></div>
<div class="ttc" id="aAP__GPS_8h_html"><div class="ttname"><a href="AP__GPS_8h.html">AP_GPS.h</a></div></div>
<div class="ttc" id="aAP__HAL_8h_html"><div class="ttname"><a href="AP__HAL_8h.html">AP_HAL.h</a></div></div>
<div class="ttc" id="aAP__Math_8cpp_html_a49de5d20e28222d3d8ac555a0a0a017d"><div class="ttname"><a href="AP__Math_8cpp.html#a49de5d20e28222d3d8ac555a0a0a017d">wrap_180_cd</a></div><div class="ttdeci">T wrap_180_cd(const T angle)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8cpp_source.html#l00157">AP_Math.cpp:157</a></div></div>
<div class="ttc" id="aAP__Math_8cpp_html_ac89eb1832d8e4d67fcf1ac07e3c25184"><div class="ttname"><a href="AP__Math_8cpp.html#ac89eb1832d8e4d67fcf1ac07e3c25184">safe_sqrt</a></div><div class="ttdeci">float safe_sqrt(const T v)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8cpp_source.html#l00071">AP_Math.cpp:71</a></div></div>
<div class="ttc" id="aAP__Math_8cpp_html_ae77517d032abb1e1b525d2b43ff9a27d"><div class="ttname"><a href="AP__Math_8cpp.html#ae77517d032abb1e1b525d2b43ff9a27d">wrap_PI</a></div><div class="ttdeci">ftype wrap_PI(const ftype radian)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8cpp_source.html#l00248">AP_Math.cpp:248</a></div></div>
<div class="ttc" id="aAP__Math_8h_html"><div class="ttname"><a href="AP__Math_8h.html">AP_Math.h</a></div></div>
<div class="ttc" id="aAP__Math_8h_html_a2a12cce483e9b870da70d30406d82c60"><div class="ttname"><a href="AP__Math_8h.html#a2a12cce483e9b870da70d30406d82c60">is_zero</a></div><div class="ttdeci">bool is_zero(const T fVal1)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00053">AP_Math.h:53</a></div></div>
<div class="ttc" id="aAP__Math_8h_html_a34f41fcf2bc527b1728ae04423dfba46"><div class="ttname"><a href="AP__Math_8h.html#a34f41fcf2bc527b1728ae04423dfba46">sq</a></div><div class="ttdeci">ftype sq(const T val)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00225">AP_Math.h:225</a></div></div>
<div class="ttc" id="aAP__Math_8h_html_a49ad7fa2fa2e3d8aa75e8e0ec3f83b99"><div class="ttname"><a href="AP__Math_8h.html#a49ad7fa2fa2e3d8aa75e8e0ec3f83b99">radians</a></div><div class="ttdeci">static constexpr ftype radians(ftype deg)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00213">AP_Math.h:213</a></div></div>
<div class="ttc" id="aAP__Math_8h_html_a4e3ae698e8f99cec214348ad233e3c41"><div class="ttname"><a href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a></div><div class="ttdeci">bool is_positive(const T fVal1)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00063">AP_Math.h:63</a></div></div>
<div class="ttc" id="aAP__Math_8h_html_a5256308fd38a7098b8f95607aa56888f"><div class="ttname"><a href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a></div><div class="ttdeci">#define constrain_float(amt, low, high)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00174">AP_Math.h:174</a></div></div>
<div class="ttc" id="aAP__Math_8h_html_a8b6f71a42818d74fd8bfe348108942fa"><div class="ttname"><a href="AP__Math_8h.html#a8b6f71a42818d74fd8bfe348108942fa">is_negative</a></div><div class="ttdeci">bool is_negative(const T fVal1)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00074">AP_Math.h:74</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a0f9acb038a5283b964b862aea8cc5051"><div class="ttname"><a href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div><div class="ttdeci">#define AP_GROUPEND</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00163">AP_Param.h:163</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a16c360358c5d6a08d34f60921fd916a9"><div class="ttname"><a href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a></div><div class="ttdeci">#define AP_SUBGROUPINFO(element, name, idx, thisclazz, elclazz)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00152">AP_Param.h:152</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a78a408c84f2a1bafde256ac650142e4d"><div class="ttname"><a href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a></div><div class="ttdeci">#define AP_GROUPINFO(name, idx, clazz, element, def)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00145">AP_Param.h:145</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_a06b984b4168a27d502bef534f7fccee1"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#a06b984b4168a27d502bef534f7fccee1">AR_ATTCONTROL_STEER_RATE_FF</a></div><div class="ttdeci">#define AR_ATTCONTROL_STEER_RATE_FF</div><div class="ttdef"><b>Definition</b> <a href="#l00024">AR_AttitudeControl.cpp:24</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_a177824d29e1513a6276a3af33dba1d32"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#a177824d29e1513a6276a3af33dba1d32">AR_ATTCONTROL_STEER_RATE_IMAX</a></div><div class="ttdeci">#define AR_ATTCONTROL_STEER_RATE_IMAX</div><div class="ttdef"><b>Definition</b> <a href="#l00027">AR_AttitudeControl.cpp:27</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_a1f32d22a215d8a647213efb41b60e793"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#a1f32d22a215d8a647213efb41b60e793">AR_ATTCONTROL_HEEL_SAIL_IMAX</a></div><div class="ttdeci">#define AR_ATTCONTROL_HEEL_SAIL_IMAX</div><div class="ttdef"><b>Definition</b> <a href="#l00051">AR_AttitudeControl.cpp:51</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_a23ad7b36d998f13a9421c19722fbb2b7"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#a23ad7b36d998f13a9421c19722fbb2b7">AR_ATTCONTROL_HEEL_SAIL_P</a></div><div class="ttdeci">#define AR_ATTCONTROL_HEEL_SAIL_P</div><div class="ttdef"><b>Definition</b> <a href="#l00048">AR_AttitudeControl.cpp:48</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_a2f5869540efb0b76edba3f0c2b9050a6"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#a2f5869540efb0b76edba3f0c2b9050a6">AR_ATTCONTROL_THR_SPEED_FILT</a></div><div class="ttdeci">#define AR_ATTCONTROL_THR_SPEED_FILT</div><div class="ttdef"><b>Definition</b> <a href="#l00036">AR_AttitudeControl.cpp:36</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_a36c572513d9bfc7c862c49dd01ee7657"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#a36c572513d9bfc7c862c49dd01ee7657">AR_ATTCONTROL_STEER_RATE_FILT</a></div><div class="ttdeci">#define AR_ATTCONTROL_STEER_RATE_FILT</div><div class="ttdef"><b>Definition</b> <a href="#l00029">AR_AttitudeControl.cpp:29</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_a4c97f965971b287b2dc1b34798655c3d"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#a4c97f965971b287b2dc1b34798655c3d">AR_ATTCONTROL_STEER_RATE_D</a></div><div class="ttdeci">#define AR_ATTCONTROL_STEER_RATE_D</div><div class="ttdef"><b>Definition</b> <a href="#l00028">AR_AttitudeControl.cpp:28</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_a6a831278d078fc863d82458b9b0c4aa1"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#a6a831278d078fc863d82458b9b0c4aa1">AR_ATTCONTROL_THR_SPEED_I</a></div><div class="ttdeci">#define AR_ATTCONTROL_THR_SPEED_I</div><div class="ttdef"><b>Definition</b> <a href="#l00033">AR_AttitudeControl.cpp:33</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_a6f4d7da53a5d9d11ebc640300274f28f"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#a6f4d7da53a5d9d11ebc640300274f28f">AR_ATTCONTROL_TIMEOUT_MS</a></div><div class="ttdeci">#define AR_ATTCONTROL_TIMEOUT_MS</div><div class="ttdef"><b>Definition</b> <a href="#l00047">AR_AttitudeControl.cpp:47</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_a78bde5e930c705c266f86cb1c09e88f4"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#a78bde5e930c705c266f86cb1c09e88f4">AR_ATTCONTROL_STEER_RATE_MAX</a></div><div class="ttdeci">#define AR_ATTCONTROL_STEER_RATE_MAX</div><div class="ttdef"><b>Definition</b> <a href="#l00030">AR_AttitudeControl.cpp:30</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_a8eafc100dd5881439393681299bed19a"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#a8eafc100dd5881439393681299bed19a">AR_ATTCONTROL_HEEL_SAIL_I</a></div><div class="ttdeci">#define AR_ATTCONTROL_HEEL_SAIL_I</div><div class="ttdef"><b>Definition</b> <a href="#l00049">AR_AttitudeControl.cpp:49</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_a9c3b0e2600421b7c16c43d08eb9d4408"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#a9c3b0e2600421b7c16c43d08eb9d4408">AR_ATTCONTROL_THR_ACCEL_MAX</a></div><div class="ttdeci">#define AR_ATTCONTROL_THR_ACCEL_MAX</div><div class="ttdef"><b>Definition</b> <a href="#l00056">AR_AttitudeControl.cpp:56</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_aa32cb57144ba7a46a5c620a6ca08522f"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#aa32cb57144ba7a46a5c620a6ca08522f">AR_ATTCONTROL_PITCH_THR_P</a></div><div class="ttdeci">#define AR_ATTCONTROL_PITCH_THR_P</div><div class="ttdef"><b>Definition</b> <a href="#l00037">AR_AttitudeControl.cpp:37</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_aa668f990226fadf08dfb1d6f7911fda4"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#aa668f990226fadf08dfb1d6f7911fda4">AR_ATTCONTROL_BAL_PITCH_FF</a></div><div class="ttdeci">#define AR_ATTCONTROL_BAL_PITCH_FF</div><div class="ttdef"><b>Definition</b> <a href="#l00042">AR_AttitudeControl.cpp:42</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_aa7cc0c4d422169f8495ab170c611f5ba"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#aa7cc0c4d422169f8495ab170c611f5ba">AR_ATTCONTROL_HEEL_SAIL_FILT</a></div><div class="ttdeci">#define AR_ATTCONTROL_HEEL_SAIL_FILT</div><div class="ttdef"><b>Definition</b> <a href="#l00052">AR_AttitudeControl.cpp:52</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_aab150bb7678a6b6cc45228a0d728bf29"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#aab150bb7678a6b6cc45228a0d728bf29">AR_ATTCONTROL_PITCH_THR_FILT</a></div><div class="ttdeci">#define AR_ATTCONTROL_PITCH_THR_FILT</div><div class="ttdef"><b>Definition</b> <a href="#l00041">AR_AttitudeControl.cpp:41</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_ab135f19a6003a571d5b7c1837e0602b2"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#ab135f19a6003a571d5b7c1837e0602b2">AR_ATTCONTROL_STEER_ANG_P</a></div><div class="ttdeci">#define AR_ATTCONTROL_STEER_ANG_P</div><div class="ttdef"><b>Definition</b> <a href="#l00023">AR_AttitudeControl.cpp:23</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_abd34ed589e97ab065eae51f394733108"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#abd34ed589e97ab065eae51f394733108">AR_ATTCONTROL_HEEL_SAIL_D</a></div><div class="ttdeci">#define AR_ATTCONTROL_HEEL_SAIL_D</div><div class="ttdef"><b>Definition</b> <a href="#l00050">AR_AttitudeControl.cpp:50</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_ac051d217917b91f59abeec1d378e6b0a"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#ac051d217917b91f59abeec1d378e6b0a">AR_ATTCONTROL_STEER_RATE_I</a></div><div class="ttdeci">#define AR_ATTCONTROL_STEER_RATE_I</div><div class="ttdef"><b>Definition</b> <a href="#l00026">AR_AttitudeControl.cpp:26</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_ac097b44c0d92cc7f415f2ed83405bd7d"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#ac097b44c0d92cc7f415f2ed83405bd7d">AR_ATTCONTROL_THR_SPEED_IMAX</a></div><div class="ttdeci">#define AR_ATTCONTROL_THR_SPEED_IMAX</div><div class="ttdef"><b>Definition</b> <a href="#l00034">AR_AttitudeControl.cpp:34</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_ac3f5a27d23cdd8222aa87c1891f8c072"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#ac3f5a27d23cdd8222aa87c1891f8c072">AR_ATTCONTROL_STEER_SPEED_MIN</a></div><div class="ttdeci">#define AR_ATTCONTROL_STEER_SPEED_MIN</div><div class="ttdef"><b>Definition</b> <a href="#l00059">AR_AttitudeControl.cpp:59</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_ac8b8402ac8b38ba1ba0a381669b1cc4e"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#ac8b8402ac8b38ba1ba0a381669b1cc4e">AR_ATTCONTROL_STEER_ACCEL_MAX</a></div><div class="ttdeci">#define AR_ATTCONTROL_STEER_ACCEL_MAX</div><div class="ttdef"><b>Definition</b> <a href="#l00031">AR_AttitudeControl.cpp:31</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_ad1df62d5eafe80a2a752fba1e2e382d7"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#ad1df62d5eafe80a2a752fba1e2e382d7">AR_ATTCONTROL_PITCH_THR_IMAX</a></div><div class="ttdeci">#define AR_ATTCONTROL_PITCH_THR_IMAX</div><div class="ttdef"><b>Definition</b> <a href="#l00040">AR_AttitudeControl.cpp:40</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_ad4a2906ba1e3e8d33810c022b19721ff"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#ad4a2906ba1e3e8d33810c022b19721ff">AR_ATTCONTROL_PITCH_LIM_TC</a></div><div class="ttdeci">#define AR_ATTCONTROL_PITCH_LIM_TC</div><div class="ttdef"><b>Definition</b> <a href="#l00043">AR_AttitudeControl.cpp:43</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_ad9e5930608c541a71756d228772ab8d0"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#ad9e5930608c541a71756d228772ab8d0">AR_ATTCONTROL_PITCH_THR_I</a></div><div class="ttdeci">#define AR_ATTCONTROL_PITCH_THR_I</div><div class="ttdef"><b>Definition</b> <a href="#l00038">AR_AttitudeControl.cpp:38</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_ae08c3ca4ba26b63cda0bb3e3c6c02785"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a></div><div class="ttdeci">const AP_HAL::HAL &amp; hal</div><div class="ttdef"><b>Definition</b> <a href="AC__PID__test_8cpp_source.html#l00021">AC_PID_test.cpp:21</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_ae294048323646375973af98e06a2ccc8"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#ae294048323646375973af98e06a2ccc8">AR_ATTCONTROL_THR_SPEED_D</a></div><div class="ttdeci">#define AR_ATTCONTROL_THR_SPEED_D</div><div class="ttdef"><b>Definition</b> <a href="#l00035">AR_AttitudeControl.cpp:35</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_ae7fa1997bcc6963cee6a612c832c3349"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#ae7fa1997bcc6963cee6a612c832c3349">AR_ATTCONTROL_THR_SPEED_P</a></div><div class="ttdeci">#define AR_ATTCONTROL_THR_SPEED_P</div><div class="ttdef"><b>Definition</b> <a href="#l00032">AR_AttitudeControl.cpp:32</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_ae949053db8c558a493de9eb6b0f1803d"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#ae949053db8c558a493de9eb6b0f1803d">AR_ATTCONTROL_STEER_RATE_P</a></div><div class="ttdeci">#define AR_ATTCONTROL_STEER_RATE_P</div><div class="ttdef"><b>Definition</b> <a href="#l00025">AR_AttitudeControl.cpp:25</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_aed30729a582f3914627f8630e30c3047"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#aed30729a582f3914627f8630e30c3047">AR_ATTCONTROL_PITCH_THR_D</a></div><div class="ttdeci">#define AR_ATTCONTROL_PITCH_THR_D</div><div class="ttdef"><b>Definition</b> <a href="#l00039">AR_AttitudeControl.cpp:39</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_af204fe784c907ce770f7b5ced2127810"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#af204fe784c907ce770f7b5ced2127810">AR_ATTCONTROL_PITCH_LIM_THR_THRESH</a></div><div class="ttdeci">#define AR_ATTCONTROL_PITCH_LIM_THR_THRESH</div><div class="ttdef"><b>Definition</b> <a href="#l00045">AR_AttitudeControl.cpp:45</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_af53e56eaad0e780a9261d2191298d9a1"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#af53e56eaad0e780a9261d2191298d9a1">AR_ATTCONTROL_PITCH_RELAX_RATIO</a></div><div class="ttdeci">#define AR_ATTCONTROL_PITCH_RELAX_RATIO</div><div class="ttdef"><b>Definition</b> <a href="#l00044">AR_AttitudeControl.cpp:44</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8cpp_html_af8d163adfd64718afb84186f25f41270"><div class="ttname"><a href="AR__AttitudeControl_8cpp.html#af8d163adfd64718afb84186f25f41270">AR_ATTCONTROL_STOP_SPEED_DEFAULT</a></div><div class="ttdeci">#define AR_ATTCONTROL_STOP_SPEED_DEFAULT</div><div class="ttdef"><b>Definition</b> <a href="#l00062">AR_AttitudeControl.cpp:62</a></div></div>
<div class="ttc" id="aAR__AttitudeControl_8h_html"><div class="ttname"><a href="AR__AttitudeControl_8h.html">AR_AttitudeControl.h</a></div></div>
<div class="ttc" id="aclassAC__PID_html"><div class="ttname"><a href="classAC__PID.html">AC_PID</a></div><div class="ttdoc">Copter PID control class.</div><div class="ttdef"><b>Definition</b> <a href="AC__PID_8h_source.html#l00023">AC_PID.h:23</a></div></div>
<div class="ttc" id="aclassAC__PID_html_a1989f50e30d9e5ada0ca95783fc28d2d"><div class="ttname"><a href="classAC__PID.html#a1989f50e30d9e5ada0ca95783fc28d2d">AC_PID::get_pid_info</a></div><div class="ttdeci">const AP_PIDInfo &amp; get_pid_info(void) const</div><div class="ttdef"><b>Definition</b> <a href="AC__PID_8h_source.html#l00146">AC_PID.h:146</a></div></div>
<div class="ttc" id="aclassAC__PID_html_a2fd30f6413ff1b18c387542450e15bb3"><div class="ttname"><a href="classAC__PID.html#a2fd30f6413ff1b18c387542450e15bb3">AC_PID::reset_filter</a></div><div class="ttdeci">void reset_filter()</div><div class="ttdef"><b>Definition</b> <a href="AC__PID_8h_source.html#l00085">AC_PID.h:85</a></div></div>
<div class="ttc" id="aclassAC__PID_html_a77cbf62727e99b2a5b642bdaf6def9ca"><div class="ttname"><a href="classAC__PID.html#a77cbf62727e99b2a5b642bdaf6def9ca">AC_PID::set_notch_sample_rate</a></div><div class="ttdeci">void set_notch_sample_rate(float)</div><div class="ttdef"><b>Definition</b> <a href="AC__PID_8cpp_source.html#l00156">AC_PID.cpp:156</a></div></div>
<div class="ttc" id="aclassAC__PID_html_a79324d6af91b6fbe7d4203585d254bf3"><div class="ttname"><a href="classAC__PID.html#a79324d6af91b6fbe7d4203585d254bf3">AC_PID::get_p</a></div><div class="ttdeci">float get_p() const</div><div class="ttdef"><b>Definition</b> <a href="AC__PID_8cpp_source.html#l00329">AC_PID.cpp:329</a></div></div>
<div class="ttc" id="aclassAC__PID_html_a95fe2f5a70546d48d3f237c5cf29b0b6"><div class="ttname"><a href="classAC__PID.html#a95fe2f5a70546d48d3f237c5cf29b0b6">AC_PID::get_d</a></div><div class="ttdeci">float get_d() const</div><div class="ttdef"><b>Definition</b> <a href="AC__PID_8cpp_source.html#l00339">AC_PID.cpp:339</a></div></div>
<div class="ttc" id="aclassAC__PID_html_ad590012ddb8fa4ec372a82c61c5a2dde"><div class="ttname"><a href="classAC__PID.html#ad590012ddb8fa4ec372a82c61c5a2dde">AC_PID::update_all</a></div><div class="ttdeci">float update_all(float target, float measurement, float dt, bool limit=false, float boost=1.0f)</div><div class="ttdef"><b>Definition</b> <a href="AC__PID_8cpp_source.html#l00193">AC_PID.cpp:193</a></div></div>
<div class="ttc" id="aclassAC__PID_html_ad78d03d125980bae0d247e9db48b7460"><div class="ttname"><a href="classAC__PID.html#ad78d03d125980bae0d247e9db48b7460">AC_PID::get_ff</a></div><div class="ttdeci">float get_ff() const</div><div class="ttdef"><b>Definition</b> <a href="AC__PID_8cpp_source.html#l00344">AC_PID.cpp:344</a></div></div>
<div class="ttc" id="aclassAC__PID_html_adb06fb6b336effbfc8b087ae0d8187bc"><div class="ttname"><a href="classAC__PID.html#adb06fb6b336effbfc8b087ae0d8187bc">AC_PID::get_i</a></div><div class="ttdeci">float get_i() const</div><div class="ttdef"><b>Definition</b> <a href="AC__PID_8cpp_source.html#l00334">AC_PID.cpp:334</a></div></div>
<div class="ttc" id="aclassAC__PID_html_aeee26e2bec3de02355b307b2b40ddbaa"><div class="ttname"><a href="classAC__PID.html#aeee26e2bec3de02355b307b2b40ddbaa">AC_PID::reset_I</a></div><div class="ttdeci">void reset_I()</div><div class="ttdef"><b>Definition</b> <a href="AC__PID_8cpp_source.html#l00349">AC_PID.cpp:349</a></div></div>
<div class="ttc" id="aclassAC__P_html"><div class="ttname"><a href="classAC__P.html">AC_P</a></div><div class="ttdoc">Object managing one P controller.</div><div class="ttdef"><b>Definition</b> <a href="AC__P_8h_source.html#l00013">AC_P.h:13</a></div></div>
<div class="ttc" id="aclassAC__P_html_a7fd01b39a158855248caea5f76b366e7"><div class="ttname"><a href="classAC__P.html#a7fd01b39a158855248caea5f76b366e7">AC_P::get_p</a></div><div class="ttdeci">float get_p(float error) const</div><div class="ttdef"><b>Definition</b> <a href="AC__P_8cpp_source.html#l00015">AC_P.cpp:15</a></div></div>
<div class="ttc" id="aclassAP__AHRS_html"><div class="ttname"><a href="classAP__AHRS.html">AP_AHRS</a></div><div class="ttdef"><b>Definition</b> <a href="AP__AHRS_8h_source.html#l00046">AP_AHRS.h:46</a></div></div>
<div class="ttc" id="aclassAP__AHRS_html_a148f6eb0063fd0e99f11c0f4d047a3c7"><div class="ttname"><a href="classAP__AHRS.html#a148f6eb0063fd0e99f11c0f4d047a3c7">AP_AHRS::cos_yaw</a></div><div class="ttdeci">float cos_yaw() const</div><div class="ttdef"><b>Definition</b> <a href="AP__AHRS_8h_source.html#l00563">AP_AHRS.h:563</a></div></div>
<div class="ttc" id="aclassAP__AHRS_html_a2bf7783e49e2237685ac740055a20866"><div class="ttname"><a href="classAP__AHRS.html#a2bf7783e49e2237685ac740055a20866">AP_AHRS::get_velocity_NED</a></div><div class="ttdeci">bool get_velocity_NED(Vector3f &amp;vec) const WARN_IF_UNUSED</div><div class="ttdef"><b>Definition</b> <a href="AP__AHRS_8cpp_source.html#l03522">AP_AHRS.cpp:3522</a></div></div>
<div class="ttc" id="aclassAP__AHRS_html_a8a160130dd99016a19abab9d85917261"><div class="ttname"><a href="classAP__AHRS.html#a8a160130dd99016a19abab9d85917261">AP_AHRS::yaw_sensor</a></div><div class="ttdeci">int32_t yaw_sensor</div><div class="ttdef"><b>Definition</b> <a href="AP__AHRS_8h_source.html#l00579">AP_AHRS.h:579</a></div></div>
<div class="ttc" id="aclassAP__AHRS_html_a992a48fcef2892301f1a41b795d2e8c2"><div class="ttname"><a href="classAP__AHRS.html#a992a48fcef2892301f1a41b795d2e8c2">AP_AHRS::get_pitch</a></div><div class="ttdeci">float get_pitch() const</div><div class="ttdef"><b>Definition</b> <a href="AP__AHRS_8h_source.html#l00553">AP_AHRS.h:553</a></div></div>
<div class="ttc" id="aclassAP__AHRS_html_ac02845bd9663dcb4507ed975b3f0aad9"><div class="ttname"><a href="classAP__AHRS.html#ac02845bd9663dcb4507ed975b3f0aad9">AP_AHRS::sin_yaw</a></div><div class="ttdeci">float sin_yaw() const</div><div class="ttdef"><b>Definition</b> <a href="AP__AHRS_8h_source.html#l00572">AP_AHRS.h:572</a></div></div>
<div class="ttc" id="aclassAP__AHRS_html_aceff0a785eb88258c2428298f5c5839a"><div class="ttname"><a href="classAP__AHRS.html#aceff0a785eb88258c2428298f5c5839a">AP_AHRS::get_yaw_rate_earth</a></div><div class="ttdeci">float get_yaw_rate_earth(void) const</div><div class="ttdef"><b>Definition</b> <a href="AP__AHRS_8h_source.html#l00514">AP_AHRS.h:514</a></div></div>
<div class="ttc" id="aclassAP__GPS_html_a7409121ce557236dce2fd541309af5fca3ea1cd30c63cf65db4a124bcd4b9fbdb"><div class="ttname"><a href="classAP__GPS.html#a7409121ce557236dce2fd541309af5fca3ea1cd30c63cf65db4a124bcd4b9fbdb">AP_GPS::GPS_OK_FIX_3D</a></div><div class="ttdeci">@ GPS_OK_FIX_3D</div><div class="ttdoc">Receiving valid messages and 3D lock.</div><div class="ttdef"><b>Definition</b> <a href="AP__GPS_8h_source.html#l00147">AP_GPS.h:147</a></div></div>
<div class="ttc" id="aclassAP__GPS_html_ae4e07a8489e0a7dcb1acbea52c687c0e"><div class="ttname"><a href="classAP__GPS.html#ae4e07a8489e0a7dcb1acbea52c687c0e">AP_GPS::ground_course_cd</a></div><div class="ttdeci">int32_t ground_course_cd(uint8_t instance) const</div><div class="ttdef"><b>Definition</b> <a href="AP__GPS_8h_source.html#l00377">AP_GPS.h:377</a></div></div>
<div class="ttc" id="aclassAP__GPS_html_ae7f097588dd863d4624f6fec1509e0e6"><div class="ttname"><a href="classAP__GPS.html#ae7f097588dd863d4624f6fec1509e0e6">AP_GPS::ground_speed</a></div><div class="ttdeci">float ground_speed(uint8_t instance) const</div><div class="ttdef"><b>Definition</b> <a href="AP__GPS_8h_source.html#l00357">AP_GPS.h:357</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1HAL_html"><div class="ttname"><a href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a></div><div class="ttdef"><b>Definition</b> <a href="HAL_8h_source.html#l00021">HAL.h:21</a></div></div>
<div class="ttc" id="aclassAP__Param_html_a5f6dcfce1c0a79cf5bd81283e22f3201"><div class="ttname"><a href="classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a></div><div class="ttdeci">static void setup_object_defaults(const void *object_pointer, const struct GroupInfo *group_info)</div><div class="ttdef"><b>Definition</b> <a href="main_8cpp_source.html#l00010">main.cpp:10</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html"><div class="ttname"><a href="classAR__AttitudeControl.html">AR_AttitudeControl</a></div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00007">AR_AttitudeControl.h:7</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a003fdc718bedbb02d9e2f04b2e8d2009"><div class="ttname"><a href="classAR__AttitudeControl.html#a003fdc718bedbb02d9e2f04b2e8d2009">AR_AttitudeControl::_pitch_limit_tc</a></div><div class="ttdeci">AP_Float _pitch_limit_tc</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00149">AR_AttitudeControl.h:149</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a0cd7ea0cbd98814814cd3fd3d487691d"><div class="ttname"><a href="classAR__AttitudeControl.html#a0cd7ea0cbd98814814cd3fd3d487691d">AR_AttitudeControl::get_accel_max</a></div><div class="ttdeci">float get_accel_max() const</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00113">AR_AttitudeControl.h:113</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a0de698ede9f5ef351a8e4944937fd0cf"><div class="ttname"><a href="classAR__AttitudeControl.html#a0de698ede9f5ef351a8e4944937fd0cf">AR_AttitudeControl::get_lat_accel</a></div><div class="ttdeci">bool get_lat_accel(float &amp;lat_accel) const</div><div class="ttdef"><b>Definition</b> <a href="#l00724">AR_AttitudeControl.cpp:724</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a0f3131d0bb6c184a563717888c3cb784"><div class="ttname"><a href="classAR__AttitudeControl.html#a0f3131d0bb6c184a563717888c3cb784">AR_AttitudeControl::_steer_rate_max</a></div><div class="ttdeci">AP_Float _steer_rate_max</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00157">AR_AttitudeControl.h:157</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a11e49e3d7d6139690c11e7420b2bd3b8"><div class="ttname"><a href="classAR__AttitudeControl.html#a11e49e3d7d6139690c11e7420b2bd3b8">AR_AttitudeControl::_steer_rate_pid</a></div><div class="ttdeci">AC_PID _steer_rate_pid</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00145">AR_AttitudeControl.h:145</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a16a94045bc81958a50a7f7b04fa79571"><div class="ttname"><a href="classAR__AttitudeControl.html#a16a94045bc81958a50a7f7b04fa79571">AR_AttitudeControl::_pitch_limit_low</a></div><div class="ttdeci">float _pitch_limit_low</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00178">AR_AttitudeControl.h:178</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a1d86cdb1ef9e295620b2142f3f49a1de"><div class="ttname"><a href="classAR__AttitudeControl.html#a1d86cdb1ef9e295620b2142f3f49a1de">AR_AttitudeControl::_throttle_speed_pid_info</a></div><div class="ttdeci">AP_PIDInfo _throttle_speed_pid_info</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00174">AR_AttitudeControl.h:174</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a1f41a4d7a7a2f6164fdf9c453dd7f78f"><div class="ttname"><a href="classAR__AttitudeControl.html#a1f41a4d7a7a2f6164fdf9c453dd7f78f">AR_AttitudeControl::_pitch_to_throttle_ff</a></div><div class="ttdeci">AP_Float _pitch_to_throttle_ff</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00148">AR_AttitudeControl.h:148</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a1fc75455078aaf1f936c483013f96a2b"><div class="ttname"><a href="classAR__AttitudeControl.html#a1fc75455078aaf1f936c483013f96a2b">AR_AttitudeControl::get_steering_out_rate</a></div><div class="ttdeci">float get_steering_out_rate(float desired_rate, bool motor_limit_left, bool motor_limit_right, float dt)</div><div class="ttdef"><b>Definition</b> <a href="#l00639">AR_AttitudeControl.cpp:639</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a1fea0c41bbf2530839cffb68b66fe80d"><div class="ttname"><a href="classAR__AttitudeControl.html#a1fea0c41bbf2530839cffb68b66fe80d">AR_AttitudeControl::_throttle_decel_max</a></div><div class="ttdeci">AP_Float _throttle_decel_max</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00153">AR_AttitudeControl.h:153</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a2084694eb9a99628d13587ad4e1b0189"><div class="ttname"><a href="classAR__AttitudeControl.html#a2084694eb9a99628d13587ad4e1b0189">AR_AttitudeControl::get_desired_pitch</a></div><div class="ttdeci">float get_desired_pitch() const</div><div class="ttdef"><b>Definition</b> <a href="#l00918">AR_AttitudeControl.cpp:918</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a2a6e553e2687d21e05a33394c55db2cb"><div class="ttname"><a href="classAR__AttitudeControl.html#a2a6e553e2687d21e05a33394c55db2cb">AR_AttitudeControl::_speed_last_ms</a></div><div class="ttdeci">uint32_t _speed_last_ms</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00169">AR_AttitudeControl.h:169</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a2a6f02b5fbdc340958c063b8ad7fb641"><div class="ttname"><a href="classAR__AttitudeControl.html#a2a6f02b5fbdc340958c063b8ad7fb641">AR_AttitudeControl::_throttle_limit_high</a></div><div class="ttdeci">bool _throttle_limit_high</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00173">AR_AttitudeControl.h:173</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a2a89aec6c8914bd1c57731c256e99d30"><div class="ttname"><a href="classAR__AttitudeControl.html#a2a89aec6c8914bd1c57731c256e99d30">AR_AttitudeControl::_steering_limit_left</a></div><div class="ttdeci">bool _steering_limit_left</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00165">AR_AttitudeControl.h:165</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a2b29dcb537eeb9b20c65253ea2a56147"><div class="ttname"><a href="classAR__AttitudeControl.html#a2b29dcb537eeb9b20c65253ea2a56147">AR_AttitudeControl::_balance_last_ms</a></div><div class="ttdeci">uint32_t _balance_last_ms</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00177">AR_AttitudeControl.h:177</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a31949c50cba5cadf9c2964ec13b8f5f7"><div class="ttname"><a href="classAR__AttitudeControl.html#a31949c50cba5cadf9c2964ec13b8f5f7">AR_AttitudeControl::_pitch_limited</a></div><div class="ttdeci">bool _pitch_limited</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00180">AR_AttitudeControl.h:180</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a329178791a21e75f4bb6a3336cd2fea3"><div class="ttname"><a href="classAR__AttitudeControl.html#a329178791a21e75f4bb6a3336cd2fea3">AR_AttitudeControl::get_forward_speed</a></div><div class="ttdeci">bool get_forward_speed(float &amp;speed) const</div><div class="ttdef"><b>Definition</b> <a href="#l00976">AR_AttitudeControl.cpp:976</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a33fb4a085f62463f0a9b1e2aede2d2af"><div class="ttname"><a href="classAR__AttitudeControl.html#a33fb4a085f62463f0a9b1e2aede2d2af">AR_AttitudeControl::_throttle_accel_max</a></div><div class="ttdeci">AP_Float _throttle_accel_max</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00152">AR_AttitudeControl.h:152</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a37c35304454538e3bc1de460133f41a5"><div class="ttname"><a href="classAR__AttitudeControl.html#a37c35304454538e3bc1de460133f41a5">AR_AttitudeControl::_throttle_speed_pid</a></div><div class="ttdeci">AC_PID _throttle_speed_pid</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00146">AR_AttitudeControl.h:146</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a3baa6843acbdce84cc80864f3dbf4027"><div class="ttname"><a href="classAR__AttitudeControl.html#a3baa6843acbdce84cc80864f3dbf4027">AR_AttitudeControl::_steer_angle_p</a></div><div class="ttdeci">AC_P _steer_angle_p</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00144">AR_AttitudeControl.h:144</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a4178440de74565a3d19dafe6767a8a10"><div class="ttname"><a href="classAR__AttitudeControl.html#a4178440de74565a3d19dafe6767a8a10">AR_AttitudeControl::_desired_lat_accel</a></div><div class="ttdeci">float _desired_lat_accel</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00163">AR_AttitudeControl.h:163</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a42dda53e7eed36665b618c4e1a6bc332"><div class="ttname"><a href="classAR__AttitudeControl.html#a42dda53e7eed36665b618c4e1a6bc332">AR_AttitudeControl::get_desired_speed</a></div><div class="ttdeci">float get_desired_speed() const</div><div class="ttdef"><b>Definition</b> <a href="#l01018">AR_AttitudeControl.cpp:1018</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a49157fbbe73b7d1bc6b26ac3827d2b7c"><div class="ttname"><a href="classAR__AttitudeControl.html#a49157fbbe73b7d1bc6b26ac3827d2b7c">AR_AttitudeControl::_throttle_limit_low</a></div><div class="ttdeci">bool _throttle_limit_low</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00172">AR_AttitudeControl.h:172</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a4e5bcb6c0427cb7853b87c7e8ee82d91"><div class="ttname"><a href="classAR__AttitudeControl.html#a4e5bcb6c0427cb7853b87c7e8ee82d91">AR_AttitudeControl::get_srate</a></div><div class="ttdeci">void get_srate(float &amp;steering_srate, float &amp;speed_srate)</div><div class="ttdef"><b>Definition</b> <a href="#l00969">AR_AttitudeControl.cpp:969</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a4e9fefc4be7d3eed4ab12e900ab56eff"><div class="ttname"><a href="classAR__AttitudeControl.html#a4e9fefc4be7d3eed4ab12e900ab56eff">AR_AttitudeControl::get_desired_lat_accel</a></div><div class="ttdeci">float get_desired_lat_accel() const</div><div class="ttdef"><b>Definition</b> <a href="#l00714">AR_AttitudeControl.cpp:714</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a5209b96c45b666ff42dacbe42d0ff6eb"><div class="ttname"><a href="classAR__AttitudeControl.html#a5209b96c45b666ff42dacbe42d0ff6eb">AR_AttitudeControl::var_info</a></div><div class="ttdeci">static const struct AP_Param::GroupInfo var_info[]</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00068">AR_AttitudeControl.h:68</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a53ebd2d17f5216092b078d0eb22dfbcc"><div class="ttname"><a href="classAR__AttitudeControl.html#a53ebd2d17f5216092b078d0eb22dfbcc">AR_AttitudeControl::get_throttle_out_from_pitch</a></div><div class="ttdeci">float get_throttle_out_from_pitch(float desired_pitch, float pitch_max, bool motor_limit, float dt)</div><div class="ttdef"><b>Definition</b> <a href="#l00862">AR_AttitudeControl.cpp:862</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a550c73677a5e7e4e1d54b2cd58d497c3"><div class="ttname"><a href="classAR__AttitudeControl.html#a550c73677a5e7e4e1d54b2cd58d497c3">AR_AttitudeControl::_steer_lat_accel_last_ms</a></div><div class="ttdeci">uint32_t _steer_lat_accel_last_ms</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00161">AR_AttitudeControl.h:161</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a641d4c472cc0dbe3745e600a5dd2d201"><div class="ttname"><a href="classAR__AttitudeControl.html#a641d4c472cc0dbe3745e600a5dd2d201">AR_AttitudeControl::get_sail_out_from_heel</a></div><div class="ttdeci">float get_sail_out_from_heel(float desired_heel, float dt)</div><div class="ttdef"><b>Definition</b> <a href="#l00930">AR_AttitudeControl.cpp:930</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a6c7f2e87870637a34af2f8c5efd8d0a5"><div class="ttname"><a href="classAR__AttitudeControl.html#a6c7f2e87870637a34af2f8c5efd8d0a5">AR_AttitudeControl::_pitch_limit_throttle_thresh</a></div><div class="ttdeci">AP_Float _pitch_limit_throttle_thresh</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00150">AR_AttitudeControl.h:150</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a79756d13f930225e9d94be7cd6a10a74"><div class="ttname"><a href="classAR__AttitudeControl.html#a79756d13f930225e9d94be7cd6a10a74">AR_AttitudeControl::_pitch_limit_high</a></div><div class="ttdeci">float _pitch_limit_high</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00179">AR_AttitudeControl.h:179</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a8e4b4d59b62d36e11653abb6973bbbbf"><div class="ttname"><a href="classAR__AttitudeControl.html#a8e4b4d59b62d36e11653abb6973bbbbf">AR_AttitudeControl::get_steering_rate_pid</a></div><div class="ttdeci">AC_PID &amp; get_steering_rate_pid()</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00098">AR_AttitudeControl.h:98</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a8f43697b5ed28daa144e8d065db2668e"><div class="ttname"><a href="classAR__AttitudeControl.html#a8f43697b5ed28daa144e8d065db2668e">AR_AttitudeControl::_stop_speed</a></div><div class="ttdeci">AP_Float _stop_speed</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00155">AR_AttitudeControl.h:155</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a923c453631ed230ac644ef8b15ae0881"><div class="ttname"><a href="classAR__AttitudeControl.html#a923c453631ed230ac644ef8b15ae0881">AR_AttitudeControl::_desired_speed</a></div><div class="ttdeci">float _desired_speed</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00170">AR_AttitudeControl.h:170</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a9aab31d9702c59bf0cd5dbfc8db2fc6b"><div class="ttname"><a href="classAR__AttitudeControl.html#a9aab31d9702c59bf0cd5dbfc8db2fc6b">AR_AttitudeControl::get_throttle_out_speed</a></div><div class="ttdeci">float get_throttle_out_speed(float desired_speed, bool motor_limit_low, bool motor_limit_high, float cruise_speed, float cruise_throttle, float dt)</div><div class="ttdef"><b>Definition</b> <a href="#l00752">AR_AttitudeControl.cpp:752</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_a9f13616d0abb02403bbd7c6d3eaef28a"><div class="ttname"><a href="classAR__AttitudeControl.html#a9f13616d0abb02403bbd7c6d3eaef28a">AR_AttitudeControl::AR_AttitudeControl</a></div><div class="ttdeci">AR_AttitudeControl()</div><div class="ttdef"><b>Definition</b> <a href="#l00570">AR_AttitudeControl.cpp:570</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_aa50dfa5bbfbd81ebd3e8550266c8b1cb"><div class="ttname"><a href="classAR__AttitudeControl.html#aa50dfa5bbfbd81ebd3e8550266c8b1cb">AR_AttitudeControl::_desired_turn_rate</a></div><div class="ttdeci">float _desired_turn_rate</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00164">AR_AttitudeControl.h:164</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_aa6d93dc014f5037bbcd88e96a392cc5e"><div class="ttname"><a href="classAR__AttitudeControl.html#aa6d93dc014f5037bbcd88e96a392cc5e">AR_AttitudeControl::get_throttle_out_stop</a></div><div class="ttdeci">float get_throttle_out_stop(bool motor_limit_low, bool motor_limit_high, float cruise_speed, float cruise_throttle, float dt, bool &amp;stopped)</div><div class="ttdef"><b>Definition</b> <a href="#l00812">AR_AttitudeControl.cpp:812</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_aaac29697a7cb972148d8944f3bc7074c"><div class="ttname"><a href="classAR__AttitudeControl.html#aaac29697a7cb972148d8944f3bc7074c">AR_AttitudeControl::relax_I</a></div><div class="ttdeci">void relax_I()</div><div class="ttdef"><b>Definition</b> <a href="#l01073">AR_AttitudeControl.cpp:1073</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_aaf1fe6b234ca9727770536b359738f3c"><div class="ttname"><a href="classAR__AttitudeControl.html#aaf1fe6b234ca9727770536b359738f3c">AR_AttitudeControl::_heel_controller_last_ms</a></div><div class="ttdeci">uint32_t _heel_controller_last_ms</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00184">AR_AttitudeControl.h:184</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_ab338b3d0c9170ce182e0ee6b325c8c15"><div class="ttname"><a href="classAR__AttitudeControl.html#ab338b3d0c9170ce182e0ee6b325c8c15">AR_AttitudeControl::_singleton</a></div><div class="ttdeci">static AR_AttitudeControl * _singleton</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00141">AR_AttitudeControl.h:141</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_ab46a990c0951ee4cb9320f16cff30120"><div class="ttname"><a href="classAR__AttitudeControl.html#ab46a990c0951ee4cb9320f16cff30120">AR_AttitudeControl::get_turn_lat_accel_max</a></div><div class="ttdeci">float get_turn_lat_accel_max() const</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00055">AR_AttitudeControl.h:55</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_abf916c52557e5fab8099983f346c256f"><div class="ttname"><a href="classAR__AttitudeControl.html#abf916c52557e5fab8099983f346c256f">AR_AttitudeControl::get_steering_out_heading</a></div><div class="ttdeci">float get_steering_out_heading(float heading_rad, float rate_max_rads, bool motor_limit_left, bool motor_limit_right, float dt)</div><div class="ttdef"><b>Definition</b> <a href="#l00605">AR_AttitudeControl.cpp:605</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_ac17fbb2fef2d2be346fb1c80b07dcfa4"><div class="ttname"><a href="classAR__AttitudeControl.html#ac17fbb2fef2d2be346fb1c80b07dcfa4">AR_AttitudeControl::_sailboat_heel_pid</a></div><div class="ttdeci">AC_PID _sailboat_heel_pid</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00183">AR_AttitudeControl.h:183</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_ac8cbc76940f23f9e8873cff7a883a7d0"><div class="ttname"><a href="classAR__AttitudeControl.html#ac8cbc76940f23f9e8873cff7a883a7d0">AR_AttitudeControl::_pitch_to_throttle_pid</a></div><div class="ttdeci">AC_PID _pitch_to_throttle_pid</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00147">AR_AttitudeControl.h:147</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_accb55294272ddcfbc002c4c0d71070fd"><div class="ttname"><a href="classAR__AttitudeControl.html#accb55294272ddcfbc002c4c0d71070fd">AR_AttitudeControl::speed_control_active</a></div><div class="ttdeci">bool speed_control_active() const</div><div class="ttdef"><b>Definition</b> <a href="#l01008">AR_AttitudeControl.cpp:1008</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_acd0df86ba466a2a6d4551a447b65e3ec"><div class="ttname"><a href="classAR__AttitudeControl.html#acd0df86ba466a2a6d4551a447b65e3ec">AR_AttitudeControl::get_turn_rate_from_heading</a></div><div class="ttdeci">float get_turn_rate_from_heading(float heading_rad, float rate_max_rads) const</div><div class="ttdef"><b>Definition</b> <a href="#l00614">AR_AttitudeControl.cpp:614</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_ad00bc58aa97f4d7a9287335d9525b7f1"><div class="ttname"><a href="classAR__AttitudeControl.html#ad00bc58aa97f4d7a9287335d9525b7f1">AR_AttitudeControl::get_desired_turn_rate</a></div><div class="ttdeci">float get_desired_turn_rate() const</div><div class="ttdef"><b>Definition</b> <a href="#l00704">AR_AttitudeControl.cpp:704</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_ada80c5aeae9e455af4a54e2dddc26919"><div class="ttname"><a href="classAR__AttitudeControl.html#ada80c5aeae9e455af4a54e2dddc26919">AR_AttitudeControl::_steer_accel_max</a></div><div class="ttdeci">AP_Float _steer_accel_max</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00156">AR_AttitudeControl.h:156</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_ade9d46b8ff306d77945ddac014a8260a"><div class="ttname"><a href="classAR__AttitudeControl.html#ade9d46b8ff306d77945ddac014a8260a">AR_AttitudeControl::get_turn_rate_from_lat_accel</a></div><div class="ttdeci">float get_turn_rate_from_lat_accel(float lat_accel, float speed) const</div><div class="ttdef"><b>Definition</b> <a href="#l00735">AR_AttitudeControl.cpp:735</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_ae33e1f869fd9ae77fe23d8a1fb68c9e7"><div class="ttname"><a href="classAR__AttitudeControl.html#ae33e1f869fd9ae77fe23d8a1fb68c9e7">AR_AttitudeControl::_steer_turn_last_ms</a></div><div class="ttdeci">uint32_t _steer_turn_last_ms</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00162">AR_AttitudeControl.h:162</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_ae5abeb82e864ccc344d8230aef044b95"><div class="ttname"><a href="classAR__AttitudeControl.html#ae5abeb82e864ccc344d8230aef044b95">AR_AttitudeControl::_steering_limit_right</a></div><div class="ttdeci">bool _steering_limit_right</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00166">AR_AttitudeControl.h:166</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_ae5fecdcdc7f6abe5a176c0d8d2400732"><div class="ttname"><a href="classAR__AttitudeControl.html#ae5fecdcdc7f6abe5a176c0d8d2400732">AR_AttitudeControl::get_decel_max</a></div><div class="ttdeci">float get_decel_max() const</div><div class="ttdef"><b>Definition</b> <a href="#l00998">AR_AttitudeControl.cpp:998</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_ae67d52b83798b0267ad277057d46d220"><div class="ttname"><a href="classAR__AttitudeControl.html#ae67d52b83798b0267ad277057d46d220">AR_AttitudeControl::set_notch_sample_rate</a></div><div class="ttdeci">void set_notch_sample_rate(float sample_rate)</div><div class="ttdef"><b>Definition</b> <a href="#l01080">AR_AttitudeControl.cpp:1080</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_aebfc6e8133a8b9b404f83792759e7ec5"><div class="ttname"><a href="classAR__AttitudeControl.html#aebfc6e8133a8b9b404f83792759e7ec5">AR_AttitudeControl::get_stopping_distance</a></div><div class="ttdeci">float get_stopping_distance(float speed) const</div><div class="ttdef"><b>Definition</b> <a href="#l01058">AR_AttitudeControl.cpp:1058</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_aec41415cd2a863dceca36ca396bc5336"><div class="ttname"><a href="classAR__AttitudeControl.html#aec41415cd2a863dceca36ca396bc5336">AR_AttitudeControl::_brake_enable</a></div><div class="ttdeci">AP_Int8 _brake_enable</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00154">AR_AttitudeControl.h:154</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_aedb2c49f989bc820c8df3a01f8c4d780"><div class="ttname"><a href="classAR__AttitudeControl.html#aedb2c49f989bc820c8df3a01f8c4d780">AR_AttitudeControl::get_steering_out_lat_accel</a></div><div class="ttdeci">float get_steering_out_lat_accel(float desired_accel, bool motor_limit_left, bool motor_limit_right, float dt)</div><div class="ttdef"><b>Definition</b> <a href="#l00583">AR_AttitudeControl.cpp:583</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_afaa6de18cd8dfa0df1807d909eedd2c9"><div class="ttname"><a href="classAR__AttitudeControl.html#afaa6de18cd8dfa0df1807d909eedd2c9">AR_AttitudeControl::_stop_last_ms</a></div><div class="ttdeci">uint32_t _stop_last_ms</div><div class="ttdef"><b>Definition</b> <a href="AR__AttitudeControl_8h_source.html#l00171">AR_AttitudeControl.h:171</a></div></div>
<div class="ttc" id="aclassAR__AttitudeControl_html_afc29228fde53e3229643ffe0108da06a"><div class="ttname"><a href="classAR__AttitudeControl.html#afc29228fde53e3229643ffe0108da06a">AR_AttitudeControl::get_desired_speed_accel_limited</a></div><div class="ttdeci">float get_desired_speed_accel_limited(float desired_speed, float dt) const</div><div class="ttdef"><b>Definition</b> <a href="#l01028">AR_AttitudeControl.cpp:1028</a></div></div>
<div class="ttc" id="aclassVector3_html"><div class="ttname"><a href="classVector3.html">Vector3&lt; float &gt;</a></div></div>
<div class="ttc" id="aclassVector3_html_a1a0f7e168c71ca798099f0ba8a444244"><div class="ttname"><a href="classVector3.html#a1a0f7e168c71ca798099f0ba8a444244">Vector3::x</a></div><div class="ttdeci">T x</div><div class="ttdef"><b>Definition</b> <a href="vector3_8h_source.html#l00076">vector3.h:76</a></div></div>
<div class="ttc" id="aclassVector3_html_a561df88b28e106e337a25bb86554a569"><div class="ttname"><a href="classVector3.html#a561df88b28e106e337a25bb86554a569">Vector3::y</a></div><div class="ttdeci">T y</div><div class="ttdef"><b>Definition</b> <a href="vector3_8h_source.html#l00076">vector3.h:76</a></div></div>
<div class="ttc" id="aluac_8c_html_a5a832fe6e2412dfabb93a2adae30e745"><div class="ttname"><a href="luac_8c.html#a5a832fe6e2412dfabb93a2adae30e745">output</a></div><div class="ttdeci">static const char * output</div><div class="ttdef"><b>Definition</b> <a href="luac_8c_source.html#l00035">luac.c:35</a></div></div>
<div class="ttc" id="amonocypher_8cpp_html_a0974daefcc79bbbd354f3a30f3150dba"><div class="ttname"><a href="monocypher_8cpp.html#a0974daefcc79bbbd354f3a30f3150dba">d</a></div><div class="ttdeci">static const fe d</div><div class="ttdef"><b>Definition</b> <a href="monocypher_8cpp_source.html#l01059">monocypher.cpp:1059</a></div></div>
<div class="ttc" id="amonocypher_8cpp_html_a3acffbd305ee72dcd4593c0d8af64a4f"><div class="ttname"><a href="monocypher_8cpp.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a></div><div class="ttdeci">#define MIN(a, b)</div><div class="ttdef"><b>Definition</b> <a href="monocypher_8cpp_source.html#l00071">monocypher.cpp:71</a></div></div>
<div class="ttc" id="amonocypher_8cpp_html_afa99ec4acc4ecb2dc3c2d05da15d0e3f"><div class="ttname"><a href="monocypher_8cpp.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a></div><div class="ttdeci">#define MAX(a, b)</div><div class="ttdef"><b>Definition</b> <a href="monocypher_8cpp_source.html#l00072">monocypher.cpp:72</a></div></div>
<div class="ttc" id="anamespaceAP__HAL_html_a77dffbb18891996280308e21316ec186"><div class="ttname"><a href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a></div><div class="ttdeci">uint32_t millis()</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL__ChibiOS_2system_8cpp_source.html#l00377">system.cpp:377</a></div></div>
<div class="ttc" id="anamespaceAP_html_a99432cfdb696952c9b7146f155a815aa"><div class="ttname"><a href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a></div><div class="ttdeci">AP_AHRS &amp; ahrs()</div><div class="ttdef"><b>Definition</b> <a href="AP__AHRS_8cpp_source.html#l03558">AP_AHRS.cpp:3558</a></div></div>
<div class="ttc" id="anamespaceAP_html_ae6eeec356455220f913e47e323057cd5"><div class="ttname"><a href="namespaceAP.html#ae6eeec356455220f913e47e323057cd5">AP::gps</a></div><div class="ttdeci">AP_GPS &amp; gps()</div><div class="ttdef"><b>Definition</b> <a href="AP__GPS_8cpp_source.html#l02442">AP_GPS.cpp:2442</a></div></div>
<div class="ttc" id="arouting_8cpp_html_acdef7b92239f1e607ef6caa33a16d2ed"><div class="ttname"><a href="routing_8cpp.html#acdef7b92239f1e607ef6caa33a16d2ed">status</a></div><div class="ttdeci">static mavlink_status_t status</div><div class="ttdef"><b>Definition</b> <a href="routing_8cpp_source.html#l00027">routing.cpp:27</a></div></div>
<div class="ttc" id="astructAP__PIDInfo_html_a6415861ae1439a7dd3a61fb585e5ae91"><div class="ttname"><a href="structAP__PIDInfo.html#a6415861ae1439a7dd3a61fb585e5ae91">AP_PIDInfo::FF</a></div><div class="ttdeci">float FF</div><div class="ttdef"><b>Definition</b> <a href="AP__PIDInfo_8h_source.html#l00016">AP_PIDInfo.h:16</a></div></div>
<div class="ttc" id="astructAP__PIDInfo_html_a980fa483168dc010d3d1aae3f4fd542c"><div class="ttname"><a href="structAP__PIDInfo.html#a980fa483168dc010d3d1aae3f4fd542c">AP_PIDInfo::target</a></div><div class="ttdeci">float target</div><div class="ttdef"><b>Definition</b> <a href="AP__PIDInfo_8h_source.html#l00010">AP_PIDInfo.h:10</a></div></div>
<div class="ttc" id="astructAP__PIDInfo_html_a9f6d290eb44e636efc029b391287d346"><div class="ttname"><a href="structAP__PIDInfo.html#a9f6d290eb44e636efc029b391287d346">AP_PIDInfo::slew_rate</a></div><div class="ttdeci">float slew_rate</div><div class="ttdef"><b>Definition</b> <a href="AP__PIDInfo_8h_source.html#l00019">AP_PIDInfo.h:19</a></div></div>
<div class="ttc" id="astructAP__Param_1_1GroupInfo_html"><div class="ttname"><a href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00199">AP_Param.h:199</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 22 2024 16:14:16 for APM:Libraries by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
