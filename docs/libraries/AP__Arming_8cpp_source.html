<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>APM:Libraries: libraries/AP_Arming/AP_Arming.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">APM:Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_7d003a1b9517fbd846bef51a3304062c.html">AP_Arming</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">AP_Arming.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="AP__Arming_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">   This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">   it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">   the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">   (at your option) any later version.</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"></span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">   This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">   GNU General Public License for more details.</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment"></span> </div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">   You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">   along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"> */</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="AP__Arming_8h.html">AP_Arming.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;<a class="code" href="AP__HAL_8h.html">AP_HAL/AP_HAL.h</a>&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;<a class="code" href="AP__BoardConfig_8h.html">AP_BoardConfig/AP_BoardConfig.h</a>&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &lt;<a class="code" href="AP__BattMonitor_8h.html">AP_BattMonitor/AP_BattMonitor.h</a>&gt;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Compass_8h.html">AP_Compass/AP_Compass.h</a>&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Notify_8h.html">AP_Notify/AP_Notify.h</a>&gt;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &lt;<a class="code" href="GCS_8h.html">GCS_MAVLink/GCS.h</a>&gt;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;<a class="code" href="GCS__MAVLink_8h.html">GCS_MAVLink/GCS_MAVLink.h</a>&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Mission_8h.html">AP_Mission/AP_Mission.h</a>&gt;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Proximity_8h.html">AP_Proximity/AP_Proximity.h</a>&gt;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Rally_8h.html">AP_Rally/AP_Rally.h</a>&gt;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &lt;<a class="code" href="SRV__Channel_8h.html">SRV_Channel/SRV_Channel.h</a>&gt;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &lt;<a class="code" href="AC__Fence_8h.html">AC_Fence/AC_Fence.h</a>&gt;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &lt;<a class="code" href="AP__InertialSensor_8h.html">AP_InertialSensor/AP_InertialSensor.h</a>&gt;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &lt;<a class="code" href="AP__InternalError_8h.html">AP_InternalError/AP_InternalError.h</a>&gt;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &lt;<a class="code" href="AP__GPS_8h.html">AP_GPS/AP_GPS.h</a>&gt;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Declination_8h.html">AP_Declination/AP_Declination.h</a>&gt;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Airspeed_8h.html">AP_Airspeed/AP_Airspeed.h</a>&gt;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &lt;<a class="code" href="AP__AHRS_8h.html">AP_AHRS/AP_AHRS.h</a>&gt;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Baro_8h.html">AP_Baro/AP_Baro.h</a>&gt;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &lt;<a class="code" href="AP__RangeFinder_8h.html">AP_RangeFinder/AP_RangeFinder.h</a>&gt;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Generator_8h.html">AP_Generator/AP_Generator.h</a>&gt;</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Terrain_8h.html">AP_Terrain/AP_Terrain.h</a>&gt;</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#include &lt;<a class="code" href="AP__ADSB_8h.html">AP_ADSB/AP_ADSB.h</a>&gt;</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Scripting_8h.html">AP_Scripting/AP_Scripting.h</a>&gt;</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="preprocessor">#include &lt;<a class="code" href="AP__RunCam_8h.html">AP_Camera/AP_RunCam.h</a>&gt;</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="preprocessor">#include &lt;<a class="code" href="AP__GyroFFT_8h.html">AP_GyroFFT/AP_GyroFFT.h</a>&gt;</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="preprocessor">#include &lt;<a class="code" href="AP__RCMapper_8h.html">AP_RCMapper/AP_RCMapper.h</a>&gt;</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="preprocessor">#include &lt;<a class="code" href="AP__VisualOdom_8h.html">AP_VisualOdom/AP_VisualOdom.h</a>&gt;</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Parachute_8h.html">AP_Parachute/AP_Parachute.h</a>&gt;</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="preprocessor">#include &lt;<a class="code" href="AP__OSD_8h.html">AP_OSD/AP_OSD.h</a>&gt;</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Relay_8h.html">AP_Relay/AP_Relay.h</a>&gt;</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="preprocessor">#include &lt;<a class="code" href="RC__Channel_8h.html">RC_Channel/RC_Channel.h</a>&gt;</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Button_8h.html">AP_Button/AP_Button.h</a>&gt;</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="preprocessor">#include &lt;<a class="code" href="AP__FETtecOneWire_8h.html">AP_FETtecOneWire/AP_FETtecOneWire.h</a>&gt;</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="preprocessor">#include &lt;<a class="code" href="AP__RPM_8h.html">AP_RPM/AP_RPM.h</a>&gt;</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Mount_8h.html">AP_Mount/AP_Mount.h</a>&gt;</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="preprocessor">#include &lt;<a class="code" href="AP__OpenDroneID_8h.html">AP_OpenDroneID/AP_OpenDroneID.h</a>&gt;</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="preprocessor">#include &lt;<a class="code" href="AP__SerialManager_8h.html">AP_SerialManager/AP_SerialManager.h</a>&gt;</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Vehicle__Type_8h.html">AP_Vehicle/AP_Vehicle_Type.h</a>&gt;</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Scheduler_8h.html">AP_Scheduler/AP_Scheduler.h</a>&gt;</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="preprocessor">#include &lt;<a class="code" href="AP__KDECAN_8h.html">AP_KDECAN/AP_KDECAN.h</a>&gt;</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Vehicle_8h.html">AP_Vehicle/AP_Vehicle.h</a>&gt;</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span> </div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span><span class="preprocessor">#if HAL_MAX_CAN_PROTOCOL_DRIVERS</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="preprocessor">  #include &lt;<a class="code" href="AP__CANManager_8h.html">AP_CANManager/AP_CANManager.h</a>&gt;</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="preprocessor">  #include &lt;<a class="code" href="AP__Common_8h.html">AP_Common/AP_Common.h</a>&gt;</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="preprocessor">  #include &lt;<a class="code" href="AP__Vehicle__Type_8h.html">AP_Vehicle/AP_Vehicle_Type.h</a>&gt;</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="preprocessor">  #include &lt;<a class="code" href="AP__PiccoloCAN_8h.html">AP_PiccoloCAN/AP_PiccoloCAN.h</a>&gt;</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="preprocessor">  #include &lt;<a class="code" href="AP__DroneCAN_8h.html">AP_DroneCAN/AP_DroneCAN.h</a>&gt;</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span> </div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Logger_8h.html">AP_Logger/AP_Logger.h</a>&gt;</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span> </div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno"><a class="line" href="AP__Arming_8cpp.html#a9556c79c59f266e09b259b3dad89e9ae">   71</a></span><span class="preprocessor">#define AP_ARMING_COMPASS_MAGFIELD_EXPECTED 530</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="AP__Arming_8cpp.html#a47b24d767504457289efe65ade4f5689">   72</a></span><span class="preprocessor">#define AP_ARMING_COMPASS_MAGFIELD_MIN  185     </span><span class="comment">// 0.35 * 530 milligauss</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno"><a class="line" href="AP__Arming_8cpp.html#a18ffc96e3eddbd769293fa440ea69d43">   73</a></span><span class="preprocessor">#define AP_ARMING_COMPASS_MAGFIELD_MAX  875     </span><span class="comment">// 1.65 * 530 milligauss</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno"><a class="line" href="AP__Arming_8cpp.html#a90ec243bcfa684c5e7a58ac0f07b6ff5">   74</a></span><span class="preprocessor">#define AP_ARMING_BOARD_VOLTAGE_MAX     5.8f</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="AP__Arming_8cpp.html#ae64a564c32bd55897418d6d071d25980">   75</a></span><span class="preprocessor">#define AP_ARMING_ACCEL_ERROR_THRESHOLD 0.75f</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno"><a class="line" href="AP__Arming_8cpp.html#a15e775899cf8ecfcc21fdd989ff3ba6a">   76</a></span><span class="preprocessor">#define AP_ARMING_MAGFIELD_ERROR_THRESHOLD 100</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno"><a class="line" href="AP__Arming_8cpp.html#a83161775f80645c1eef02ef780db8608">   77</a></span><span class="preprocessor">#define AP_ARMING_AHRS_GPS_ERROR_MAX    10      </span><span class="comment">// accept up to 10m difference between AHRS and GPS</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span> </div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="preprocessor">#if APM_BUILD_TYPE(APM_BUILD_ArduPlane)</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="preprocessor">  #define ARMING_RUDDER_DEFAULT         (uint8_t)RudderArming::ARMONLY</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="AP__Arming_8cpp.html#afc27a4c52658dab8e128892fdd3da3c5">   82</a></span><span class="preprocessor">  #define ARMING_RUDDER_DEFAULT         (uint8_t)RudderArming::ARMDISARM</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span> </div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span><span class="preprocessor">#ifndef PREARM_DISPLAY_PERIOD</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno"><a class="line" href="AP__Arming_8cpp.html#a9b924651521ee1b8e28fa65a584b943e">   86</a></span><span class="preprocessor"># define PREARM_DISPLAY_PERIOD 30</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span> </div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span><span class="keyword">extern</span> <span class="keyword">const</span> <a class="code hl_class" href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a>&amp; <a class="code hl_variable" href="AP__Arming_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>;</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span> </div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span><span class="keyword">const</span> <a class="code hl_struct" href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a> <a class="code hl_variable" href="classAP__Arming.html#a04993082ca1bfdc616710573382ea109">AP_Arming::var_info</a>[] = {</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span> </div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>    <span class="comment">// @Param{Plane, Rover}: REQUIRE</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <span class="comment">// @DisplayName: Require Arming Motors </span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    <span class="comment">// @Description: Arming disabled until some requirements are met. If 0, there are no requirements (arm immediately).  If 1, sends the minimum throttle PWM value to the throttle channel when disarmed. If 2, send 0 PWM (no signal) to throttle channel when disarmed. On planes with ICE enabled and the throttle while disarmed option set in ICE_OPTIONS, the motor will always get THR_MIN when disarmed. Arming will occur using either rudder stick arming (if enabled) or GCS command when all mandatory and ARMING_CHECK items are satisfied. Note, when setting this parameter to 0, a reboot is required to immediately arm the plane.</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    <span class="comment">// @Values: 0:Disabled,1:minimum PWM when disarmed,2:0 PWM when disarmed</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <a class="code hl_define" href="AP__Param_8h.html#a044f103a40a9e98a9df7c2354310fc60">AP_GROUPINFO_FLAGS_FRAME</a>(<span class="stringliteral">&quot;REQUIRE&quot;</span>,     0,      <a class="code hl_class" href="classAP__Arming.html">AP_Arming</a>,  require, <span class="keywordtype">float</span>(Required::YES_MIN_PWM),</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>                             <a class="code hl_define" href="AP__Param_8h.html#a18ebaf95bed3f2b7385a88d1b65ed57c">AP_PARAM_FLAG_NO_SHIFT</a>,</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>                             <a class="code hl_define" href="AP__Param_8h.html#a5def49b63b71690b19ea5a19ee3b4788">AP_PARAM_FRAME_PLANE</a> | <a class="code hl_define" href="AP__Param_8h.html#a3e9b3c0ae77600ea4c525da857c90846">AP_PARAM_FRAME_ROVER</a>),</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span> </div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <span class="comment">// 2 was the CHECK paramter stored in a AP_Int16</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span> </div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    <span class="comment">// @Param: ACCTHRESH</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <span class="comment">// @DisplayName: Accelerometer error threshold</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    <span class="comment">// @Description: Accelerometer error threshold used to determine inconsistent accelerometers. Compares this error range to other accelerometers to detect a hardware or calibration error. Lower value means tighter check and harder to pass arming check. Not all accelerometers are created equal.</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    <span class="comment">// @Units: m/s/s</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    <span class="comment">// @Range: 0.25 3.0</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;ACCTHRESH&quot;</span>,    3,     <a class="code hl_class" href="classAP__Arming.html">AP_Arming</a>,  accel_error_threshold,  <a class="code hl_define" href="AP__Arming_8cpp.html#ae64a564c32bd55897418d6d071d25980">AP_ARMING_ACCEL_ERROR_THRESHOLD</a>),</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span> </div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    <span class="comment">// index 4 was VOLT_MIN, moved to AP_BattMonitor</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <span class="comment">// index 5 was VOLT2_MIN, moved to AP_BattMonitor</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span> </div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <span class="comment">// @Param: RUDDER</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    <span class="comment">// @DisplayName: Arming with Rudder enable/disable</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="comment">// @Description: Allow arm/disarm by rudder input. When enabled arming can be done with right rudder, disarming with left rudder. Rudder arming only works with throttle at zero +- deadzone (RCx_DZ). Depending on vehicle type, arming in certain modes is prevented. See the wiki for each vehicle. Caution is recommended when arming if it is allowed in an auto-throttle mode!</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    <span class="comment">// @Values: 0:Disabled,1:ArmingOnly,2:ArmOrDisarm</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <a class="code hl_define" href="AP__Param_8h.html#a752a6a1d27589c64a386ab2818e7057d">AP_GROUPINFO_FRAME</a>(<span class="stringliteral">&quot;RUDDER&quot;</span>,  6,     <a class="code hl_class" href="classAP__Arming.html">AP_Arming</a>, _rudder_arming, <a class="code hl_define" href="AP__Arming_8cpp.html#afc27a4c52658dab8e128892fdd3da3c5">ARMING_RUDDER_DEFAULT</a>, <a class="code hl_define" href="AP__Param_8h.html#a5def49b63b71690b19ea5a19ee3b4788">AP_PARAM_FRAME_PLANE</a> |</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>                                                                                           <a class="code hl_define" href="AP__Param_8h.html#a3e9b3c0ae77600ea4c525da857c90846">AP_PARAM_FRAME_ROVER</a> |</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>                                                                                           <a class="code hl_define" href="AP__Param_8h.html#afdcffd80a5fa249148be6d8fdc63cb3c">AP_PARAM_FRAME_COPTER</a> |</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>                                                                                           <a class="code hl_define" href="AP__Param_8h.html#a9838c03b98e6652d227f617eb2757dd9">AP_PARAM_FRAME_TRICOPTER</a> |</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>                                                                                           <a class="code hl_define" href="AP__Param_8h.html#ac1328ddd823ea908dfe71e10c9a36a2e">AP_PARAM_FRAME_HELI</a> |</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>                                                                                           <a class="code hl_define" href="AP__Param_8h.html#abdeb64e8a55f7ae469128b38beeb139c">AP_PARAM_FRAME_BLIMP</a>),</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span> </div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <span class="comment">// @Param: MIS_ITEMS</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <span class="comment">// @DisplayName: Required mission items</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <span class="comment">// @Description: Bitmask of mission items that are required to be planned in order to arm the aircraft</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <span class="comment">// @Bitmask: 0:Land,1:VTOL Land,2:DO_LAND_START,3:Takeoff,4:VTOL Takeoff,5:Rallypoint,6:RTL</span></div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;MIS_ITEMS&quot;</span>,    7,     <a class="code hl_class" href="classAP__Arming.html">AP_Arming</a>, _required_mission_items, 0),</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="comment">// @Param: CHECK</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="comment">// @DisplayName: Arm Checks to Perform (bitmask)</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="comment">// @Description: Checks prior to arming motor. This is a bitmask of checks that will be performed before allowing arming. For most users it is recommended to leave this at the default of 1 (all checks enabled). You can select whatever checks you prefer by adding together the values of each check type to set this parameter. For example, to only allow arming when you have GPS lock and no RC failsafe you would set ARMING_CHECK to 72.</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <span class="comment">// @Bitmask: 0:All,1:Barometer,2:Compass,3:GPS lock,4:INS,5:Parameters,6:RC Channels,7:Board voltage,8:Battery Level,10:Logging Available,11:Hardware safety switch,12:GPS Configuration,13:System,14:Mission,15:Rangefinder,16:Camera,17:AuxAuth,18:VisualOdometry,19:FFT</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <span class="comment">// @Bitmask{Plane}: 0:All,1:Barometer,2:Compass,3:GPS lock,4:INS,5:Parameters,6:RC Channels,7:Board voltage,8:Battery Level,9:Airspeed,10:Logging Available,11:Hardware safety switch,12:GPS Configuration,13:System,14:Mission,15:Rangefinder,16:Camera,17:AuxAuth,19:FFT</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;CHECK&quot;</span>,        8,     <a class="code hl_class" href="classAP__Arming.html">AP_Arming</a>,  checks_to_perform,       ARMING_CHECK_ALL),</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span> </div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <span class="comment">// @Param: OPTIONS</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <span class="comment">// @DisplayName: Arming options</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="comment">// @Description: Options that can be applied to change arming behaviour</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <span class="comment">// @Values: 0:None,1:Disable prearm display,2:Do not send status text on state change</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;OPTIONS&quot;</span>, 9,   <a class="code hl_class" href="classAP__Arming.html">AP_Arming</a>, _arming_options, 0),</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span> </div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    <span class="comment">// @Param: MAGTHRESH</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <span class="comment">// @DisplayName: Compass magnetic field strength error threshold vs earth magnetic model</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    <span class="comment">// @Description: Compass magnetic field strength error threshold vs earth magnetic model.  X and y axis are compared using this threhold, Z axis uses 2x this threshold.  0 to disable check</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    <span class="comment">// @Units: mGauss</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    <span class="comment">// @Range: 0 500</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;MAGTHRESH&quot;</span>, 10, <a class="code hl_class" href="classAP__Arming.html">AP_Arming</a>, magfield_error_threshold,  <a class="code hl_define" href="AP__Arming_8cpp.html#a15e775899cf8ecfcc21fdd989ff3ba6a">AP_ARMING_MAGFIELD_ERROR_THRESHOLD</a>),</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span> </div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    <a class="code hl_define" href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>};</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span> </div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span><span class="preprocessor">#if HAL_WITH_IO_MCU</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span><span class="preprocessor">#include &lt;<a class="code" href="AP__IOMCU_8h.html">AP_IOMCU/AP_IOMCU.h</a>&gt;</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span><span class="keyword">extern</span> AP_IOMCU <a class="code hl_variable" href="iofirmware_8cpp.html#a1858bdf23f3647731d31c02115adc060">iomcu</a>;</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span> </div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span><span class="preprocessor">#pragma GCC diagnostic push</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span><span class="preprocessor">#if defined (__clang__)</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span><span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wbitwise-instead-of-logical&quot;</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span> </div>
<div class="foldopen" id="foldopen00170" data-start="{" data-end="}">
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno"><a class="line" href="classAP__Arming.html#a5813b5e0793954d9738889c7a4843ee5">  170</a></span><a class="code hl_function" href="classAP__Arming.html#a5813b5e0793954d9738889c7a4843ee5">AP_Arming::AP_Arming</a>()</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>{</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Arming.html#aa168a0c85d0669dffdbc2eaa6c64e2a9">_singleton</a>) {</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>        <a class="code hl_function" href="namespaceAP__HAL.html#a52edeef7d5ffaa365e1229b87c170307">AP_HAL::panic</a>(<span class="stringliteral">&quot;Too many AP_Arming instances&quot;</span>);</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    }</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <a class="code hl_variable" href="classAP__Arming.html#aa168a0c85d0669dffdbc2eaa6c64e2a9">_singleton</a> = <span class="keyword">this</span>;</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span> </div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    <a class="code hl_function" href="classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a>(<span class="keyword">this</span>, var_info);</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>}</div>
</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span> </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span><span class="comment">// performs pre-arm checks. expects to be called at 1hz.</span></div>
<div class="foldopen" id="foldopen00181" data-start="{" data-end="}">
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno"><a class="line" href="classAP__Arming.html#a147cc051ad50d2fd681e781820d5db88">  181</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__Arming.html#a147cc051ad50d2fd681e781820d5db88">AP_Arming::update</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>{</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    <span class="keyword">const</span> uint32_t now_ms = <a class="code hl_function" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    <span class="comment">// perform pre-arm checks &amp; display failures every 30 seconds</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <span class="keywordtype">bool</span> display_fail = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classAP__Arming.html#ad7ec78de73287b0cbff220b1a5491869">report_immediately</a> &amp;&amp; (now_ms - <a class="code hl_variable" href="classAP__Arming.html#a252c75e4dc37d7b0987ec4d2b95fd307">last_prearm_display_ms</a> &gt; 4000)) ||</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>        (now_ms - <a class="code hl_variable" href="classAP__Arming.html#a252c75e4dc37d7b0987ec4d2b95fd307">last_prearm_display_ms</a> &gt; <a class="code hl_define" href="AP__Arming_8cpp.html#a9b924651521ee1b8e28fa65a584b943e">PREARM_DISPLAY_PERIOD</a>*1000)) {</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>        <a class="code hl_variable" href="classAP__Arming.html#ad7ec78de73287b0cbff220b1a5491869">report_immediately</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>        display_fail = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>        <a class="code hl_variable" href="classAP__Arming.html#a252c75e4dc37d7b0987ec4d2b95fd307">last_prearm_display_ms</a> = now_ms;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    }</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    <span class="comment">// OTOH, the user may never want to display them:</span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#a810b6f65282ff4b8fe9270ba0f47b801">option_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#ac77d92266f838f677dedd2ae9bdf9c34a73fbb2efd9da926630ecd08a80dbddee">Option::DISABLE_PREARM_DISPLAY</a>)) {</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>        display_fail = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    }</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span> </div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <a class="code hl_function" href="classAP__Arming.html#a73c03baf7f22b7124a2ac9e9286a850a">pre_arm_checks</a>(display_fail);</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>}</div>
</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span> </div>
<div class="foldopen" id="foldopen00200" data-start="{" data-end="}">
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno"><a class="line" href="classAP__Arming.html#a4fb053b9daafd8a7a31809cf185045de">  200</a></span>uint16_t <a class="code hl_function" href="classAP__Arming.html#a4fb053b9daafd8a7a31809cf185045de">AP_Arming::compass_magfield_expected</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="AP__Arming_8cpp.html#a9556c79c59f266e09b259b3dad89e9ae">AP_ARMING_COMPASS_MAGFIELD_EXPECTED</a>;</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>}</div>
</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span> </div>
<div class="foldopen" id="foldopen00205" data-start="{" data-end="}">
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno"><a class="line" href="classAP__Arming.html#a4b6025d0ed4162537933ae0514bf5dca">  205</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a4b6025d0ed4162537933ae0514bf5dca">AP_Arming::is_armed</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classAP__Arming.html#aabc61cc7d21253f5f52e3a55b87bb4ca">armed</a> || <a class="code hl_function" href="classAP__Arming.html#ad1aeda71b7360ca68d532178e0e7f0d0">arming_required</a>() == <a class="code hl_enumvalue" href="classAP__Arming.html#ad2462f103a95f428ff3c0f2b2f9c8ab7ac2f3f489a00553e7a01d369c103c7251">Required::NO</a>;</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>}</div>
</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span><span class="comment">/*</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span><span class="comment">  true if armed and safety is off</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span><span class="comment"> */</span></div>
<div class="foldopen" id="foldopen00213" data-start="{" data-end="}">
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno"><a class="line" href="classAP__Arming.html#abbe5721310f8105e360846b68b2032a0">  213</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#abbe5721310f8105e360846b68b2032a0">AP_Arming::is_armed_and_safety_off</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classAP__Arming.html#a4b6025d0ed4162537933ae0514bf5dca">is_armed</a>() &amp;&amp; <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#a9cd8bcd13d4c3c74c665b0702f86451b">safety_switch_state</a>() != <a class="code hl_enumvalue" href="classAP__HAL_1_1Util.html#a4b04d344ba779364624427a51ea3669fa0bdaddc5635bc9fa38649e9bf6f63735">AP_HAL::Util::SAFETY_DISARMED</a>;</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>}</div>
</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span> </div>
<div class="foldopen" id="foldopen00218" data-start="{" data-end="}">
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno"><a class="line" href="classAP__Arming.html#a73a03375b0dea4d8adbc304c2ced1c2e">  218</a></span>uint32_t <a class="code hl_function" href="classAP__Arming.html#a73a03375b0dea4d8adbc304c2ced1c2e">AP_Arming::get_enabled_checks</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classAP__Arming.html#aa9e0cb21a3be70b834a9a8b74ba19356">checks_to_perform</a>;</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>}</div>
</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span> </div>
<div class="foldopen" id="foldopen00223" data-start="{" data-end="}">
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno"><a class="line" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">  223</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">AP_Arming::check_enabled</a>(<span class="keyword">const</span> <span class="keyword">enum</span> <a class="code hl_enumeration" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8f">AP_Arming::ArmingChecks</a> <a class="code hl_function" href="lparser_8c.html#a2c856a5873c90f45525cf0d9abebbfde">check</a>)<span class="keyword"> const</span></div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Arming.html#aa9e0cb21a3be70b834a9a8b74ba19356">checks_to_perform</a> &amp; <a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3062b4aded78adab2a8005e322d81b2f">ARMING_CHECK_ALL</a>) {</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    }</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <span class="keywordflow">return</span> (<a class="code hl_variable" href="classAP__Arming.html#aa9e0cb21a3be70b834a9a8b74ba19356">checks_to_perform</a> &amp; <a class="code hl_function" href="lparser_8c.html#a2c856a5873c90f45525cf0d9abebbfde">check</a>);</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>}</div>
</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span> </div>
<div class="foldopen" id="foldopen00231" data-start="{" data-end="}">
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno"><a class="line" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">  231</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">AP_Arming::check_failed</a>(<span class="keyword">const</span> <span class="keyword">enum</span> <a class="code hl_enumeration" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8f">AP_Arming::ArmingChecks</a> <a class="code hl_function" href="lparser_8c.html#a2c856a5873c90f45525cf0d9abebbfde">check</a>, <span class="keywordtype">bool</span> report, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="Printf_8cpp.html#a381d684d94e6e91dee650357e8f02fa8">fmt</a>, ...)<span class="keyword"> const</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <span class="keywordflow">if</span> (!report) {</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    }</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>    <span class="keywordtype">char</span> taggedfmt[MAVLINK_MSG_STATUSTEXT_FIELD_TEXT_LEN+1];</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span> </div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    <span class="comment">// metafmt is wrapped around the passed-in format string to</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    <span class="comment">// prepend &quot;PreArm&quot; or &quot;Arm&quot;, depending on what sorts of checks</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    <span class="comment">// we&#39;re currently doing.</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *metafmt = <span class="stringliteral">&quot;PreArm: %s&quot;</span>;  <span class="comment">// it&#39;s formats all the way down</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Arming.html#acb2759057d97d046e1c211dc538efaf3">running_arming_checks</a>) {</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>        metafmt = <span class="stringliteral">&quot;Arm: %s&quot;</span>;</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    }</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">snprintf</a>(taggedfmt, <span class="keyword">sizeof</span>(taggedfmt), metafmt, <a class="code hl_variable" href="Printf_8cpp.html#a381d684d94e6e91dee650357e8f02fa8">fmt</a>);</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span> </div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span><span class="preprocessor">#if HAL_GCS_ENABLED</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    MAV_SEVERITY severity = MAV_SEVERITY_CRITICAL;</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_function" href="lparser_8c.html#a2c856a5873c90f45525cf0d9abebbfde">check</a>)) {</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>        <span class="comment">// technically should be NOTICE, but will annoy users at that level:</span></div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>        severity = MAV_SEVERITY_DEBUG;</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>    }</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>    va_list arg_list;</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>    va_start(arg_list, <a class="code hl_variable" href="Printf_8cpp.html#a381d684d94e6e91dee650357e8f02fa8">fmt</a>);</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>    <a class="code hl_function" href="GCS_8h.html#ab53f292b698f9a6a3f029dfdbd5a43de">gcs</a>().<a class="code hl_function" href="classGCS.html#a96bea5f4a8234593db645ec80adb36f4">send_textv</a>(severity, taggedfmt, arg_list);</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    va_end(arg_list);</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span><span class="preprocessor">#endif  </span><span class="comment">// HAL_GCS_ENABLED</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>}</div>
</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span> </div>
<div class="foldopen" id="foldopen00260" data-start="{" data-end="}">
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno"><a class="line" href="classAP__Arming.html#a595834866a88fc80eeffb1f1359b5b16">  260</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">AP_Arming::check_failed</a>(<span class="keywordtype">bool</span> report, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="Printf_8cpp.html#a381d684d94e6e91dee650357e8f02fa8">fmt</a>, ...)<span class="keyword"> const</span></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span><span class="preprocessor">#if HAL_GCS_ENABLED</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>    <span class="keywordflow">if</span> (!report) {</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    }</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    <span class="keywordtype">char</span> taggedfmt[MAVLINK_MSG_STATUSTEXT_FIELD_TEXT_LEN+1];</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    <span class="comment">// metafmt is wrapped around the passed-in format string to</span></div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    <span class="comment">// prepend &quot;PreArm&quot; or &quot;Arm&quot;, depending on what sorts of checks</span></div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    <span class="comment">// we&#39;re currently doing.</span></div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *metafmt = <span class="stringliteral">&quot;PreArm: %s&quot;</span>;  <span class="comment">// it&#39;s formats all the way down</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Arming.html#acb2759057d97d046e1c211dc538efaf3">running_arming_checks</a>) {</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>        metafmt = <span class="stringliteral">&quot;Arm: %s&quot;</span>;</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    }</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">snprintf</a>(taggedfmt, <span class="keyword">sizeof</span>(taggedfmt), metafmt, <a class="code hl_variable" href="Printf_8cpp.html#a381d684d94e6e91dee650357e8f02fa8">fmt</a>);</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span> </div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    va_list arg_list;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    va_start(arg_list, <a class="code hl_variable" href="Printf_8cpp.html#a381d684d94e6e91dee650357e8f02fa8">fmt</a>);</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <a class="code hl_function" href="GCS_8h.html#ab53f292b698f9a6a3f029dfdbd5a43de">gcs</a>().<a class="code hl_function" href="classGCS.html#a96bea5f4a8234593db645ec80adb36f4">send_textv</a>(MAV_SEVERITY_CRITICAL, taggedfmt, arg_list);</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    va_end(arg_list);</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span><span class="preprocessor">#endif  </span><span class="comment">// HAL_GCS_ENABLED</span></div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>}</div>
</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span> </div>
<div class="foldopen" id="foldopen00284" data-start="{" data-end="}">
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno"><a class="line" href="classAP__Arming.html#af6f4e5ed936ada30378367cda0ad7710">  284</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#af6f4e5ed936ada30378367cda0ad7710">AP_Arming::barometer_checks</a>(<span class="keywordtype">bool</span> report)</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>{</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span><span class="preprocessor">#ifdef HAL_BARO_ALLOW_INIT_NO_BARO</span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span><span class="preprocessor">#if CONFIG_HAL_BOARD == HAL_BOARD_SITL</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    <span class="keywordflow">if</span> (AP::sitl()-&gt;baro_count == 0) {</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>        <span class="comment">// simulate no baro boards</span></div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    }</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8faa0438a0694c1495b816e73bd506cc7de">ARMING_CHECK_BARO</a>)) {</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>        <span class="keywordtype">char</span> <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>[MAVLINK_MSG_STATUSTEXT_FIELD_TEXT_LEN+1] {};</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespaceAP.html#a8aec57eb0b7a79044cbc1f0ca4b75bcf">AP::baro</a>().arming_checks(<span class="keyword">sizeof</span>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>), <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>)) {</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8faa0438a0694c1495b816e73bd506cc7de">ARMING_CHECK_BARO</a>, report, <span class="stringliteral">&quot;Baro: %s&quot;</span>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>);</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>        }</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>    }</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span> </div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>}</div>
</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span> </div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span><span class="preprocessor">#if AP_AIRSPEED_ENABLED</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a2b7ca6e3c7517feca088b28d45f2fc61">AP_Arming::airspeed_checks</a>(<span class="keywordtype">bool</span> report)</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>{</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8faa3e05ff0fc85ad0996eb66e9ddce0e9b">ARMING_CHECK_AIRSPEED</a>)) {</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>        <span class="keyword">const</span> <a class="code hl_class" href="classAP__Airspeed.html">AP_Airspeed</a> *<a class="code hl_variable" href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a> = <a class="code hl_function" href="classAP__Airspeed.html#af8fe29e897226fc9e3f797c67e4c31fa">AP_Airspeed::get_singleton</a>();</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a> == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>            <span class="comment">// not an airspeed capable vehicle</span></div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>        }</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>        <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code hl_define" href="AP__Airspeed__config_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>; i++) {</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a>-&gt;<a class="code hl_function" href="classAP__Airspeed.html#aa17de10e34d65c132353ddc6373f0e99">enabled</a>(i) &amp;&amp; <a class="code hl_variable" href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a>-&gt;<a class="code hl_function" href="classAP__Airspeed.html#aaf33aa667bfae26a81099a47e41212ce">use</a>(i) &amp;&amp; !<a class="code hl_variable" href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a>-&gt;<a class="code hl_function" href="classAP__Airspeed.html#a1f93ae84c30efc1375765b835004e7a9">healthy</a>(i)) {</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>                <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8faa3e05ff0fc85ad0996eb66e9ddce0e9b">ARMING_CHECK_AIRSPEED</a>, report, <span class="stringliteral">&quot;Airspeed %d not healthy&quot;</span>, i + 1);</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>            }</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>        }</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    }</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span> </div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>}</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span><span class="preprocessor">#endif  </span><span class="comment">// AP_AIRSPEED_ENABLED</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span> </div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span><span class="preprocessor">#if HAL_LOGGING_ENABLED</span></div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a42b683a689bf706a186653bcf3c1d442">AP_Arming::logging_checks</a>(<span class="keywordtype">bool</span> report)</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>{</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3f68bb691cf73037c0eb1c02f65d87a2">ARMING_CHECK_LOGGING</a>)) {</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a>().logging_present()) {</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>            <span class="comment">// Logging is disabled, so nothing to check.</span></div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>        }</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a>().logging_failed()) {</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3f68bb691cf73037c0eb1c02f65d87a2">ARMING_CHECK_LOGGING</a>, report, <span class="stringliteral">&quot;Logging failed&quot;</span>);</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>        }</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a>().CardInserted()) {</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3f68bb691cf73037c0eb1c02f65d87a2">ARMING_CHECK_LOGGING</a>, report, <span class="stringliteral">&quot;No SD card&quot;</span>);</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>        }</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a>().in_log_download()) {</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3f68bb691cf73037c0eb1c02f65d87a2">ARMING_CHECK_LOGGING</a>, report, <span class="stringliteral">&quot;Downloading logs&quot;</span>);</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        }</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    }</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>}</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span><span class="preprocessor">#endif  </span><span class="comment">// HAL_LOGGING_ENABLED</span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span> </div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span><span class="preprocessor">#if AP_INERTIALSENSOR_ENABLED</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span><span class="keywordtype">bool</span> AP_Arming::ins_accels_consistent(<span class="keyword">const</span> <a class="code hl_class" href="classAP__InertialSensor.html">AP_InertialSensor</a> &amp;<a class="code hl_variable" href="ReplayGyroFFT_8cpp.html#a4b91d1711c0d031f33f581540503bc54">ins</a>)</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>{</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    <span class="keyword">const</span> uint32_t now = <a class="code hl_function" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="ReplayGyroFFT_8cpp.html#a4b91d1711c0d031f33f581540503bc54">ins</a>.<a class="code hl_function" href="classAP__InertialSensor.html#ab5fe22e690f68ad3f0676dae9f6c8f73">accels_consistent</a>(<a class="code hl_variable" href="classAP__Arming.html#a980b9e7f07e4aa4c3c1051215e36baff">accel_error_threshold</a>)) {</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>        <span class="comment">// accels are inconsistent:</span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>        <a class="code hl_variable" href="classAP__Arming.html#a733d7e6800d256a5cb23f3e04fbfa854">last_accel_pass_ms</a> = 0;</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    }</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span> </div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Arming.html#a733d7e6800d256a5cb23f3e04fbfa854">last_accel_pass_ms</a> == 0) {</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>        <span class="comment">// we didn&#39;t return false above, so sensors are</span></div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>        <span class="comment">// consistent right now:</span></div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>        <a class="code hl_variable" href="classAP__Arming.html#a733d7e6800d256a5cb23f3e04fbfa854">last_accel_pass_ms</a> = now;</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>    }</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span> </div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <span class="comment">// must pass for at least 10 seconds before we&#39;re considered consistent:</span></div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>    <span class="keywordflow">if</span> (now - <a class="code hl_variable" href="classAP__Arming.html#a733d7e6800d256a5cb23f3e04fbfa854">last_accel_pass_ms</a> &lt; 10000) {</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>    }</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span> </div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>}</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span> </div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span><span class="keywordtype">bool</span> AP_Arming::ins_gyros_consistent(<span class="keyword">const</span> <a class="code hl_class" href="classAP__InertialSensor.html">AP_InertialSensor</a> &amp;<a class="code hl_variable" href="ReplayGyroFFT_8cpp.html#a4b91d1711c0d031f33f581540503bc54">ins</a>)</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>{</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    <span class="keyword">const</span> uint32_t now = <a class="code hl_function" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    <span class="comment">// allow for up to 5 degrees/s difference</span></div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="ReplayGyroFFT_8cpp.html#a4b91d1711c0d031f33f581540503bc54">ins</a>.<a class="code hl_function" href="classAP__InertialSensor.html#aea6de3a19a12f95e9420b965f50fda06">gyros_consistent</a>(5)) {</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>        <span class="comment">// gyros are inconsistent:</span></div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>        <a class="code hl_variable" href="classAP__Arming.html#a4b5c929bdb93614513030d2f91f5b882">last_gyro_pass_ms</a> = 0;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>    }</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span> </div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    <span class="comment">// we didn&#39;t return false above, so sensors are</span></div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    <span class="comment">// consistent right now:</span></div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Arming.html#a4b5c929bdb93614513030d2f91f5b882">last_gyro_pass_ms</a> == 0) {</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>        <a class="code hl_variable" href="classAP__Arming.html#a4b5c929bdb93614513030d2f91f5b882">last_gyro_pass_ms</a> = now;</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>    }</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span> </div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    <span class="comment">// must pass for at least 10 seconds before we&#39;re considered consistent:</span></div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    <span class="keywordflow">if</span> (now - <a class="code hl_variable" href="classAP__Arming.html#a4b5c929bdb93614513030d2f91f5b882">last_gyro_pass_ms</a> &lt; 10000) {</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    }</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span> </div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>}</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span> </div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span><span class="keywordtype">bool</span> AP_Arming::ins_checks(<span class="keywordtype">bool</span> report)</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>{</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa8ea1cb7b6b88513d1f995a4080de33f0">ARMING_CHECK_INS</a>)) {</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>        <span class="keyword">const</span> <a class="code hl_class" href="classAP__InertialSensor.html">AP_InertialSensor</a> &amp;<a class="code hl_variable" href="ReplayGyroFFT_8cpp.html#a4b91d1711c0d031f33f581540503bc54">ins</a> = <a class="code hl_function" href="namespaceAP.html#ac571aa5a2ef71b7f4b4b2bfa09143fb9">AP::ins</a>();</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="ReplayGyroFFT_8cpp.html#a4b91d1711c0d031f33f581540503bc54">ins</a>.<a class="code hl_function" href="classAP__InertialSensor.html#a8c272873ffbbafcaa90d5a4686c795ca">get_gyro_health_all</a>()) {</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa8ea1cb7b6b88513d1f995a4080de33f0">ARMING_CHECK_INS</a>, report, <span class="stringliteral">&quot;Gyros not healthy&quot;</span>);</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>        }</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="ReplayGyroFFT_8cpp.html#a4b91d1711c0d031f33f581540503bc54">ins</a>.<a class="code hl_function" href="classAP__InertialSensor.html#ab2625e619aa917ed3b1138c9c9c2b747">gyro_calibrated_ok_all</a>()) {</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa8ea1cb7b6b88513d1f995a4080de33f0">ARMING_CHECK_INS</a>, report, <span class="stringliteral">&quot;Gyros not calibrated&quot;</span>);</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>        }</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="ReplayGyroFFT_8cpp.html#a4b91d1711c0d031f33f581540503bc54">ins</a>.<a class="code hl_function" href="classAP__InertialSensor.html#a8d8b31abadf23ccaec838e223ad678b2">get_accel_health_all</a>()) {</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa8ea1cb7b6b88513d1f995a4080de33f0">ARMING_CHECK_INS</a>, report, <span class="stringliteral">&quot;Accels not healthy&quot;</span>);</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>        }</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="ReplayGyroFFT_8cpp.html#a4b91d1711c0d031f33f581540503bc54">ins</a>.<a class="code hl_function" href="classAP__InertialSensor.html#a5ae4308b77385d3e576d29c78e8e3346">accel_calibrated_ok_all</a>()) {</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa8ea1cb7b6b88513d1f995a4080de33f0">ARMING_CHECK_INS</a>, report, <span class="stringliteral">&quot;3D Accel calibration needed&quot;</span>);</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>        }</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>        </div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>        <span class="comment">//check if accelerometers have calibrated and require reboot</span></div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="ReplayGyroFFT_8cpp.html#a4b91d1711c0d031f33f581540503bc54">ins</a>.<a class="code hl_function" href="classAP__InertialSensor.html#a4759fe7cc3ba2446c2e603cf32ec519b">accel_cal_requires_reboot</a>()) {</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa8ea1cb7b6b88513d1f995a4080de33f0">ARMING_CHECK_INS</a>, report, <span class="stringliteral">&quot;Accels calibrated requires reboot&quot;</span>);</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>        }</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span> </div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>        <span class="comment">// check all accelerometers point in roughly same direction</span></div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>        <span class="keywordflow">if</span> (!ins_accels_consistent(<a class="code hl_variable" href="ReplayGyroFFT_8cpp.html#a4b91d1711c0d031f33f581540503bc54">ins</a>)) {</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa8ea1cb7b6b88513d1f995a4080de33f0">ARMING_CHECK_INS</a>, report, <span class="stringliteral">&quot;Accels inconsistent&quot;</span>);</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>        }</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span> </div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>        <span class="comment">// check all gyros are giving consistent readings</span></div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>        <span class="keywordflow">if</span> (!ins_gyros_consistent(<a class="code hl_variable" href="ReplayGyroFFT_8cpp.html#a4b91d1711c0d031f33f581540503bc54">ins</a>)) {</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa8ea1cb7b6b88513d1f995a4080de33f0">ARMING_CHECK_INS</a>, report, <span class="stringliteral">&quot;Gyros inconsistent&quot;</span>);</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>        }</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span> </div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>        <span class="comment">// no arming while doing temp cal</span></div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="ReplayGyroFFT_8cpp.html#a4b91d1711c0d031f33f581540503bc54">ins</a>.<a class="code hl_function" href="classAP__InertialSensor.html#a6c82f01f496caca80f2c0bdde3d204e0">temperature_cal_running</a>()) {</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa8ea1cb7b6b88513d1f995a4080de33f0">ARMING_CHECK_INS</a>, report, <span class="stringliteral">&quot;temperature cal running&quot;</span>);</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>        }</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span> </div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span><span class="preprocessor">#if AP_INERTIALSENSOR_BATCHSAMPLER_ENABLED</span></div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>        <span class="comment">// If Batch sampling enabled it must be initialized</span></div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="ReplayGyroFFT_8cpp.html#a4b91d1711c0d031f33f581540503bc54">ins</a>.batchsampler.enabled() &amp;&amp; !<a class="code hl_variable" href="ReplayGyroFFT_8cpp.html#a4b91d1711c0d031f33f581540503bc54">ins</a>.batchsampler.is_initialised()) {</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa8ea1cb7b6b88513d1f995a4080de33f0">ARMING_CHECK_INS</a>, report, <span class="stringliteral">&quot;Batch sampling requires reboot&quot;</span>);</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>        }</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span> </div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>    }</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span> </div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span><span class="preprocessor">#if HAL_GYROFFT_ENABLED</span></div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>    <span class="comment">// gyros are healthy so check the FFT</span></div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8faa47c315c82f8129a7f3c89fe502cb40e">ARMING_CHECK_FFT</a>)) {</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>        <span class="comment">// Check that the noise analyser works</span></div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>        AP_GyroFFT *fft = AP::fft();</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span> </div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>        <span class="keywordtype">char</span> fail_msg[MAVLINK_MSG_STATUSTEXT_FIELD_TEXT_LEN+1];</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>        <span class="keywordflow">if</span> (fft != <span class="keyword">nullptr</span> &amp;&amp; !fft-&gt;pre_arm_check(fail_msg, <a class="code hl_define" href="AP__Common_8h.html#a121caf32c5b5d704ef3453f0885a9ea5">ARRAY_SIZE</a>(fail_msg))) {</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa8ea1cb7b6b88513d1f995a4080de33f0">ARMING_CHECK_INS</a>, report, <span class="stringliteral">&quot;%s&quot;</span>, fail_msg);</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>        }</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>    }</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span> </div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>}</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span><span class="preprocessor">#endif </span><span class="comment">// AP_INERTIALSENSOR_ENABLED</span></div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span> </div>
<div class="foldopen" id="foldopen00473" data-start="{" data-end="}">
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno"><a class="line" href="classAP__Arming.html#a24332b3f5e2e233914bce12e69ae9564">  473</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a24332b3f5e2e233914bce12e69ae9564">AP_Arming::compass_checks</a>(<span class="keywordtype">bool</span> report)</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>{</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>    <a class="code hl_class" href="classCompass.html">Compass</a> &amp;_compass = <a class="code hl_function" href="namespaceAP.html#ab9d0bcbec954b6c20abd8e13e6de7356">AP::compass</a>();</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span> </div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span><span class="preprocessor">#if COMPASS_CAL_ENABLED</span></div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>    <span class="comment">// check if compass is calibrating</span></div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>    <span class="keywordflow">if</span> (_compass.<a class="code hl_function" href="classCompass.html#ac420d801d48325f32d2db6d085b7734d">is_calibrating</a>()) {</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(report, <span class="stringliteral">&quot;Compass calibration running&quot;</span>);</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>    }</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span> </div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>    <span class="comment">// check if compass has calibrated and requires reboot</span></div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>    <span class="keywordflow">if</span> (_compass.<a class="code hl_function" href="classCompass.html#a5d810013171d3a686a487686efe9e6f6">compass_cal_requires_reboot</a>()) {</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(report, <span class="stringliteral">&quot;Compass calibrated requires reboot&quot;</span>);</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>    }</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span> </div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa598ac7301cc228e36796c4c08fe1791f">ARMING_CHECK_COMPASS</a>)) {</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span> </div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>        <span class="comment">// avoid Compass::use_for_yaw(void) as it implicitly calls healthy() which can</span></div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>        <span class="comment">// incorrectly skip the remaining checks, pass the primary instance directly</span></div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>        <span class="keywordflow">if</span> (!_compass.<a class="code hl_function" href="classCompass.html#af5c3da7e49f681c1d7a0354b91eba7ba">use_for_yaw</a>(0)) {</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>            <span class="comment">// compass use is disabled</span></div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>        }</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span> </div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>        <span class="keywordflow">if</span> (!_compass.<a class="code hl_function" href="classCompass.html#a2e508ee3e4651ef9bb60591d2e2f1618">healthy</a>()) {</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa598ac7301cc228e36796c4c08fe1791f">ARMING_CHECK_COMPASS</a>, report, <span class="stringliteral">&quot;Compass not healthy&quot;</span>);</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>        }</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>        <span class="comment">// check compass learning is on or offsets have been set</span></div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span><span class="preprocessor">#if !APM_BUILD_COPTER_OR_HELI &amp;&amp; !APM_BUILD_TYPE(APM_BUILD_Blimp)</span></div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>        <span class="comment">// check compass offsets have been set if learning is off</span></div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>        <span class="comment">// copter and blimp always require configured compasses</span></div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>        <span class="keywordflow">if</span> (!_compass.<a class="code hl_function" href="classCompass.html#ae91df8c89c0b482dbc61722ad7c09b24">learn_offsets_enabled</a>())</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>        {</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>            <span class="keywordtype">char</span> failure_msg[50] = {};</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>            <span class="keywordflow">if</span> (!_compass.<a class="code hl_function" href="classCompass.html#a59622e8195dc29485f24d7c27a9cf7f0">configured</a>(failure_msg, <a class="code hl_define" href="AP__Common_8h.html#a121caf32c5b5d704ef3453f0885a9ea5">ARRAY_SIZE</a>(failure_msg))) {</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>                <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa598ac7301cc228e36796c4c08fe1791f">ARMING_CHECK_COMPASS</a>, report, <span class="stringliteral">&quot;%s&quot;</span>, failure_msg);</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>            }</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>        }</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span> </div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>        <span class="comment">// check for unreasonable compass offsets</span></div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>        <span class="keyword">const</span> <a class="code hl_class" href="classVector3.html">Vector3f</a> offsets = _compass.<a class="code hl_function" href="classCompass.html#a1c69d53dbf577b959de0f6bbfac1c537">get_offsets</a>();</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>        <span class="keywordflow">if</span> (offsets.<a class="code hl_function" href="classVector3.html#aaa6419ecd36a969d2eaecd9a1b1edd12">length</a>() &gt; _compass.<a class="code hl_function" href="classCompass.html#aa64f4eeb78e614dfbcba94149ea532d8">get_offsets_max</a>()) {</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa598ac7301cc228e36796c4c08fe1791f">ARMING_CHECK_COMPASS</a>, report, <span class="stringliteral">&quot;Compass offsets too high&quot;</span>);</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>        }</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span> </div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>        <span class="comment">// check for unreasonable mag field length</span></div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> mag_field = _compass.<a class="code hl_function" href="classCompass.html#af8113e88f234554e060c435dba22bc70">get_field</a>().<a class="code hl_function" href="classVector3.html#aaa6419ecd36a969d2eaecd9a1b1edd12">length</a>();</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>        <span class="keywordflow">if</span> (mag_field &gt; <a class="code hl_define" href="AP__Arming_8cpp.html#a18ffc96e3eddbd769293fa440ea69d43">AP_ARMING_COMPASS_MAGFIELD_MAX</a> || mag_field &lt; <a class="code hl_define" href="AP__Arming_8cpp.html#a47b24d767504457289efe65ade4f5689">AP_ARMING_COMPASS_MAGFIELD_MIN</a>) {</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa598ac7301cc228e36796c4c08fe1791f">ARMING_CHECK_COMPASS</a>, report, <span class="stringliteral">&quot;Check mag field: %4.0f, max %d, min %d&quot;</span>, (<span class="keywordtype">double</span>)mag_field, <a class="code hl_define" href="AP__Arming_8cpp.html#a18ffc96e3eddbd769293fa440ea69d43">AP_ARMING_COMPASS_MAGFIELD_MAX</a>, <a class="code hl_define" href="AP__Arming_8cpp.html#a47b24d767504457289efe65ade4f5689">AP_ARMING_COMPASS_MAGFIELD_MIN</a>);</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>        }</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span> </div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>        <span class="comment">// check all compasses point in roughly same direction</span></div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>        <span class="keywordflow">if</span> (!_compass.<a class="code hl_function" href="classCompass.html#af8d0469972b7da6464a0d91e20715082">consistent</a>()) {</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa598ac7301cc228e36796c4c08fe1791f">ARMING_CHECK_COMPASS</a>, report, <span class="stringliteral">&quot;Compasses inconsistent&quot;</span>);</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>        }</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span> </div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span><span class="preprocessor">#if AP_AHRS_ENABLED</span></div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>        <span class="comment">// if ahrs is using compass and we have location, check mag field versus expected earth magnetic model</span></div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>        <a class="code hl_class" href="classLocation.html">Location</a> ahrs_loc;</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>        <a class="code hl_class" href="classAP__AHRS.html">AP_AHRS</a> &amp;<a class="code hl_variable" href="AHRS__Test_8cpp.html#a1a50ac0ea0e2f27db5b95e9a738d41dc">ahrs</a> = <a class="code hl_function" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>();</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>        <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classAP__Arming.html#a959121bef3d2b221f8920a32b476ff35">magfield_error_threshold</a> &gt; 0) &amp;&amp; <a class="code hl_variable" href="AHRS__Test_8cpp.html#a1a50ac0ea0e2f27db5b95e9a738d41dc">ahrs</a>.use_compass() &amp;&amp; <a class="code hl_variable" href="AHRS__Test_8cpp.html#a1a50ac0ea0e2f27db5b95e9a738d41dc">ahrs</a>.get_location(ahrs_loc)) {</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>            <span class="keyword">const</span> <a class="code hl_class" href="classVector3.html">Vector3f</a> veh_mag_field_ef = <a class="code hl_variable" href="AHRS__Test_8cpp.html#a1a50ac0ea0e2f27db5b95e9a738d41dc">ahrs</a>.get_rotation_body_to_ned() * _compass.<a class="code hl_function" href="classCompass.html#af8113e88f234554e060c435dba22bc70">get_field</a>();</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>            <span class="keyword">const</span> <a class="code hl_class" href="classVector3.html">Vector3f</a> earth_field_mgauss = <a class="code hl_function" href="classAP__Declination.html#ae3d6b9d48d170bd23963ebdee22110b7">AP_Declination::get_earth_field_ga</a>(ahrs_loc) * 1000.0;</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>            <span class="keyword">const</span> <a class="code hl_class" href="classVector3.html">Vector3f</a> diff_mgauss = veh_mag_field_ef - earth_field_mgauss;</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="monocypher_8cpp.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(fabsf(diff_mgauss.<a class="code hl_variable" href="classVector3.html#a1a0f7e168c71ca798099f0ba8a444244">x</a>), fabsf(diff_mgauss.<a class="code hl_variable" href="classVector3.html#a561df88b28e106e337a25bb86554a569">y</a>)) &gt; <a class="code hl_variable" href="classAP__Arming.html#a959121bef3d2b221f8920a32b476ff35">magfield_error_threshold</a>) {</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>                <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa598ac7301cc228e36796c4c08fe1791f">ARMING_CHECK_COMPASS</a>, report, <span class="stringliteral">&quot;Check mag field (xy diff:%.0f&gt;%d)&quot;</span>,</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>                             (<span class="keywordtype">double</span>)<a class="code hl_define" href="monocypher_8cpp.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(fabsf(diff_mgauss.<a class="code hl_variable" href="classVector3.html#a1a0f7e168c71ca798099f0ba8a444244">x</a>), (<span class="keywordtype">double</span>)fabsf(diff_mgauss.<a class="code hl_variable" href="classVector3.html#a561df88b28e106e337a25bb86554a569">y</a>)), (<span class="keywordtype">int</span>)<a class="code hl_variable" href="classAP__Arming.html#a959121bef3d2b221f8920a32b476ff35">magfield_error_threshold</a>);</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>            }</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>            <span class="keywordflow">if</span> (fabsf(diff_mgauss.<a class="code hl_variable" href="classVector3.html#a1a0f7e168c71ca798099f0ba8a444244">x</a>) &gt; <a class="code hl_variable" href="classAP__Arming.html#a959121bef3d2b221f8920a32b476ff35">magfield_error_threshold</a>*2.0) {</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>                <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa598ac7301cc228e36796c4c08fe1791f">ARMING_CHECK_COMPASS</a>, report, <span class="stringliteral">&quot;Check mag field (z diff:%.0f&gt;%d)&quot;</span>,</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>                             (<span class="keywordtype">double</span>)fabsf(diff_mgauss.<a class="code hl_variable" href="classVector3.html#ab3e7f5401dd6e951978bfa746809f74f">z</a>), (<span class="keywordtype">int</span>)<a class="code hl_variable" href="classAP__Arming.html#a959121bef3d2b221f8920a32b476ff35">magfield_error_threshold</a>*2);</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>            }           </div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>        }</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span><span class="preprocessor">#endif  </span><span class="comment">// AP_AHRS_ENABLED</span></div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>    }</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span> </div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>}</div>
</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span> </div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span><span class="preprocessor">#if AP_GPS_ENABLED</span></div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#ae5be2c08d3fc6a22d3ab2135a49c3ff6">AP_Arming::gps_checks</a>(<span class="keywordtype">bool</span> report)</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>{</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>    <span class="keyword">const</span> <a class="code hl_class" href="classAP__GPS.html">AP_GPS</a> &amp;<a class="code hl_variable" href="GPS__AUTO__test_8cpp.html#a962e3f0f8682f6dedb5a001a70bdd65e">gps</a> = <a class="code hl_function" href="namespaceAP.html#ae6eeec356455220f913e47e323057cd5">AP::gps</a>();</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fae43feba2f7082d4bb16685833beb7789">ARMING_CHECK_GPS</a>)) {</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span> </div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>        <span class="comment">// Any failure messages from GPS backends</span></div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>        <span class="keywordtype">char</span> failure_msg[50] = {};</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespaceAP.html#ae6eeec356455220f913e47e323057cd5">AP::gps</a>().backends_healthy(failure_msg, <a class="code hl_define" href="AP__Common_8h.html#a121caf32c5b5d704ef3453f0885a9ea5">ARRAY_SIZE</a>(failure_msg))) {</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>            <span class="keywordflow">if</span> (failure_msg[0] != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>                <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fae43feba2f7082d4bb16685833beb7789">ARMING_CHECK_GPS</a>, report, <span class="stringliteral">&quot;%s&quot;</span>, failure_msg);</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>            }</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>        }</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span> </div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>        <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; <a class="code hl_variable" href="GPS__AUTO__test_8cpp.html#a962e3f0f8682f6dedb5a001a70bdd65e">gps</a>.<a class="code hl_function" href="classAP__GPS.html#a3d0a0e530c963bb5b7ffaf4eb74faef2">num_sensors</a>(); i++) {</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span><span class="preprocessor">#if defined(GPS_BLENDED_INSTANCE)</span></div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>            <span class="keywordflow">if</span> ((i != <a class="code hl_define" href="AP__GPS_8h.html#a2839bf7ed0174a57ff427a229c04e8c6">GPS_BLENDED_INSTANCE</a>) &amp;&amp;</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>#<span class="keywordflow">else</span></div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>            <span class="keywordflow">if</span> (</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>#endif</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>                    (<a class="code hl_variable" href="GPS__AUTO__test_8cpp.html#a962e3f0f8682f6dedb5a001a70bdd65e">gps</a>.<a class="code hl_function" href="classAP__GPS.html#a0101b0a077933c5bcbb15a6d63a03d07">get_type</a>(i) == <a class="code hl_enumvalue" href="classAP__GPS.html#ae4b5ac77aca03dd3d3f327f016c7e1e6acb925988f6661c9552b576d7078f8ca1">AP_GPS::GPS_Type::GPS_TYPE_NONE</a>)) {</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>                if (gps.primary_sensor() == i) {</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>                    check_failed(ARMING_CHECK_GPS, report, <span class="stringliteral">&quot;GPS %i: primary but TYPE 0&quot;</span>, i+1);</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>                    return false;</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>                }</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>            }</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span> </div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>            <span class="comment">//GPS OK?</span></div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="GPS__AUTO__test_8cpp.html#a962e3f0f8682f6dedb5a001a70bdd65e">gps</a>.<a class="code hl_function" href="classAP__GPS.html#ac22b61d2e6cf0b6ff647173ea336de01">status</a>(i) &lt; <a class="code hl_enumvalue" href="classAP__GPS.html#a7409121ce557236dce2fd541309af5fca3ea1cd30c63cf65db4a124bcd4b9fbdb">AP_GPS::GPS_OK_FIX_3D</a>) {</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>                <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fae43feba2f7082d4bb16685833beb7789">ARMING_CHECK_GPS</a>, report, <span class="stringliteral">&quot;GPS %i: Bad fix&quot;</span>, i+1);</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>            }</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span> </div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>            <span class="comment">//GPS update rate acceptable</span></div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="GPS__AUTO__test_8cpp.html#a962e3f0f8682f6dedb5a001a70bdd65e">gps</a>.<a class="code hl_function" href="classAP__GPS.html#a7c289e343fd9873111accc9bfa75da47">is_healthy</a>(i)) {</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>                <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fae43feba2f7082d4bb16685833beb7789">ARMING_CHECK_GPS</a>, report, <span class="stringliteral">&quot;GPS %i: not healthy&quot;</span>, i+1);</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>            }</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>        }</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span> </div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>().home_is_set()) {</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fae43feba2f7082d4bb16685833beb7789">ARMING_CHECK_GPS</a>, report, <span class="stringliteral">&quot;AHRS: waiting for home&quot;</span>);</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>        }</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span> </div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>        <span class="comment">// check GPSs are within 50m of each other and that blending is healthy</span></div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>        <span class="keywordtype">float</span> distance_m;</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="GPS__AUTO__test_8cpp.html#a962e3f0f8682f6dedb5a001a70bdd65e">gps</a>.<a class="code hl_function" href="classAP__GPS.html#ac2c5a58b9aa31a268047ce499f61f96c">all_consistent</a>(distance_m)) {</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fae43feba2f7082d4bb16685833beb7789">ARMING_CHECK_GPS</a>, report, <span class="stringliteral">&quot;GPS positions differ by %4.1fm&quot;</span>,</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>                         (<span class="keywordtype">double</span>)distance_m);</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>        }</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span><span class="preprocessor">#if defined(GPS_BLENDED_INSTANCE)</span></div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="GPS__AUTO__test_8cpp.html#a962e3f0f8682f6dedb5a001a70bdd65e">gps</a>.<a class="code hl_function" href="classAP__GPS.html#a6534cf5404afbe11d4c7edf06813ce4a">blend_health_check</a>()) {</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fae43feba2f7082d4bb16685833beb7789">ARMING_CHECK_GPS</a>, report, <span class="stringliteral">&quot;GPS blending unhealthy&quot;</span>);</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>        }</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span> </div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>        <span class="comment">// check AHRS and GPS are within 10m of each other</span></div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="GPS__AUTO__test_8cpp.html#a962e3f0f8682f6dedb5a001a70bdd65e">gps</a>.<a class="code hl_function" href="classAP__GPS.html#a3d0a0e530c963bb5b7ffaf4eb74faef2">num_sensors</a>() &gt; 0) {</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>            <span class="keyword">const</span> <a class="code hl_class" href="classLocation.html">Location</a> gps_loc = <a class="code hl_variable" href="GPS__AUTO__test_8cpp.html#a962e3f0f8682f6dedb5a001a70bdd65e">gps</a>.<a class="code hl_function" href="classAP__GPS.html#ab1da3f2cdc163164cfee43b3248821ed">location</a>();</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>            <a class="code hl_class" href="classLocation.html">Location</a> ahrs_loc;</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>().get_location(ahrs_loc)) {</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="examples_2location_2location_8cpp.html#a06f14a9abd47b91465f895d5259cdc1b">distance</a> = gps_loc.<a class="code hl_function" href="classLocation.html#a4365e0555609b7ad249a9cd6f1f828c2">get_distance</a>(ahrs_loc);</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="examples_2location_2location_8cpp.html#a06f14a9abd47b91465f895d5259cdc1b">distance</a> &gt; <a class="code hl_define" href="AP__Arming_8cpp.html#a83161775f80645c1eef02ef780db8608">AP_ARMING_AHRS_GPS_ERROR_MAX</a>) {</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>                    <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fae43feba2f7082d4bb16685833beb7789">ARMING_CHECK_GPS</a>, report, <span class="stringliteral">&quot;GPS and AHRS differ by %4.1fm&quot;</span>, (<span class="keywordtype">double</span>)<a class="code hl_variable" href="examples_2location_2location_8cpp.html#a06f14a9abd47b91465f895d5259cdc1b">distance</a>);</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>                }</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>            }</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>        }</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>    }</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span> </div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>    <span class="keywordflow">if</span> (check_enabled(ARMING_CHECK_GPS_CONFIG)) {</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>        uint8_t first_unconfigured;</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="GPS__AUTO__test_8cpp.html#a962e3f0f8682f6dedb5a001a70bdd65e">gps</a>.<a class="code hl_function" href="classAP__GPS.html#af7e7cb028cf6709b5df730e47ec65057">first_unconfigured_gps</a>(first_unconfigured)) {</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>            check_failed(ARMING_CHECK_GPS_CONFIG,</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>                         report,</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>                         <span class="stringliteral">&quot;GPS %d still configuring this GPS&quot;</span>,</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>                         first_unconfigured + 1);</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>            <span class="keywordflow">if</span> (report) {</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>                <a class="code hl_variable" href="GPS__AUTO__test_8cpp.html#a962e3f0f8682f6dedb5a001a70bdd65e">gps</a>.<a class="code hl_function" href="classAP__GPS.html#a24ab7def0009b4aa846163e9b9704338">broadcast_first_configuration_failure_reason</a>();</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>            }</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>        }</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>    }</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span> </div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>}</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span><span class="preprocessor">#endif  </span><span class="comment">// AP_GPS_ENABLED</span></div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span> </div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span><span class="preprocessor">#if AP_BATTERY_ENABLED</span></div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a03bd378dc54cf6f8624cac6c2e59aa79">AP_Arming::battery_checks</a>(<span class="keywordtype">bool</span> report)</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>{</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa8ef0ca98b37c887f9f845dcf8fd23f1d">ARMING_CHECK_BATTERY</a>)) {</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span> </div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>        <span class="keywordtype">char</span> <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>[MAVLINK_MSG_STATUSTEXT_FIELD_TEXT_LEN+1] {};</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespaceAP.html#aac3bcb68bcccad29cc493b878aef055e">AP::battery</a>().arming_checks(<span class="keyword">sizeof</span>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>), <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>)) {</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa8ef0ca98b37c887f9f845dcf8fd23f1d">ARMING_CHECK_BATTERY</a>, report, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>);</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>        }</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>     }</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>}</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span><span class="preprocessor">#endif  </span><span class="comment">// AP_BATTERY_ENABLED</span></div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span> </div>
<div class="foldopen" id="foldopen00671" data-start="{" data-end="}">
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno"><a class="line" href="classAP__Arming.html#a66dd88cc4605d1c91c655b2959274b5c">  671</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a66dd88cc4605d1c91c655b2959274b5c">AP_Arming::hardware_safety_check</a>(<span class="keywordtype">bool</span> report) </div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>{</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fac409fb181766ba38bebd657939a677df">ARMING_CHECK_SWITCH</a>)) {</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span> </div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>      <span class="comment">// check if safety switch has been pushed</span></div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#a9cd8bcd13d4c3c74c665b0702f86451b">safety_switch_state</a>() == <a class="code hl_enumvalue" href="classAP__HAL_1_1Util.html#a4b04d344ba779364624427a51ea3669fa0bdaddc5635bc9fa38649e9bf6f63735">AP_HAL::Util::SAFETY_DISARMED</a>) {</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>          <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fac409fb181766ba38bebd657939a677df">ARMING_CHECK_SWITCH</a>, report, <span class="stringliteral">&quot;Hardware safety switch&quot;</span>);</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>      }</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>    }</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span> </div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>}</div>
</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span> </div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span><span class="preprocessor">#if AP_RC_CHANNEL_ENABLED</span></div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a4923dd9579bc265a0fa7d41ca9c54eef">AP_Arming::rc_arm_checks</a>(<a class="code hl_enumeration" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007">AP_Arming::Method</a> <a class="code hl_struct" href="structmethod.html">method</a>)</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>{</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>    <span class="comment">// don&#39;t check the trims if we are in a failsafe</span></div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="RC__Channel_8h.html#abe35aea6177a1cdf87a22af5c263bb89">rc</a>().has_valid_input()) {</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>    }</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span> </div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>    <span class="comment">// only check if we&#39;ve received some form of input within the last second</span></div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>    <span class="comment">// this is a protection against a vehicle having never enabled an input</span></div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    uint32_t last_input_ms = <a class="code hl_function" href="RC__Channel_8h.html#abe35aea6177a1cdf87a22af5c263bb89">rc</a>().<a class="code hl_function" href="classRC__Channels.html#a603cccf91819ee6a6ad595ea2cfce407">last_input_ms</a>();</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>    <span class="keywordflow">if</span> ((last_input_ms == 0) || ((<a class="code hl_function" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>() - last_input_ms) &gt; 1000)) {</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>    }</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span> </div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>    <span class="keywordtype">bool</span> check_passed = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>    <span class="comment">// ensure all rc channels have different functions</span></div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="RC__Channel_8h.html#abe35aea6177a1cdf87a22af5c263bb89">rc</a>().duplicate_options_exist()) {</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa0698f127d9771163cb0ab7981689a39b">ARMING_CHECK_PARAMETERS</a>, <span class="keyword">true</span>, <span class="stringliteral">&quot;Duplicate Aux Switch Options&quot;</span>);</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>        check_passed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>    }</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="RC__Channel_8h.html#abe35aea6177a1cdf87a22af5c263bb89">rc</a>().flight_mode_channel_conflicts_with_rc_option()) {</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa0698f127d9771163cb0ab7981689a39b">ARMING_CHECK_PARAMETERS</a>, <span class="keyword">true</span>, <span class="stringliteral">&quot;Mode channel and RC%d_OPTION conflict&quot;</span>, <a class="code hl_function" href="RC__Channel_8h.html#abe35aea6177a1cdf87a22af5c263bb89">rc</a>().flight_mode_channel_number());</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>        check_passed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    }</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>    <span class="keyword">const</span> <a class="code hl_class" href="classRCMapper.html">RCMapper</a> * <a class="code hl_function" href="namespaceAP.html#a548828568332dd48e9fea7e02406961a">rcmap</a> = <a class="code hl_function" href="namespaceAP.html#a548828568332dd48e9fea7e02406961a">AP::rcmap</a>();</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>    <span class="keywordflow">if</span> (rcmap != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="RC__Channel_8h.html#abe35aea6177a1cdf87a22af5c263bb89">rc</a>().option_is_enabled(<a class="code hl_enumvalue" href="classRC__Channels.html#af3ea8216b219df63591e88ee4827e071af7ce03178f4a002feb0415a5fafdbd3e">RC_Channels::Option::ARMING_SKIP_CHECK_RPY</a>)) {</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> *names[3] = {<span class="stringliteral">&quot;Roll&quot;</span>, <span class="stringliteral">&quot;Pitch&quot;</span>, <span class="stringliteral">&quot;Yaw&quot;</span>};</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>            <span class="keyword">const</span> uint8_t <a class="code hl_variable" href="srxl_8cpp.html#ada09a2691ec6c7ab346ff7a16e07684a">channels</a>[3] = {<a class="code hl_function" href="namespaceAP.html#a548828568332dd48e9fea7e02406961a">rcmap</a>-&gt;<a class="code hl_function" href="classRCMapper.html#acda249daca389819714744098367e7d2">roll</a>(), <a class="code hl_function" href="namespaceAP.html#a548828568332dd48e9fea7e02406961a">rcmap</a>-&gt;<a class="code hl_function" href="classRCMapper.html#ac4f16f445a12f375d2db825107fb6cca">pitch</a>(), <a class="code hl_function" href="namespaceAP.html#a548828568332dd48e9fea7e02406961a">rcmap</a>-&gt;<a class="code hl_function" href="classRCMapper.html#aa3928094f00c755938d9daa02596aad8">yaw</a>()};</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>            <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; <a class="code hl_define" href="AP__Common_8h.html#a121caf32c5b5d704ef3453f0885a9ea5">ARRAY_SIZE</a>(<a class="code hl_variable" href="srxl_8cpp.html#ada09a2691ec6c7ab346ff7a16e07684a">channels</a>); i++) {</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>                <span class="keyword">const</span> <a class="code hl_class" href="classRC__Channel.html">RC_Channel</a> *c = <a class="code hl_function" href="RC__Channel_8h.html#abe35aea6177a1cdf87a22af5c263bb89">rc</a>().<a class="code hl_function" href="classRC__Channels.html#a3736f2167041c3930941f66c73ec7d1d">channel</a>(<a class="code hl_variable" href="srxl_8cpp.html#ada09a2691ec6c7ab346ff7a16e07684a">channels</a>[i] - 1);</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>                <span class="keywordflow">if</span> (c == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>                }</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>                <span class="keywordflow">if</span> (c-&gt;<a class="code hl_function" href="classRC__Channel.html#a0ab5f98f5d0bf4afc3f8a55591303e79">get_control_in</a>() != 0) {</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>                    <span class="keywordflow">if</span> ((<a class="code hl_struct" href="structmethod.html">method</a> != <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007aed4c028230c0c7177604285a4a7d4fca">Method::RUDDER</a>) || (c != <a class="code hl_function" href="RC__Channel_8h.html#abe35aea6177a1cdf87a22af5c263bb89">rc</a>().get_arming_channel())) { <span class="comment">// ignore the yaw input channel if rudder arming</span></div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>                        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa32257c8f0eaeb3b7db2572fbaca0cd70">ARMING_CHECK_RC</a>, <span class="keyword">true</span>, <span class="stringliteral">&quot;%s (RC%d) is not neutral&quot;</span>, names[i], <a class="code hl_variable" href="srxl_8cpp.html#ada09a2691ec6c7ab346ff7a16e07684a">channels</a>[i]);</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>                        check_passed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>                    }</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>                }</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>            }</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>        }</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span> </div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>        <span class="comment">// if throttle check is enabled, require zero input</span></div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="RC__Channel_8h.html#abe35aea6177a1cdf87a22af5c263bb89">rc</a>().arming_check_throttle()) {</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>            <a class="code hl_class" href="classRC__Channel.html">RC_Channel</a> *c = <a class="code hl_function" href="RC__Channel_8h.html#abe35aea6177a1cdf87a22af5c263bb89">rc</a>().<a class="code hl_function" href="classRC__Channels.html#a3736f2167041c3930941f66c73ec7d1d">channel</a>(<a class="code hl_function" href="namespaceAP.html#a548828568332dd48e9fea7e02406961a">rcmap</a>-&gt;<a class="code hl_function" href="classRCMapper.html#abefe47a36d4b98833aca103937d46d9e">throttle</a>() - 1);</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>            <span class="keywordflow">if</span> (c != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>                <span class="keywordflow">if</span> (c-&gt;<a class="code hl_function" href="classRC__Channel.html#a0ab5f98f5d0bf4afc3f8a55591303e79">get_control_in</a>() != 0) {</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>                    <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa32257c8f0eaeb3b7db2572fbaca0cd70">ARMING_CHECK_RC</a>, <span class="keyword">true</span>, <span class="stringliteral">&quot;Throttle (RC%d) is not neutral&quot;</span>, <a class="code hl_function" href="namespaceAP.html#a548828568332dd48e9fea7e02406961a">rcmap</a>-&gt;<a class="code hl_function" href="classRCMapper.html#abefe47a36d4b98833aca103937d46d9e">throttle</a>());</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>                    check_passed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>                }</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>            }</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>            c = <a class="code hl_function" href="RC__Channel_8h.html#abe35aea6177a1cdf87a22af5c263bb89">rc</a>().<a class="code hl_function" href="classRC__Channels.html#ad11a87063ac7492ed975e4ba4acfaf65">find_channel_for_option</a>(<a class="code hl_enumvalue" href="classRC__Channel.html#ae249c352997284fd0d29bf67adf7835aac6cfdee74c8b84642fb434b9d506644b">RC_Channel::AUX_FUNC::FWD_THR</a>);</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>            <span class="keywordflow">if</span> (c != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>                uint8_t fwd_thr = c-&gt;<a class="code hl_function" href="classRC__Channel.html#a28e903e1cac088c23f3470ae1028f96c">percent_input</a>();</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>                <span class="comment">// require channel input within 2% of minimum</span></div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>                <span class="keywordflow">if</span> (fwd_thr &gt; 2) {</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>                    <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa32257c8f0eaeb3b7db2572fbaca0cd70">ARMING_CHECK_RC</a>, <span class="keyword">true</span>, <span class="stringliteral">&quot;VTOL Fwd Throttle is not zero&quot;</span>);</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>                    check_passed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>                }</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>            }</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>        }</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>    }</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>    <span class="keywordflow">return</span> check_passed;</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>}</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span> </div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#aa21f947034e17a0443c5caf6ce20ce9c">AP_Arming::rc_calibration_checks</a>(<span class="keywordtype">bool</span> report)</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>{</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>    <span class="keywordtype">bool</span> check_passed = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>    <span class="keyword">const</span> uint8_t num_channels = <a class="code hl_function" href="classRC__Channels.html#a76e1ecc576586ebe6ed46317676be2a4">RC_Channels::get_valid_channel_count</a>();</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>    <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; <a class="code hl_define" href="RC__Channel_8h.html#ad8f949ef5f11f906dc35ae5a38c67179">NUM_RC_CHANNELS</a>; i++) {</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>        <span class="keyword">const</span> <a class="code hl_class" href="classRC__Channel.html">RC_Channel</a> *c = <a class="code hl_function" href="RC__Channel_8h.html#abe35aea6177a1cdf87a22af5c263bb89">rc</a>().<a class="code hl_function" href="classRC__Channels.html#a3736f2167041c3930941f66c73ec7d1d">channel</a>(i);</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>        <span class="keywordflow">if</span> (c == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>        }</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>        <span class="keywordflow">if</span> (i &gt;= num_channels &amp;&amp; !(c-&gt;<a class="code hl_function" href="classRC__Channel.html#af70bb81d28a7c891649384227f7922a3">has_override</a>())) {</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>        }</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>        <span class="keyword">const</span> uint16_t trim = c-&gt;<a class="code hl_function" href="classRC__Channel.html#a903c74361c5318f0af90b66ca83a79b3">get_radio_trim</a>();</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>        <span class="keywordflow">if</span> (c-&gt;<a class="code hl_function" href="classRC__Channel.html#a186bd6c744701bce1755f836d44d5f96">get_radio_min</a>() &gt; trim) {</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa32257c8f0eaeb3b7db2572fbaca0cd70">ARMING_CHECK_RC</a>, report, <span class="stringliteral">&quot;RC%d_MIN is greater than RC%d_TRIM&quot;</span>, i + 1, i + 1);</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>            check_passed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>        }</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>        <span class="keywordflow">if</span> (c-&gt;<a class="code hl_function" href="classRC__Channel.html#aa056e3c3b15ca3e44aee9f97b7ca7855">get_radio_max</a>() &lt; trim) {</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa32257c8f0eaeb3b7db2572fbaca0cd70">ARMING_CHECK_RC</a>, report, <span class="stringliteral">&quot;RC%d_MAX is less than RC%d_TRIM&quot;</span>, i + 1, i + 1);</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>            check_passed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>        }</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>    }</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span> </div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>    <span class="keywordflow">return</span> check_passed;</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>}</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span> </div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#ab3fada4715d1f6e886c75a4b3065cb32">AP_Arming::rc_in_calibration_check</a>(<span class="keywordtype">bool</span> report)</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>{</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="RC__Channel_8h.html#abe35aea6177a1cdf87a22af5c263bb89">rc</a>().calibrating()) {</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa32257c8f0eaeb3b7db2572fbaca0cd70">ARMING_CHECK_RC</a>, report, <span class="stringliteral">&quot;RC calibrating&quot;</span>);</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>    }</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>}</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span> </div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#aa2db8e16fc960948bf9ddd7fd875bb3b">AP_Arming::manual_transmitter_checks</a>(<span class="keywordtype">bool</span> report)</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>{</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa32257c8f0eaeb3b7db2572fbaca0cd70">ARMING_CHECK_RC</a>)) {</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span> </div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Notify.html#a724dd074a094de26e17c72c38ac499e9">AP_Notify::flags</a>.failsafe_radio) {</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa32257c8f0eaeb3b7db2572fbaca0cd70">ARMING_CHECK_RC</a>, report, <span class="stringliteral">&quot;Radio failsafe on&quot;</span>);</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>        }</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span> </div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Arming.html#aa21f947034e17a0443c5caf6ce20ce9c">rc_calibration_checks</a>(report)) {</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>        }</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>    }</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span> </div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classAP__Arming.html#ab3fada4715d1f6e886c75a4b3065cb32">rc_in_calibration_check</a>(report);</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>}</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span><span class="preprocessor">#endif  </span><span class="comment">// AP_RC_CHANNEL_ENABLED</span></div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span> </div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span><span class="preprocessor">#if AP_MISSION_ENABLED</span></div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#ad7114c8874ca085e46068f26241e8e4e">AP_Arming::mission_checks</a>(<span class="keywordtype">bool</span> report)</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>{</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>    <a class="code hl_class" href="classAP__Mission.html">AP_Mission</a> *<a class="code hl_function" href="namespaceAP.html#a67bce6e94b1af5e88d027330df5d8eca">mission</a> = <a class="code hl_function" href="namespaceAP.html#a67bce6e94b1af5e88d027330df5d8eca">AP::mission</a>();</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa68d821ebb97a3d56daaef22b28f81745">ARMING_CHECK_MISSION</a>) &amp;&amp; <a class="code hl_variable" href="classAP__Arming.html#a6d781f5816e5909673fce3d1089a2175">_required_mission_items</a>) {</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>        <span class="keywordflow">if</span> (mission == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa68d821ebb97a3d56daaef22b28f81745">ARMING_CHECK_MISSION</a>, report, <span class="stringliteral">&quot;No mission library present&quot;</span>);</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>        }</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span> </div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>        <span class="keyword">const</span> <span class="keyword">struct </span>MisItemTable {</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>          MIS_ITEM_CHECK <a class="code hl_function" href="lparser_8c.html#a2c856a5873c90f45525cf0d9abebbfde">check</a>;</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>          MAV_CMD mis_item_type;</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>          <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="TransferFunctionCheck_8cpp.html#ab84905254d7d9db8e55931846bcf06ea">type</a>;</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>        } misChecks[] = {</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>          {<a class="code hl_enumvalue" href="classAP__Arming.html#acb88e0402b67f0907146a2433ddf46f2a91bf406a6fcdd7c3fe55ee88437e5efe">MIS_ITEM_CHECK_LAND</a>,          MAV_CMD_NAV_LAND,           <span class="stringliteral">&quot;land&quot;</span>},</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>          {<a class="code hl_enumvalue" href="classAP__Arming.html#acb88e0402b67f0907146a2433ddf46f2a27de0d6a523b983aad3d24244847e31e">MIS_ITEM_CHECK_VTOL_LAND</a>,     MAV_CMD_NAV_VTOL_LAND,      <span class="stringliteral">&quot;vtol land&quot;</span>},</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>          {<a class="code hl_enumvalue" href="classAP__Arming.html#acb88e0402b67f0907146a2433ddf46f2a2a650daa3159615ba8a8c1b98a0e49b1">MIS_ITEM_CHECK_DO_LAND_START</a>, MAV_CMD_DO_LAND_START,      <span class="stringliteral">&quot;do land start&quot;</span>},</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>          {<a class="code hl_enumvalue" href="classAP__Arming.html#acb88e0402b67f0907146a2433ddf46f2a5c959c4a83e2619cfe4cfced43612ec5">MIS_ITEM_CHECK_TAKEOFF</a>,       MAV_CMD_NAV_TAKEOFF,        <span class="stringliteral">&quot;takeoff&quot;</span>},</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>          {<a class="code hl_enumvalue" href="classAP__Arming.html#acb88e0402b67f0907146a2433ddf46f2a27a251f50197bbf894bacabd9c3be106">MIS_ITEM_CHECK_VTOL_TAKEOFF</a>,  MAV_CMD_NAV_VTOL_TAKEOFF,   <span class="stringliteral">&quot;vtol takeoff&quot;</span>},</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>          {<a class="code hl_enumvalue" href="classAP__Arming.html#acb88e0402b67f0907146a2433ddf46f2a7daa90c84cd3509a78ddfe4ee9fa8cf3">MIS_ITEM_CHECK_RETURN_TO_LAUNCH</a>,  MAV_CMD_NAV_RETURN_TO_LAUNCH,   <span class="stringliteral">&quot;RTL&quot;</span>},</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>        };</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>        <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; <a class="code hl_define" href="AP__Common_8h.html#a121caf32c5b5d704ef3453f0885a9ea5">ARRAY_SIZE</a>(misChecks); i++) {</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Arming.html#a6d781f5816e5909673fce3d1089a2175">_required_mission_items</a> &amp; misChecks[i].<a class="code hl_function" href="lparser_8c.html#a2c856a5873c90f45525cf0d9abebbfde">check</a>) {</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespaceAP.html#a67bce6e94b1af5e88d027330df5d8eca">mission</a>-&gt;<a class="code hl_function" href="classAP__Mission.html#a34e9c61fbc1803bf616d403234d45b52">contains_item</a>(misChecks[i].mis_item_type)) {</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>                    <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa68d821ebb97a3d56daaef22b28f81745">ARMING_CHECK_MISSION</a>, report, <span class="stringliteral">&quot;Missing mission item: %s&quot;</span>, misChecks[i].<a class="code hl_struct" href="structtype.html">type</a>);</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>                }</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>            }</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>        }</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Arming.html#a6d781f5816e5909673fce3d1089a2175">_required_mission_items</a> &amp; <a class="code hl_enumvalue" href="classAP__Arming.html#acb88e0402b67f0907146a2433ddf46f2a57324536270153fd542db85659bdaeb6">MIS_ITEM_CHECK_RALLY</a>) {</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span><span class="preprocessor">#if HAL_RALLY_ENABLED</span></div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>            <a class="code hl_class" href="classAP__Rally.html">AP_Rally</a> *<a class="code hl_function" href="namespaceAP.html#ae87744fcd7073579dee4ddbf9d32239e">rally</a> = <a class="code hl_function" href="namespaceAP.html#ae87744fcd7073579dee4ddbf9d32239e">AP::rally</a>();</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>            <span class="keywordflow">if</span> (rally == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>                <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa68d821ebb97a3d56daaef22b28f81745">ARMING_CHECK_MISSION</a>, report, <span class="stringliteral">&quot;No rally library present&quot;</span>);</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>            }</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>            <a class="code hl_class" href="classLocation.html">Location</a> ahrs_loc;</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>().get_location(ahrs_loc)) {</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>                <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa68d821ebb97a3d56daaef22b28f81745">ARMING_CHECK_MISSION</a>, report, <span class="stringliteral">&quot;Can&#39;t check rally without position&quot;</span>);</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>            }</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>            <a class="code hl_struct" href="structRallyLocation.html">RallyLocation</a> rally_loc = {};</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespaceAP.html#ae87744fcd7073579dee4ddbf9d32239e">rally</a>-&gt;<a class="code hl_function" href="classAP__Rally.html#a599a1cba7da15f1be6178ea19ee47541">find_nearest_rally_point</a>(ahrs_loc, rally_loc)) {</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>                <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa68d821ebb97a3d56daaef22b28f81745">ARMING_CHECK_MISSION</a>, report, <span class="stringliteral">&quot;No sufficiently close rally point located&quot;</span>);</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>            }</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa68d821ebb97a3d56daaef22b28f81745">ARMING_CHECK_MISSION</a>, report, <span class="stringliteral">&quot;No rally library present&quot;</span>);</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>        }</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>    }</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span> </div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span><span class="preprocessor">#if AP_SDCARD_STORAGE_ENABLED</span></div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa68d821ebb97a3d56daaef22b28f81745">ARMING_CHECK_MISSION</a>) &amp;&amp;</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>        mission != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>        (<a class="code hl_function" href="namespaceAP.html#a67bce6e94b1af5e88d027330df5d8eca">mission</a>-&gt;failed_sdcard_storage() || <a class="code hl_function" href="classStorageManager.html#ad9321c4a768760d90c223e91d085a285">StorageManager::storage_failed</a>())) {</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa68d821ebb97a3d56daaef22b28f81745">ARMING_CHECK_MISSION</a>, report, <span class="stringliteral">&quot;Failed to open %s&quot;</span>, <a class="code hl_define" href="AP__Mission_8h.html#a9c5c26ecc99dd24d83435dc082954408">AP_MISSION_SDCARD_FILENAME</a>);</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>    }</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span> </div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span><span class="preprocessor">#if AP_VEHICLE_ENABLED</span></div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>    <span class="comment">// do not allow arming if there are no mission items and we are in</span></div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>    <span class="comment">// (e.g.) AUTO mode</span></div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceAP.html#a930025da7cb316754df99a6e26205e98">AP::vehicle</a>()-&gt;current_mode_requires_mission() &amp;&amp;</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>        (mission == <span class="keyword">nullptr</span> || <a class="code hl_function" href="namespaceAP.html#a67bce6e94b1af5e88d027330df5d8eca">mission</a>-&gt;<a class="code hl_function" href="classAP__Mission.html#af26b7935304c34d8c03881b02beb3f48">num_commands</a>() &lt;= 1)) {</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa68d821ebb97a3d56daaef22b28f81745">ARMING_CHECK_MISSION</a>, report, <span class="stringliteral">&quot;Mode requires mission&quot;</span>);</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    }</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span> </div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>}</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span><span class="preprocessor">#endif  </span><span class="comment">// AP_MISSION_ENABLED</span></div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span> </div>
<div class="foldopen" id="foldopen00882" data-start="{" data-end="}">
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno"><a class="line" href="classAP__Arming.html#a9e549b0827b9d501b7e6ccd90602f223">  882</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a9e549b0827b9d501b7e6ccd90602f223">AP_Arming::rangefinder_checks</a>(<span class="keywordtype">bool</span> report)</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>{</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa77be6b2ac7c6701198316b55381d6ff2">ARMING_CHECK_RANGEFINDER</a>)) {</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>        <a class="code hl_class" href="classRangeFinder.html">RangeFinder</a> *<a class="code hl_struct" href="structrange.html">range</a> = <a class="code hl_function" href="classRangeFinder.html#a3a09e6277e87ec990f179180b1eef320">RangeFinder::get_singleton</a>();</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structrange.html">range</a> == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>        }</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span> </div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>        <span class="keywordtype">char</span> <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>[MAVLINK_MSG_STATUSTEXT_FIELD_TEXT_LEN+1];</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>        <span class="keywordflow">if</span> (!<a class="code hl_struct" href="structrange.html">range</a>-&gt;prearm_healthy(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>, <a class="code hl_define" href="AP__Common_8h.html#a121caf32c5b5d704ef3453f0885a9ea5">ARRAY_SIZE</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>))) {</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa77be6b2ac7c6701198316b55381d6ff2">ARMING_CHECK_RANGEFINDER</a>, report, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>);</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>        }</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>    }</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span> </div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>}</div>
</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span> </div>
<div class="foldopen" id="foldopen00900" data-start="{" data-end="}">
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno"><a class="line" href="classAP__Arming.html#a40b33f4a1ce1fbcf90b4acf400a60123">  900</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a40b33f4a1ce1fbcf90b4acf400a60123">AP_Arming::servo_checks</a>(<span class="keywordtype">bool</span> report)<span class="keyword"> const</span></div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span><span class="preprocessor">#if NUM_SERVO_CHANNELS</span></div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>    <span class="keywordtype">bool</span> check_passed = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>    <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; <a class="code hl_define" href="esp32_8h.html#aac9dfd8ad4d19b1e5833583c0277f673">NUM_SERVO_CHANNELS</a>; i++) {</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>        <span class="keyword">const</span> <a class="code hl_class" href="classSRV__Channel.html">SRV_Channel</a> *c = <a class="code hl_function" href="classSRV__Channels.html#a140e0500770eac6bc56fb142b756b2dc">SRV_Channels::srv_channel</a>(i);</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>        <span class="keywordflow">if</span> (c == <span class="keyword">nullptr</span> || c-&gt;<a class="code hl_function" href="classSRV__Channel.html#ab088a5a7d588b766d004f579088d9504">get_function</a>() &lt;= <a class="code hl_enumvalue" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a22386584df776801824801577c1fb5ee">SRV_Channel::k_none</a>) {</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>        }</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span> </div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>        <span class="keyword">const</span> uint16_t trim = c-&gt;<a class="code hl_function" href="classSRV__Channel.html#a7d0f8071d6ba54db1985a1515b2b3a97">get_trim</a>();</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>        <span class="keywordflow">if</span> (c-&gt;<a class="code hl_function" href="classSRV__Channel.html#a5884a2e91f299fec204b26178b99b3df">get_output_min</a>() &gt; trim) {</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(report, <span class="stringliteral">&quot;SERVO%d_MIN is greater than SERVO%d_TRIM&quot;</span>, i + 1, i + 1);</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>            check_passed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>        }</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>        <span class="keywordflow">if</span> (c-&gt;<a class="code hl_function" href="classSRV__Channel.html#ab4ab7b27c467ed419b9c3a36412b0fb9">get_output_max</a>() &lt; trim) {</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(report, <span class="stringliteral">&quot;SERVO%d_MAX is less than SERVO%d_TRIM&quot;</span>, i + 1, i + 1);</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>            check_passed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>        }</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span> </div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>        <span class="comment">// check functions using PWM are enabled</span></div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="classSRV__Channels.html#ad6f2d9eeb65b0c53d808834399f6d0a6">SRV_Channels::get_disabled_channel_mask</a>() &amp; 1U&lt;&lt;i) {</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>            <span class="keyword">const</span> <a class="code hl_enumeration" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68">SRV_Channel::Aux_servo_function_t</a> ch_function = c-&gt;<a class="code hl_function" href="classSRV__Channel.html#ab088a5a7d588b766d004f579088d9504">get_function</a>();</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span> </div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>            <span class="comment">// motors, e-stoppable functions, neopixels and ProfiLEDs may be digital outputs and thus can be disabled</span></div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>            <span class="comment">// scripting can use its functions as labels for LED setup</span></div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> disabled_ok = <a class="code hl_function" href="classSRV__Channel.html#a20a2ee9dab8a0aa6db2bc85f2961ae4a">SRV_Channel::is_motor</a>(ch_function) ||</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>                                     <a class="code hl_function" href="classSRV__Channel.html#a8f507a020a37d43024a15d75c11f779b">SRV_Channel::should_e_stop</a>(ch_function) ||</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>                                     (ch_function &gt;= <a class="code hl_enumvalue" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68abd959507edf900a49ea1f8ccbaaa6504">SRV_Channel::k_LED_neopixel1</a> &amp;&amp; ch_function &lt;= <a class="code hl_enumvalue" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a8bf0ff3bf3a2ce4f8c2e62f1d4d65d17">SRV_Channel::k_LED_neopixel4</a>) ||</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>                                     (ch_function &gt;= <a class="code hl_enumvalue" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68ac9f00c000445c8172d689d00891a93bb">SRV_Channel::k_ProfiLED_1</a> &amp;&amp; ch_function &lt;= <a class="code hl_enumvalue" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68abfbd487a69439fbcd0c9bca86ffad607">SRV_Channel::k_ProfiLED_Clock</a>) ||</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>                                     (ch_function &gt;= <a class="code hl_enumvalue" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a40e3244188d87ac960a949a64096d2b4">SRV_Channel::k_scripting1</a> &amp;&amp; ch_function &lt;= <a class="code hl_enumvalue" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a7b69e69db841c7ca01337b8c2f03e370">SRV_Channel::k_scripting16</a>);</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span> </div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>            <span class="comment">// for all other functions raise a pre-arm failure</span></div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>            <span class="keywordflow">if</span> (!disabled_ok) {</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>                <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(report, <span class="stringliteral">&quot;SERVO%u_FUNCTION=%u on disabled channel&quot;</span>, i + 1, (<span class="keywordtype">unsigned</span>)ch_function);</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>                check_passed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>            }</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>        }</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>    }</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span> </div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span><span class="preprocessor">#if HAL_WITH_IO_MCU</span></div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="iofirmware_8cpp.html#a1858bdf23f3647731d31c02115adc060">iomcu</a>.healthy() &amp;&amp; <a class="code hl_function" href="classAP__BoardConfig.html#a88fafdbccbeac097961a7cf64993530f">AP_BoardConfig::io_enabled</a>()) {</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(report, <span class="stringliteral">&quot;IOMCU is unhealthy&quot;</span>);</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>        check_passed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>    }</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span> </div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>    <span class="keywordflow">return</span> check_passed;</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>}</div>
</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span> </div>
<div class="foldopen" id="foldopen00953" data-start="{" data-end="}">
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno"><a class="line" href="classAP__Arming.html#a3a7732a0c5ed5b5ccbb97e72c2a6587c">  953</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a3a7732a0c5ed5b5ccbb97e72c2a6587c">AP_Arming::board_voltage_checks</a>(<span class="keywordtype">bool</span> report)</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>{</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>    <span class="comment">// check board voltage</span></div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa0ba305a03723f72101c56db7f34dde86">ARMING_CHECK_VOLTAGE</a>)) {</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span><span class="preprocessor">#if HAL_HAVE_BOARD_VOLTAGE</span></div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> bus_voltage =  <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a48a758dbd587c916aa4f5ea5ae9521e4">analogin</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1AnalogIn.html#a84c87bc57f06182afc85725cafe22698">board_voltage</a>();</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> vbus_min = AP_BoardConfig::get_minimum_board_voltage();</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>        <span class="keywordflow">if</span>(((bus_voltage &lt; vbus_min) || (bus_voltage &gt; <a class="code hl_define" href="AP__Arming_8cpp.html#a90ec243bcfa684c5e7a58ac0f07b6ff5">AP_ARMING_BOARD_VOLTAGE_MAX</a>))) {</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa0ba305a03723f72101c56db7f34dde86">ARMING_CHECK_VOLTAGE</a>, report, <span class="stringliteral">&quot;Board (%1.1fv) out of range %1.1f-%1.1fv&quot;</span>, (<span class="keywordtype">double</span>)bus_voltage, (<span class="keywordtype">double</span>)vbus_min, (<span class="keywordtype">double</span>)<a class="code hl_define" href="AP__Arming_8cpp.html#a90ec243bcfa684c5e7a58ac0f07b6ff5">AP_ARMING_BOARD_VOLTAGE_MAX</a>);</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>        }</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span><span class="preprocessor">#endif </span><span class="comment">// HAL_HAVE_BOARD_VOLTAGE</span></div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span> </div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span><span class="preprocessor">#if HAL_HAVE_SERVO_VOLTAGE</span></div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>       <span class="keyword">const</span> <span class="keywordtype">float</span> vservo_min = AP_BoardConfig::get_minimum_servo_voltage();</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(vservo_min)) {</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> servo_voltage =  <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a48a758dbd587c916aa4f5ea5ae9521e4">analogin</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1AnalogIn.html#aec5bbeb075072b2cc35d2301236c7f45">servorail_voltage</a>();</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>            <span class="keywordflow">if</span> (servo_voltage &lt; vservo_min) {</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>                <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa0ba305a03723f72101c56db7f34dde86">ARMING_CHECK_VOLTAGE</a>, report, <span class="stringliteral">&quot;Servo voltage to low (%1.2fv &lt; %1.2fv)&quot;</span>, (<span class="keywordtype">double</span>)servo_voltage, (<span class="keywordtype">double</span>)vservo_min);</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>            }</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>        }</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span><span class="preprocessor">#endif </span><span class="comment">// HAL_HAVE_SERVO_VOLTAGE</span></div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>    }</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span> </div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>}</div>
</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span> </div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span><span class="preprocessor">#if HAL_HAVE_IMU_HEATER</span></div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span><span class="keywordtype">bool</span> AP_Arming::heater_min_temperature_checks(<span class="keywordtype">bool</span> report)</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>{</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Arming.html#aa9e0cb21a3be70b834a9a8b74ba19356">checks_to_perform</a> &amp; <a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3062b4aded78adab2a8005e322d81b2f">ARMING_CHECK_ALL</a>) {</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>        <a class="code hl_class" href="classAP__BoardConfig.html">AP_BoardConfig</a> *board = <a class="code hl_function" href="namespaceAP.html#a5fec60f8621f19f0c32df3cf53c86b48">AP::boardConfig</a>();</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>        <span class="keywordflow">if</span> (board) {</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>            <span class="keywordtype">float</span> <a class="code hl_variable" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>;</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>            int8_t min_temperature;</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>            <span class="keywordflow">if</span> (board-&gt;get_board_heater_temperature(<a class="code hl_variable" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>) &amp;&amp;</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>                board-&gt;get_board_heater_arming_temperature(min_temperature) &amp;&amp;</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>                (<a class="code hl_variable" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a> &lt; min_temperature)) {</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>                <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3bc0ff8f77314194ec3c78e5ec5478ff">ARMING_CHECK_SYSTEM</a>, report, <span class="stringliteral">&quot;heater temp low (%0.1f &lt; %i)&quot;</span>, <a class="code hl_variable" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>, min_temperature);</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>            }</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>        }</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>    }</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>}</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span><span class="preprocessor">#endif </span><span class="comment">// HAL_HAVE_IMU_HEATER</span></div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span> </div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span><span class="comment">/*</span></div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span><span class="comment">  check base system operations</span></div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span><span class="comment"> */</span></div>
<div class="foldopen" id="foldopen01004" data-start="{" data-end="}">
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"><a class="line" href="classAP__Arming.html#a2630510b7cc6c34f58bbb049d8b98576"> 1004</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a2630510b7cc6c34f58bbb049d8b98576">AP_Arming::system_checks</a>(<span class="keywordtype">bool</span> report)</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>{</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>[MAVLINK_MSG_STATUSTEXT_FIELD_TEXT_LEN+1] {};</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span> </div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3bc0ff8f77314194ec3c78e5ec5478ff">ARMING_CHECK_SYSTEM</a>)) {</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a99d491059d9a66879ac03fcbb50b1272">storage</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Storage.html#ad64999b9359b6cdcb217871332ea9a3a">healthy</a>()) {</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3bc0ff8f77314194ec3c78e5ec5478ff">ARMING_CHECK_SYSTEM</a>, report, <span class="stringliteral">&quot;Param storage failed&quot;</span>);</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>        }</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span> </div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>        <span class="comment">// check main loop rate is at least 90% of expected value</span></div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> actual_loop_rate = <a class="code hl_function" href="namespaceAP.html#acdeafe5406efd2650ba54d24d3aecb7c">AP::scheduler</a>().<a class="code hl_function" href="classAP__Scheduler.html#aeae6c98cb869b326dfddef9a21796d48">get_filtered_loop_rate_hz</a>();</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>        <span class="keyword">const</span> uint16_t expected_loop_rate = <a class="code hl_function" href="namespaceAP.html#acdeafe5406efd2650ba54d24d3aecb7c">AP::scheduler</a>().<a class="code hl_function" href="classAP__Scheduler.html#a5de68a6345f4b9ce9eb4008ee4a6c161">get_loop_rate_hz</a>();</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> loop_rate_pct =  actual_loop_rate / expected_loop_rate;</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>        <span class="keywordflow">if</span> (loop_rate_pct &lt; 0.90) {</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3bc0ff8f77314194ec3c78e5ec5478ff">ARMING_CHECK_SYSTEM</a>, report, <span class="stringliteral">&quot;Main loop slow (%uHz &lt; %uHz)&quot;</span>, (<span class="keywordtype">unsigned</span>)actual_loop_rate, (<span class="keywordtype">unsigned</span>)expected_loop_rate);</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>        }</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span> </div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span><span class="preprocessor">#if AP_TERRAIN_AVAILABLE</span></div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>        <span class="keyword">const</span> AP_Terrain *terrain = AP_Terrain::get_singleton();</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>        <span class="keywordflow">if</span> ((terrain != <span class="keyword">nullptr</span>) &amp;&amp; terrain-&gt;init_failed()) {</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3bc0ff8f77314194ec3c78e5ec5478ff">ARMING_CHECK_SYSTEM</a>, report, <span class="stringliteral">&quot;Terrain out of memory&quot;</span>);</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>        }</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span><span class="preprocessor">#if AP_SCRIPTING_ENABLED</span></div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>        <span class="keyword">const</span> AP_Scripting *scripting = AP_Scripting::get_singleton();</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>        <span class="keywordflow">if</span> ((scripting != <span class="keyword">nullptr</span>) &amp;&amp; !scripting-&gt;arming_checks(<span class="keyword">sizeof</span>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>), <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>)) {</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3bc0ff8f77314194ec3c78e5ec5478ff">ARMING_CHECK_SYSTEM</a>, report, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>);</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>        }</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span><span class="preprocessor">#if HAL_ADSB_ENABLED</span></div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>        AP_ADSB *adsb = AP::ADSB();</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>        <span class="keywordflow">if</span> ((adsb != <span class="keyword">nullptr</span>) &amp;&amp; adsb-&gt;enabled() &amp;&amp; adsb-&gt;init_failed()) {</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3bc0ff8f77314194ec3c78e5ec5478ff">ARMING_CHECK_SYSTEM</a>, report, <span class="stringliteral">&quot;ADSB out of memory&quot;</span>);</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>        }</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>    }</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceAP.html#afceb236ff617aaaa2b08afacd72532b0">AP::internalerror</a>().errors() != 0) {</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>        <a class="code hl_function" href="namespaceAP.html#afceb236ff617aaaa2b08afacd72532b0">AP::internalerror</a>().<a class="code hl_function" href="classAP__InternalError.html#abc839772adfc46329ade11196f7dae75">errors_as_string</a>((uint8_t*)<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>, <a class="code hl_define" href="AP__Common_8h.html#a121caf32c5b5d704ef3453f0885a9ea5">ARRAY_SIZE</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>));</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(report, <span class="stringliteral">&quot;Internal errors 0x%x l:%u %s&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_function" href="namespaceAP.html#afceb236ff617aaaa2b08afacd72532b0">AP::internalerror</a>().errors(), <a class="code hl_function" href="namespaceAP.html#afceb236ff617aaaa2b08afacd72532b0">AP::internalerror</a>().last_error_line(), <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>);</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>    }</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span> </div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a13ed800ad745085097f4d6dce9070eb0">gpio</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1GPIO.html#a3160f9e7985bcf83f0f955c0d4aaacb3">arming_checks</a>(<span class="keyword">sizeof</span>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>), <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>)) {</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(report, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>);</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>    }</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span> </div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa0698f127d9771163cb0ab7981689a39b">ARMING_CHECK_PARAMETERS</a>)) {</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span><span class="preprocessor">#if AP_RPM_ENABLED</span></div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>        <span class="keyword">auto</span> *rpm = <a class="code hl_function" href="namespaceAP.html#ad5986df034b9156395fea23c11cb2210">AP::rpm</a>();</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>        <span class="keywordflow">if</span> (rpm &amp;&amp; !rpm-&gt;<a class="code hl_function" href="classAP__RPM.html#a34d0aa718e4b9cd86122a2d82ad1fc94">arming_checks</a>(<span class="keyword">sizeof</span>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>), <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>)) {</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa0698f127d9771163cb0ab7981689a39b">ARMING_CHECK_PARAMETERS</a>, report, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>);</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>        }</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span><span class="preprocessor">#if AP_RELAY_ENABLED</span></div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>        <span class="keyword">auto</span> *<a class="code hl_variable" href="AP__Parachute__test_8cpp.html#a1b01eb2a0239e74c68c0190c5a24bd6d">relay</a> = <a class="code hl_function" href="namespaceAP.html#a730acdb902fce56b0e171368b2d2036b">AP::relay</a>();</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="AP__Parachute__test_8cpp.html#a1b01eb2a0239e74c68c0190c5a24bd6d">relay</a> &amp;&amp; !<a class="code hl_variable" href="AP__Parachute__test_8cpp.html#a1b01eb2a0239e74c68c0190c5a24bd6d">relay</a>-&gt;<a class="code hl_function" href="classAP__Relay.html#adc0f310d7e86da3bb67d30fb35dc31c0">arming_checks</a>(<span class="keyword">sizeof</span>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>), <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>)) {</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa0698f127d9771163cb0ab7981689a39b">ARMING_CHECK_PARAMETERS</a>, report, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>);</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>        }</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span><span class="preprocessor">#if HAL_PARACHUTE_ENABLED</span></div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>        <span class="keyword">auto</span> *chute = <a class="code hl_function" href="namespaceAP.html#ab75e299618fd1bc72888405984b61a50">AP::parachute</a>();</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>        <span class="keywordflow">if</span> (chute &amp;&amp; !chute-&gt;arming_checks(<span class="keyword">sizeof</span>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>), <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>)) {</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa0698f127d9771163cb0ab7981689a39b">ARMING_CHECK_PARAMETERS</a>, report, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>);</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>        }</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span><span class="preprocessor">#if HAL_BUTTON_ENABLED</span></div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;button = <a class="code hl_function" href="namespaceAP.html#ae9fe2cf34548960a27ef6559ad91f3b2">AP::button</a>();</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>        <span class="keywordflow">if</span> (!button.<a class="code hl_function" href="classAP__Button.html#a3f089aaf249725a51a5d5a6b7a375798">arming_checks</a>(<span class="keyword">sizeof</span>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>), <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>)) {</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa0698f127d9771163cb0ab7981689a39b">ARMING_CHECK_PARAMETERS</a>, report, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>);</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>        }</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>    }</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span> </div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>}</div>
</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span> </div>
<div class="foldopen" id="foldopen01090" data-start="{" data-end="}">
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"><a class="line" href="classAP__Arming.html#ac175683f497fb6db8f1e2652e18261c0"> 1090</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#ac175683f497fb6db8f1e2652e18261c0">AP_Arming::terrain_database_required</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span><span class="preprocessor">#if AP_MISSION_ENABLED</span></div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>    <a class="code hl_class" href="classAP__Mission.html">AP_Mission</a> *mission = <a class="code hl_function" href="namespaceAP.html#a67bce6e94b1af5e88d027330df5d8eca">AP::mission</a>();</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>    <span class="keywordflow">if</span> (mission == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>        <span class="comment">// no mission support?</span></div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>    }</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>    <span class="keywordflow">if</span> (mission-&gt;<a class="code hl_function" href="classAP__Mission.html#ab5e32b10060e1e5e3e8f22f526b58d35">contains_terrain_alt_items</a>()) {</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>    }</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>}</div>
</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span> </div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span><span class="comment">// check terrain database is fit-for-purpose</span></div>
<div class="foldopen" id="foldopen01106" data-start="{" data-end="}">
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"><a class="line" href="classAP__Arming.html#aa9a6cfb700e8fd32de6678d4ebba297d"> 1106</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#aa9a6cfb700e8fd32de6678d4ebba297d">AP_Arming::terrain_checks</a>(<span class="keywordtype">bool</span> report)<span class="keyword"> const</span></div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa0698f127d9771163cb0ab7981689a39b">ARMING_CHECK_PARAMETERS</a>)) {</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>    }</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span> </div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Arming.html#ac175683f497fb6db8f1e2652e18261c0">terrain_database_required</a>()) {</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>    }</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span> </div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span><span class="preprocessor">#if AP_TERRAIN_AVAILABLE</span></div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span> </div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>    <span class="keyword">const</span> AP_Terrain *terrain = AP_Terrain::get_singleton();</div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>    <span class="keywordflow">if</span> (terrain == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>        <span class="comment">// this is also a system error, and it is already complaining</span></div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>        <span class="comment">// about it.</span></div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>    }</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span> </div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>    <span class="keywordflow">if</span> (!terrain-&gt;enabled()) {</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa0698f127d9771163cb0ab7981689a39b">ARMING_CHECK_PARAMETERS</a>, report, <span class="stringliteral">&quot;terrain disabled&quot;</span>);</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>    }</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span> </div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>    <span class="keywordtype">char</span> fail_msg[MAVLINK_MSG_STATUSTEXT_FIELD_TEXT_LEN+1];</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>    <span class="keywordflow">if</span> (!terrain-&gt;pre_arm_checks(fail_msg, <span class="keyword">sizeof</span>(fail_msg))) {</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa0698f127d9771163cb0ab7981689a39b">ARMING_CHECK_PARAMETERS</a>, report, <span class="stringliteral">&quot;%s&quot;</span>, fail_msg);</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>    }</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span> </div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span> </div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>    <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa0698f127d9771163cb0ab7981689a39b">ARMING_CHECK_PARAMETERS</a>, report, <span class="stringliteral">&quot;terrain required but disabled&quot;</span>);</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>}</div>
</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span> </div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span> </div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span><span class="preprocessor">#if HAL_PROXIMITY_ENABLED</span></div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span><span class="comment">// check nothing is too close to vehicle</span></div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span><span class="keywordtype">bool</span> AP_Arming::proximity_checks(<span class="keywordtype">bool</span> report)<span class="keyword"> const</span></div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>    <span class="keyword">const</span> AP_Proximity *proximity = AP::proximity();</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>    <span class="comment">// return true immediately if no sensor present</span></div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>    <span class="keywordflow">if</span> (proximity == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>    }</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>[MAVLINK_MSG_STATUSTEXT_FIELD_TEXT_LEN+1];</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>    <span class="keywordflow">if</span> (!proximity-&gt;prearm_healthy(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>, <a class="code hl_define" href="AP__Common_8h.html#a121caf32c5b5d704ef3453f0885a9ea5">ARRAY_SIZE</a>(<a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>))) {</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(report, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a>);</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>    }</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>}</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span><span class="preprocessor">#endif  </span><span class="comment">// HAL_PROXIMITY_ENABLED</span></div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span> </div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span><span class="preprocessor">#if HAL_MAX_CAN_PROTOCOL_DRIVERS &amp;&amp; HAL_CANMANAGER_ENABLED</span></div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a6a70f13faf0a1f227f549a09b84c147e">AP_Arming::can_checks</a>(<span class="keywordtype">bool</span> report)</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>{</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3bc0ff8f77314194ec3c78e5ec5478ff">ARMING_CHECK_SYSTEM</a>)) {</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>        <span class="keywordtype">char</span> fail_msg[50] = {};</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>        (void)fail_msg; <span class="comment">// might be left unused</span></div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>        uint8_t num_drivers = AP::can().get_num_drivers();</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span> </div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>        <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; num_drivers; i++) {</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>            <span class="keywordflow">switch</span> (AP::can().get_driver_type(i)) {</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465a6c38ce4b523b41a8eedc7216f30f2cb4">AP_CAN::Protocol::PiccoloCAN</a>: {</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span><span class="preprocessor">#if HAL_PICCOLO_CAN_ENABLE</span></div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>                    AP_PiccoloCAN *ap_pcan = AP_PiccoloCAN::get_pcan(i);</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span> </div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>                    <span class="keywordflow">if</span> (ap_pcan != <span class="keyword">nullptr</span> &amp;&amp; !ap_pcan-&gt;pre_arm_check(fail_msg, <a class="code hl_define" href="AP__Common_8h.html#a121caf32c5b5d704ef3453f0885a9ea5">ARRAY_SIZE</a>(fail_msg))) {</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>                        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3bc0ff8f77314194ec3c78e5ec5478ff">ARMING_CHECK_SYSTEM</a>, report, <span class="stringliteral">&quot;PiccoloCAN: %s&quot;</span>, fail_msg);</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>                    }</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span> </div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>                    <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3bc0ff8f77314194ec3c78e5ec5478ff">ARMING_CHECK_SYSTEM</a>, report, <span class="stringliteral">&quot;PiccoloCAN not enabled&quot;</span>);</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>                }</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465a28db7f0e1b44a04ab294a58778f3bacb">AP_CAN::Protocol::DroneCAN</a>:</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>                {</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span><span class="preprocessor">#if HAL_ENABLE_DRONECAN_DRIVERS</span></div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>                    AP_DroneCAN *ap_dronecan = AP_DroneCAN::get_dronecan(i);</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>                    <span class="keywordflow">if</span> (ap_dronecan != <span class="keyword">nullptr</span> &amp;&amp; !ap_dronecan-&gt;prearm_check(fail_msg, <a class="code hl_define" href="AP__Common_8h.html#a121caf32c5b5d704ef3453f0885a9ea5">ARRAY_SIZE</a>(fail_msg))) {</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>                        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3bc0ff8f77314194ec3c78e5ec5478ff">ARMING_CHECK_SYSTEM</a>, report, <span class="stringliteral">&quot;DroneCAN: %s&quot;</span>, fail_msg);</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>                    }</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>                }</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465a20aa8bd0fef9e9f711ffa92c9b7a4d8e">AP_CAN::Protocol::USD1</a>:</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465a5e975563706e2ba485206675abc3f0a1">AP_CAN::Protocol::TOFSenseP</a>:</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465afa8444c0426503df0c17796429d1faba">AP_CAN::Protocol::NanoRadar</a>:</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465a8723eb9692d8f6089bc0013fdb045513">AP_CAN::Protocol::Benewake</a>:</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>                {</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>                    <span class="keywordflow">for</span> (uint8_t j = i; j; j--) {</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>                        <span class="keywordflow">if</span> (AP::can().get_driver_type(i) == AP::can().get_driver_type(j-1)) {</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>                            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3bc0ff8f77314194ec3c78e5ec5478ff">ARMING_CHECK_SYSTEM</a>, report, <span class="stringliteral">&quot;Same rfnd on different CAN ports&quot;</span>);</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>                            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>                        }</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>                    }</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>                }</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465ac34ecad7314de99c9b9e0c537c14c620">AP_CAN::Protocol::EFI_NWPMU</a>:</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465a6adf97f83acf6453d4a6a4b1070f3754">AP_CAN::Protocol::None</a>:</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465a66f1aed235ade25269a561e81cbbb43a">AP_CAN::Protocol::Scripting</a>:</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465a2b3f36ce1d67452a67aba0853d7527da">AP_CAN::Protocol::Scripting2</a>:</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465addc2e094397c79a6b0a4ce78016ac09b">AP_CAN::Protocol::KDECAN</a>:</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span> </div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>            }</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>        }</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>    }</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>}</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span><span class="preprocessor">#endif  </span><span class="comment">// HAL_MAX_CAN_PROTOCOL_DRIVERS &amp;&amp; HAL_CANMANAGER_ENABLED</span></div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span> </div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span> </div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span><span class="preprocessor">#if AP_FENCE_ENABLED</span></div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a98bcd9c01b012d94e1ed4239f63c6207">AP_Arming::fence_checks</a>(<span class="keywordtype">bool</span> display_failure)</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>{</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>    <span class="keyword">const</span> <a class="code hl_class" href="classAC__Fence.html">AC_Fence</a> *<a class="code hl_function" href="namespaceAP.html#ad7eb5eb7d80cfbcb69839b497bff7a46">fence</a> = <a class="code hl_function" href="namespaceAP.html#ad7eb5eb7d80cfbcb69839b497bff7a46">AP::fence</a>();</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>    <span class="keywordflow">if</span> (fence == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>    }</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span> </div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>    <span class="comment">// check fence is ready</span></div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *fail_msg = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceAP.html#ad7eb5eb7d80cfbcb69839b497bff7a46">fence</a>-&gt;<a class="code hl_function" href="classAC__Fence.html#ae46cc9ba79d869296585e41a2702621e">pre_arm_check</a>(fail_msg)) {</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>    }</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span> </div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>    <span class="keywordflow">if</span> (fail_msg == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(display_failure, <span class="stringliteral">&quot;Check fence&quot;</span>);</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(display_failure, <span class="stringliteral">&quot;%s&quot;</span>, fail_msg);</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>    }</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span> </div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>}</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span><span class="preprocessor">#endif  </span><span class="comment">// AP_FENCE_ENABLED</span></div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span> </div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span><span class="preprocessor">#if HAL_RUNCAM_ENABLED</span></div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#aa03c902a0bd3d47ffd59374f2d6cdfb1">AP_Arming::camera_checks</a>(<span class="keywordtype">bool</span> display_failure)</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>{</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa954769176c89f1a534b1ce87cce05bf1">ARMING_CHECK_CAMERA</a>)) {</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>        <a class="code hl_class" href="classAP__RunCam.html">AP_RunCam</a> *<a class="code hl_function" href="namespaceAP.html#a1250540cc675995b27423db93869b3b9">runcam</a> = <a class="code hl_function" href="namespaceAP.html#a1250540cc675995b27423db93869b3b9">AP::runcam</a>();</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>        <span class="keywordflow">if</span> (runcam == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>        }</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span> </div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>        <span class="comment">// check camera is ready</span></div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>        <span class="keywordtype">char</span> fail_msg[MAVLINK_MSG_STATUSTEXT_FIELD_TEXT_LEN+1];</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespaceAP.html#a1250540cc675995b27423db93869b3b9">runcam</a>-&gt;<a class="code hl_function" href="classAP__RunCam.html#a9a2c8af28d70279063511356d2aa8f25">pre_arm_check</a>(fail_msg, <a class="code hl_define" href="AP__Common_8h.html#a121caf32c5b5d704ef3453f0885a9ea5">ARRAY_SIZE</a>(fail_msg))) {</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa954769176c89f1a534b1ce87cce05bf1">ARMING_CHECK_CAMERA</a>, display_failure, <span class="stringliteral">&quot;%s&quot;</span>, fail_msg);</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>        }</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>    }</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>}</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span><span class="preprocessor">#endif  </span><span class="comment">// HAL_RUNCAM_ENABLED</span></div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span> </div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span><span class="preprocessor">#if OSD_ENABLED</span></div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a1ad267dc539a9953e86089b228f376ba">AP_Arming::osd_checks</a>(<span class="keywordtype">bool</span> display_failure)<span class="keyword"> const</span></div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa9e6ff1c791cad17dca379a3872f64114">ARMING_CHECK_OSD</a>)) {</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>        <span class="comment">// if no OSD then pass</span></div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>        <span class="keyword">const</span> <a class="code hl_class" href="classAP__OSD.html">AP_OSD</a> *<a class="code hl_function" href="namespaceAP.html#a18bfb8f2e0ff686caaab58f05aab4530">osd</a> = <a class="code hl_function" href="namespaceAP.html#a18bfb8f2e0ff686caaab58f05aab4530">AP::osd</a>();</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>        <span class="keywordflow">if</span> (osd == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>        }</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>        <span class="comment">// do osd checks for configuration</span></div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>        <span class="keywordtype">char</span> fail_msg[MAVLINK_MSG_STATUSTEXT_FIELD_TEXT_LEN+1];</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespaceAP.html#a18bfb8f2e0ff686caaab58f05aab4530">osd</a>-&gt;<a class="code hl_function" href="classAP__OSD.html#a146be92ff867107f2da6d5a5a936f7a2">pre_arm_check</a>(fail_msg, <a class="code hl_define" href="AP__Common_8h.html#a121caf32c5b5d704ef3453f0885a9ea5">ARRAY_SIZE</a>(fail_msg))) {</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa9e6ff1c791cad17dca379a3872f64114">ARMING_CHECK_OSD</a>, display_failure, <span class="stringliteral">&quot;%s&quot;</span>, fail_msg);</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>        }</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>   }</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>}</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span><span class="preprocessor">#endif  </span><span class="comment">// OSD_ENABLED</span></div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span> </div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span><span class="preprocessor">#if HAL_MOUNT_ENABLED</span></div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a44aff7268b9b51e70d0b7b77f17011a8">AP_Arming::mount_checks</a>(<span class="keywordtype">bool</span> display_failure)<span class="keyword"> const</span></div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa954769176c89f1a534b1ce87cce05bf1">ARMING_CHECK_CAMERA</a>)) {</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>        <a class="code hl_class" href="classAP__Mount.html">AP_Mount</a> *<a class="code hl_function" href="namespaceAP.html#aa6f0d760efc796d0ad5345d3acc377b8">mount</a> = <a class="code hl_function" href="namespaceAP.html#aa6f0d760efc796d0ad5345d3acc377b8">AP::mount</a>();</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>        <span class="keywordflow">if</span> (mount == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>        }</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>        <span class="keywordtype">char</span> fail_msg[MAVLINK_MSG_STATUSTEXT_FIELD_TEXT_LEN+1] = {};</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespaceAP.html#aa6f0d760efc796d0ad5345d3acc377b8">mount</a>-&gt;<a class="code hl_function" href="classAP__Mount.html#a059169bcbd67379c687b457e2ab72a0d">pre_arm_checks</a>(fail_msg, <span class="keyword">sizeof</span>(fail_msg))) {</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa954769176c89f1a534b1ce87cce05bf1">ARMING_CHECK_CAMERA</a>, display_failure, <span class="stringliteral">&quot;Mount: %s&quot;</span>, fail_msg);</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>        }</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>    }</div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>}</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span><span class="preprocessor">#endif  </span><span class="comment">// HAL_MOUNT_ENABLED</span></div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span> </div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span><span class="preprocessor">#if AP_FETTEC_ONEWIRE_ENABLED</span></div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#ac79c8dfb0c1eaa2dc6fa94714f846219">AP_Arming::fettec_checks</a>(<span class="keywordtype">bool</span> display_failure)<span class="keyword"> const</span></div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>    <span class="keyword">const</span> AP_FETtecOneWire *<a class="code hl_define" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a> = AP_FETtecOneWire::get_singleton();</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a> == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>    }</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span> </div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>    <span class="comment">// check ESCs are ready</span></div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>    <span class="keywordtype">char</span> fail_msg[MAVLINK_MSG_STATUSTEXT_FIELD_TEXT_LEN+1];</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>-&gt;pre_arm_check(fail_msg, <a class="code hl_define" href="AP__Common_8h.html#a121caf32c5b5d704ef3453f0885a9ea5">ARRAY_SIZE</a>(fail_msg))) {</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3062b4aded78adab2a8005e322d81b2f">ARMING_CHECK_ALL</a>, display_failure, <span class="stringliteral">&quot;FETtec: %s&quot;</span>, fail_msg);</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>    }</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>}</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span><span class="preprocessor">#endif  </span><span class="comment">// AP_FETTEC_ONEWIRE_ENABLED</span></div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span> </div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span><span class="preprocessor">#if AP_ARMING_AUX_AUTH_ENABLED</span></div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span><span class="comment">// request an auxiliary authorisation id.  This id should be used in subsequent calls to set_aux_auth_passed/failed</span></div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span><span class="comment">// returns true on success</span></div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span><span class="keywordtype">bool</span> AP_Arming::get_aux_auth_id(uint8_t&amp; auth_id)</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>{</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>    <a class="code hl_define" href="AP__HAL_2Semaphores_8h.html#a819dd9ac6de800cdf1014b0a922b67d4">WITH_SEMAPHORE</a>(aux_auth_sem);</div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span> </div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>    <span class="comment">// check we have enough room to allocate another id</span></div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>    <span class="keywordflow">if</span> (aux_auth_count &gt;= aux_auth_count_max) {</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>        aux_auth_error = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>    }</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span> </div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>    <span class="comment">// allocate buffer for failure message</span></div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>    <span class="keywordflow">if</span> (aux_auth_fail_msg == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>        aux_auth_fail_msg = (<span class="keywordtype">char</span> *)<a class="code hl_function" href="malloc_8c.html#a2807e26a012717736641384f91ab2563">calloc</a>(aux_auth_str_len, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>        <span class="keywordflow">if</span> (aux_auth_fail_msg == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>            aux_auth_error = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>        }</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>    }</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>    auth_id = aux_auth_count;</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>    aux_auth_count++;</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>}</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span> </div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span><span class="comment">// set auxiliary authorisation passed</span></div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span><span class="keywordtype">void</span> AP_Arming::set_aux_auth_passed(uint8_t auth_id)</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>{</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>    <a class="code hl_define" href="AP__HAL_2Semaphores_8h.html#a819dd9ac6de800cdf1014b0a922b67d4">WITH_SEMAPHORE</a>(aux_auth_sem);</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span> </div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>    <span class="comment">// sanity check auth_id</span></div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>    <span class="keywordflow">if</span> (auth_id &gt;= aux_auth_count) {</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>    }</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span> </div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>    aux_auth_state[auth_id] = AuxAuthStates::AUTH_PASSED;</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>}</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span> </div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span><span class="comment">// set auxiliary authorisation failed and provide failure message</span></div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span><span class="keywordtype">void</span> AP_Arming::set_aux_auth_failed(uint8_t auth_id, <span class="keyword">const</span> <span class="keywordtype">char</span>* fail_msg)</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>{</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>    <a class="code hl_define" href="AP__HAL_2Semaphores_8h.html#a819dd9ac6de800cdf1014b0a922b67d4">WITH_SEMAPHORE</a>(aux_auth_sem);</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span> </div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>    <span class="comment">// sanity check auth_id</span></div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>    <span class="keywordflow">if</span> (auth_id &gt;= aux_auth_count) {</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>    }</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span> </div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>    <span class="comment">// update state</span></div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>    aux_auth_state[auth_id] = AuxAuthStates::AUTH_FAILED;</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span> </div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>    <span class="comment">// store failure message if this authoriser has the lowest auth_id</span></div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>    <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; auth_id; i++) {</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>        <span class="keywordflow">if</span> (aux_auth_state[i] == AuxAuthStates::AUTH_FAILED) {</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>        }</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>    }</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>    <span class="keywordflow">if</span> (aux_auth_fail_msg != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>        <span class="keywordflow">if</span> (fail_msg == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>            strncpy(aux_auth_fail_msg, <span class="stringliteral">&quot;Auxiliary authorisation refused&quot;</span>, aux_auth_str_len);</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>            strncpy(aux_auth_fail_msg, fail_msg, aux_auth_str_len);</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>        }</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>        aux_auth_fail_msg_source = auth_id;</div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>    }</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>}</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span> </div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span><span class="keywordtype">bool</span> AP_Arming::aux_auth_checks(<span class="keywordtype">bool</span> display_failure)</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>{</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>    <span class="comment">// handle error cases</span></div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>    <span class="keywordflow">if</span> (aux_auth_error) {</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>        <span class="keywordflow">if</span> (aux_auth_fail_msg == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa5f664e280f214a4b07c16f9c450ba53f">ARMING_CHECK_AUX_AUTH</a>, display_failure, <span class="stringliteral">&quot;memory low for auxiliary authorisation&quot;</span>);</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa5f664e280f214a4b07c16f9c450ba53f">ARMING_CHECK_AUX_AUTH</a>, display_failure, <span class="stringliteral">&quot;Too many auxiliary authorisers&quot;</span>);</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>        }</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>    }</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span> </div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>    <a class="code hl_define" href="AP__HAL_2Semaphores_8h.html#a819dd9ac6de800cdf1014b0a922b67d4">WITH_SEMAPHORE</a>(aux_auth_sem);</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span> </div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>    <span class="comment">// check results for each auxiliary authorisation id</span></div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>    <span class="keywordtype">bool</span> some_failures = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>    <span class="keywordtype">bool</span> failure_msg_sent = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>    <span class="keywordtype">bool</span> waiting_for_responses = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>    <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; aux_auth_count; i++) {</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>        <span class="keywordflow">switch</span> (aux_auth_state[i]) {</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>        <span class="keywordflow">case</span> AuxAuthStates::NO_RESPONSE:</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>            waiting_for_responses = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>        <span class="keywordflow">case</span> AuxAuthStates::AUTH_FAILED:</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>            some_failures = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>            <span class="keywordflow">if</span> (i == aux_auth_fail_msg_source) {</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>                <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa5f664e280f214a4b07c16f9c450ba53f">ARMING_CHECK_AUX_AUTH</a>, display_failure, <span class="stringliteral">&quot;%s&quot;</span>, aux_auth_fail_msg);</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>                failure_msg_sent = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>            }</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>        <span class="keywordflow">case</span> AuxAuthStates::AUTH_PASSED:</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>        }</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>    }</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span> </div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>    <span class="comment">// send failure or waiting message</span></div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span>    <span class="keywordflow">if</span> (some_failures) {</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>        <span class="keywordflow">if</span> (!failure_msg_sent) {</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa5f664e280f214a4b07c16f9c450ba53f">ARMING_CHECK_AUX_AUTH</a>, display_failure, <span class="stringliteral">&quot;Auxiliary authorisation refused&quot;</span>);</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>        }</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (waiting_for_responses) {</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa5f664e280f214a4b07c16f9c450ba53f">ARMING_CHECK_AUX_AUTH</a>, display_failure, <span class="stringliteral">&quot;Waiting for auxiliary authorisation&quot;</span>);</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>    }</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span> </div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>    <span class="comment">// if we got this far all auxiliary checks must have passed</span></div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>}</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span><span class="preprocessor">#endif  </span><span class="comment">// AP_ARMING_AUX_AUTH_ENABLED</span></div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span> </div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span><span class="preprocessor">#if HAL_GENERATOR_ENABLED</span></div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#ab1d5634e7c937cad73b7802faf0001fa">AP_Arming::generator_checks</a>(<span class="keywordtype">bool</span> display_failure)<span class="keyword"> const</span></div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>    <span class="keyword">const</span> <a class="code hl_class" href="classAP__Generator.html">AP_Generator</a> *<a class="code hl_function" href="namespaceAP.html#ab276a35e0d3e0571fe2af418cf09da75">generator</a> = <a class="code hl_function" href="namespaceAP.html#ab276a35e0d3e0571fe2af418cf09da75">AP::generator</a>();</div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>    <span class="keywordflow">if</span> (generator == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>    }</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>    <span class="keywordtype">char</span> failure_msg[50] = {};</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespaceAP.html#ab276a35e0d3e0571fe2af418cf09da75">generator</a>-&gt;<a class="code hl_function" href="classAP__Generator.html#ad76c1f409b533b61fc8aabe862b411b4">pre_arm_check</a>(failure_msg, <span class="keyword">sizeof</span>(failure_msg))) {</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(display_failure, <span class="stringliteral">&quot;Generator: %s&quot;</span>, failure_msg);</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>    }</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>}</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span><span class="preprocessor">#endif  </span><span class="comment">// HAL_GENERATOR_ENABLED</span></div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span> </div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span><span class="preprocessor">#if AP_OPENDRONEID_ENABLED</span></div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span><span class="comment">// OpenDroneID Checks</span></div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#af2324bc7b77e7915f790a854bced1a5b">AP_Arming::opendroneid_checks</a>(<span class="keywordtype">bool</span> display_failure)</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>{</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>    <span class="keyword">auto</span> &amp;opendroneid = AP::opendroneid();</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span> </div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>    <span class="keywordtype">char</span> failure_msg[50] {};</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>    <span class="keywordflow">if</span> (!opendroneid.pre_arm_check(failure_msg, <span class="keyword">sizeof</span>(failure_msg))) {</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(display_failure, <span class="stringliteral">&quot;OpenDroneID: %s&quot;</span>, failure_msg);</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>    }</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>}</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span><span class="preprocessor">#endif  </span><span class="comment">// AP_OPENDRONEID_ENABLED</span></div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span> </div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span><span class="comment">//Check for multiple RC in serial protocols</span></div>
<div class="foldopen" id="foldopen01478" data-start="{" data-end="}">
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"><a class="line" href="classAP__Arming.html#aa0d54a0d54785fe396f354b46024176a"> 1478</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#aa0d54a0d54785fe396f354b46024176a">AP_Arming::serial_protocol_checks</a>(<span class="keywordtype">bool</span> display_failure)</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>{</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceAP.html#aa01135941499a6cbb5fc30403fc24c65">AP::serialmanager</a>().have_serial(<a class="code hl_enumvalue" href="classAP__SerialManager.html#af95280ba50704a8adece62755cb348e7ac5b4951c22b6d1f3ae0faa960c688517">AP_SerialManager::SerialProtocol_RCIN</a>, 1)) {</div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>       <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(display_failure, <span class="stringliteral">&quot;Multiple SERIAL ports configured for RC input&quot;</span>);</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>       <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>    }</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>}</div>
</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span> </div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span><span class="comment">//Check for estop</span></div>
<div class="foldopen" id="foldopen01488" data-start="{" data-end="}">
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"><a class="line" href="classAP__Arming.html#a4f3ddc2d4dff1f2034a53cba6905ab13"> 1488</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a4f3ddc2d4dff1f2034a53cba6905ab13">AP_Arming::estop_checks</a>(<span class="keywordtype">bool</span> display_failure)</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>{</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classSRV__Channels.html#a617fda485edaa49f065f6dd7a91d174a">SRV_Channels::get_emergency_stop</a>()) {</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>       <span class="comment">// not emergency-stopped, so no prearm failure:</span></div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span>       <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>    }</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span><span class="preprocessor">#if AP_RC_CHANNEL_ENABLED</span></div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>    <span class="comment">// vehicle is emergency-stopped; if this *appears* to have been done via switch then we do not fail prearms:</span></div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>    <span class="keyword">const</span> <a class="code hl_class" href="classRC__Channel.html">RC_Channel</a> *<a class="code hl_variable" href="examples_2AnalogIn_2AnalogIn_8cpp.html#a130f3ebe4c1bb6993e1094760227ad6a">chan</a> = <a class="code hl_function" href="RC__Channel_8h.html#abe35aea6177a1cdf87a22af5c263bb89">rc</a>().<a class="code hl_function" href="classRC__Channels.html#ad11a87063ac7492ed975e4ba4acfaf65">find_channel_for_option</a>(<a class="code hl_enumvalue" href="classRC__Channel.html#ae249c352997284fd0d29bf67adf7835aa5ae616f3ec6a0c1d82c1d6ccb30c6bab">RC_Channel::AUX_FUNC::ARM_EMERGENCY_STOP</a>);</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="examples_2AnalogIn_2AnalogIn_8cpp.html#a130f3ebe4c1bb6993e1094760227ad6a">chan</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>        <span class="comment">// an RC channel is configured for arm_emergency_stop option, so estop maybe activated via this switch</span></div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="examples_2AnalogIn_2AnalogIn_8cpp.html#a130f3ebe4c1bb6993e1094760227ad6a">chan</a>-&gt;get_aux_switch_pos() == <a class="code hl_enumvalue" href="classRC__Channel.html#a2006134fd195519c0616e23b9f90bb46a41bc94cbd8eebea13ce0491b2ac11b88">RC_Channel::AuxSwitchPos::LOW</a>) {</div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>            <span class="comment">// switch is configured and is in estop position, so likely the reason we are estopped, so no prearm failure</span></div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">// no prearm failure</span></div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>        }</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>    }</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span><span class="preprocessor">#endif  </span><span class="comment">// AP_RC_CHANNEL_ENABLED</span></div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>    <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(display_failure,<span class="stringliteral">&quot;Motors Emergency Stopped&quot;</span>);</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>}</div>
</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span> </div>
<div class="foldopen" id="foldopen01509" data-start="{" data-end="}">
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"><a class="line" href="classAP__Arming.html#a73c03baf7f22b7124a2ac9e9286a850a"> 1509</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a73c03baf7f22b7124a2ac9e9286a850a">AP_Arming::pre_arm_checks</a>(<span class="keywordtype">bool</span> report)</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>{</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span><span class="preprocessor">#if !APM_BUILD_COPTER_OR_HELI</span></div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Arming.html#aabc61cc7d21253f5f52e3a55b87bb4ca">armed</a> || <a class="code hl_function" href="classAP__Arming.html#ad1aeda71b7360ca68d532178e0e7f0d0">arming_required</a>() == <a class="code hl_enumvalue" href="classAP__Arming.html#ad2462f103a95f428ff3c0f2b2f9c8ab7ac2f3f489a00553e7a01d369c103c7251">Required::NO</a>) {</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>        <span class="comment">// if we are already armed or don&#39;t need any arming checks</span></div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>        <span class="comment">// then skip the checks</span></div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>    }</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span> </div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>    <span class="keywordtype">bool</span> checks_result = <a class="code hl_function" href="classAP__Arming.html#a66dd88cc4605d1c91c655b2959274b5c">hardware_safety_check</a>(report)</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span><span class="preprocessor">#if HAL_HAVE_IMU_HEATER</span></div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>        &amp;  heater_min_temperature_checks(report)</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span><span class="preprocessor">#if AP_BARO_ENABLED</span></div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#af6f4e5ed936ada30378367cda0ad7710">barometer_checks</a>(report)</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span><span class="preprocessor">#if AP_INERTIALSENSOR_ENABLED</span></div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>        &amp;  ins_checks(report)</div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span><span class="preprocessor">#if AP_COMPASS_ENABLED</span></div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#a24332b3f5e2e233914bce12e69ae9564">compass_checks</a>(report)</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span><span class="preprocessor">#if AP_GPS_ENABLED</span></div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#ae5be2c08d3fc6a22d3ab2135a49c3ff6">gps_checks</a>(report)</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span><span class="preprocessor">#if AP_BATTERY_ENABLED</span></div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#a03bd378dc54cf6f8624cac6c2e59aa79">battery_checks</a>(report)</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span><span class="preprocessor">#if HAL_LOGGING_ENABLED</span></div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#a42b683a689bf706a186653bcf3c1d442">logging_checks</a>(report)</div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span><span class="preprocessor">#if AP_RC_CHANNEL_ENABLED</span></div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#aa2db8e16fc960948bf9ddd7fd875bb3b">manual_transmitter_checks</a>(report)</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span><span class="preprocessor">#if AP_MISSION_ENABLED</span></div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#ad7114c8874ca085e46068f26241e8e4e">mission_checks</a>(report)</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span><span class="preprocessor">#if AP_RANGEFINDER_ENABLED</span></div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#a9e549b0827b9d501b7e6ccd90602f223">rangefinder_checks</a>(report)</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#a40b33f4a1ce1fbcf90b4acf400a60123">servo_checks</a>(report)</div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#a3a7732a0c5ed5b5ccbb97e72c2a6587c">board_voltage_checks</a>(report)</div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#a2630510b7cc6c34f58bbb049d8b98576">system_checks</a>(report)</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#aa9a6cfb700e8fd32de6678d4ebba297d">terrain_checks</a>(report)</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span><span class="preprocessor">#if HAL_MAX_CAN_PROTOCOL_DRIVERS &amp;&amp; HAL_CANMANAGER_ENABLED</span></div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#a6a70f13faf0a1f227f549a09b84c147e">can_checks</a>(report)</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span><span class="preprocessor">#if HAL_GENERATOR_ENABLED</span></div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#ab1d5634e7c937cad73b7802faf0001fa">generator_checks</a>(report)</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span><span class="preprocessor">#if HAL_PROXIMITY_ENABLED</span></div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>        &amp;  proximity_checks(report)</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span><span class="preprocessor">#if HAL_RUNCAM_ENABLED</span></div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#aa03c902a0bd3d47ffd59374f2d6cdfb1">camera_checks</a>(report)</div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span><span class="preprocessor">#if OSD_ENABLED</span></div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#a1ad267dc539a9953e86089b228f376ba">osd_checks</a>(report)</div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span><span class="preprocessor">#if HAL_MOUNT_ENABLED</span></div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#a44aff7268b9b51e70d0b7b77f17011a8">mount_checks</a>(report)</div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span><span class="preprocessor">#if AP_FETTEC_ONEWIRE_ENABLED</span></div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#ac79c8dfb0c1eaa2dc6fa94714f846219">fettec_checks</a>(report)</div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span><span class="preprocessor">#if HAL_VISUALODOM_ENABLED</span></div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#af367341efb40066a13ef7c4c0090b821">visodom_checks</a>(report)</div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span><span class="preprocessor">#if AP_ARMING_AUX_AUTH_ENABLED</span></div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>        &amp;  aux_auth_checks(report)</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span><span class="preprocessor">#if AP_RC_CHANNEL_ENABLED</span></div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#a58505aad3a3aa6310e441e834e78d7d7">disarm_switch_checks</a>(report)</div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span><span class="preprocessor">#if AP_FENCE_ENABLED</span></div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#a98bcd9c01b012d94e1ed4239f63c6207">fence_checks</a>(report)</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span><span class="preprocessor">#if AP_OPENDRONEID_ENABLED</span></div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#af2324bc7b77e7915f790a854bced1a5b">opendroneid_checks</a>(report)</div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#aa0d54a0d54785fe396f354b46024176a">serial_protocol_checks</a>(report)</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>        &amp;  <a class="code hl_function" href="classAP__Arming.html#a4f3ddc2d4dff1f2034a53cba6905ab13">estop_checks</a>(report);</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span> </div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>    <span class="keywordflow">if</span> (!checks_result &amp;&amp; <a class="code hl_variable" href="classAP__Arming.html#a68541a86fb655d7cbc82332bbfaa53fb">last_prearm_checks_result</a>) { <span class="comment">// check went from true to false</span></div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>        <a class="code hl_variable" href="classAP__Arming.html#ad7ec78de73287b0cbff220b1a5491869">report_immediately</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>    }</div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>    <a class="code hl_variable" href="classAP__Arming.html#a68541a86fb655d7cbc82332bbfaa53fb">last_prearm_checks_result</a> = checks_result;</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span> </div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>    <span class="keywordflow">return</span> checks_result;</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span>}</div>
</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span> </div>
<div class="foldopen" id="foldopen01601" data-start="{" data-end="}">
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"><a class="line" href="classAP__Arming.html#a00a7a4cbd455ef887fce6e90f9560bf7"> 1601</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a00a7a4cbd455ef887fce6e90f9560bf7">AP_Arming::arm_checks</a>(<a class="code hl_enumeration" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007">AP_Arming::Method</a> <a class="code hl_struct" href="structmethod.html">method</a>)</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>{</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span><span class="preprocessor">#if AP_RC_CHANNEL_ENABLED</span></div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa32257c8f0eaeb3b7db2572fbaca0cd70">ARMING_CHECK_RC</a>)) {</div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Arming.html#a4923dd9579bc265a0fa7d41ca9c54eef">rc_arm_checks</a>(<a class="code hl_struct" href="structmethod.html">method</a>)) {</div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span>        }</div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span>    }</div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span> </div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>    <span class="comment">// ensure the GPS drivers are ready on any final changes</span></div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fae548f2b4b49b9709eb0779495a12bf62">ARMING_CHECK_GPS_CONFIG</a>)) {</div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespaceAP.html#ae6eeec356455220f913e47e323057cd5">AP::gps</a>().prepare_for_arming()) {</div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>        }</div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span>    }</div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span> </div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span>    <span class="comment">// note that this will prepare AP_Logger to start logging</span></div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>    <span class="comment">// so should be the last check to be done before arming</span></div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span> </div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>    <span class="comment">// Note also that we need to PrepForArming() regardless of whether</span></div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span>    <span class="comment">// the arming check flag is set - disabling the arming check</span></div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span>    <span class="comment">// should not stop logging from working.</span></div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span> </div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span><span class="preprocessor">#if HAL_LOGGING_ENABLED</span></div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span>    <a class="code hl_class" href="classAP__Logger.html">AP_Logger</a> *<a class="code hl_variable" href="ReplayGyroFFT_8cpp.html#a9fede12aaeb5750bcb131cae0430647c">logger</a> = <a class="code hl_function" href="classAP__Logger.html#aa95af9746c4b60e8386f2eb9569404eb">AP_Logger::get_singleton</a>();</div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="ReplayGyroFFT_8cpp.html#a9fede12aaeb5750bcb131cae0430647c">logger</a>-&gt;<a class="code hl_function" href="classAP__Logger.html#a6c412f55ad335bc8d3ee8ae8234de45a">logging_present</a>()) {</div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span>        <span class="comment">// If we&#39;re configured to log, prep it</span></div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>        <a class="code hl_variable" href="ReplayGyroFFT_8cpp.html#a9fede12aaeb5750bcb131cae0430647c">logger</a>-&gt;<a class="code hl_function" href="classAP__Logger.html#a682fba8208fd249646e187eb49ab41e8">PrepForArming</a>();</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="ReplayGyroFFT_8cpp.html#a9fede12aaeb5750bcb131cae0430647c">logger</a>-&gt;<a class="code hl_function" href="classAP__Logger.html#a0e831b7cb6a8be8789970ead836b3bdf">logging_started</a>() &amp;&amp;</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>            <a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3f68bb691cf73037c0eb1c02f65d87a2">ARMING_CHECK_LOGGING</a>)) {</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3f68bb691cf73037c0eb1c02f65d87a2">ARMING_CHECK_LOGGING</a>, <span class="keyword">true</span>, <span class="stringliteral">&quot;Logging not started&quot;</span>);</div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span>        }</div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>    }</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span><span class="preprocessor">#endif  </span><span class="comment">// HAL_LOGGING_ENABLED</span></div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span> </div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span>}</div>
</div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span> </div>
<div class="foldopen" id="foldopen01641" data-start="{" data-end="}">
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"><a class="line" href="classAP__Arming.html#a322be80fe3a27ff7efece41a15fcb2bc"> 1641</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a322be80fe3a27ff7efece41a15fcb2bc">AP_Arming::mandatory_checks</a>(<span class="keywordtype">bool</span> report)</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>{</div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>    <span class="keywordtype">bool</span> ret = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span><span class="preprocessor">#if AP_OPENDRONEID_ENABLED</span></div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>    ret &amp;= <a class="code hl_function" href="classAP__Arming.html#af2324bc7b77e7915f790a854bced1a5b">opendroneid_checks</a>(report);</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>    ret &amp;= <a class="code hl_function" href="classAP__Arming.html#ab3fada4715d1f6e886c75a4b3065cb32">rc_in_calibration_check</a>(report);</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>    ret &amp;= <a class="code hl_function" href="classAP__Arming.html#aa0d54a0d54785fe396f354b46024176a">serial_protocol_checks</a>(report);</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>}</div>
</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span> </div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span><span class="comment">//returns true if arming occurred successfully</span></div>
<div class="foldopen" id="foldopen01653" data-start="{" data-end="}">
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"><a class="line" href="classAP__Arming.html#abeebfae7f8ef321308d6ca739c25d4f9"> 1653</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#abeebfae7f8ef321308d6ca739c25d4f9">AP_Arming::arm</a>(<a class="code hl_enumeration" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007">AP_Arming::Method</a> <a class="code hl_struct" href="structmethod.html">method</a>, <span class="keyword">const</span> <span class="keywordtype">bool</span> do_arming_checks)</div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span>{</div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Arming.html#aabc61cc7d21253f5f52e3a55b87bb4ca">armed</a>) { <span class="comment">//already armed</span></div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>    }</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span> </div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>    <a class="code hl_variable" href="classAP__Arming.html#acb2759057d97d046e1c211dc538efaf3">running_arming_checks</a> = <span class="keyword">true</span>;  <span class="comment">// so we show Arm: rather than Disarm: in messages</span></div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span> </div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>    <span class="keywordflow">if</span> ((!do_arming_checks &amp;&amp; <a class="code hl_function" href="classAP__Arming.html#a322be80fe3a27ff7efece41a15fcb2bc">mandatory_checks</a>(<span class="keyword">true</span>)) || (<a class="code hl_function" href="classAP__Arming.html#a73c03baf7f22b7124a2ac9e9286a850a">pre_arm_checks</a>(<span class="keyword">true</span>) &amp;&amp; <a class="code hl_function" href="classAP__Arming.html#a00a7a4cbd455ef887fce6e90f9560bf7">arm_checks</a>(<a class="code hl_struct" href="structmethod.html">method</a>))) {</div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>        <a class="code hl_variable" href="classAP__Arming.html#aabc61cc7d21253f5f52e3a55b87bb4ca">armed</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span> </div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>        <a class="code hl_variable" href="classAP__Arming.html#aa1262e7542c04172a7a9be9ffa16134c">_last_arm_method</a> = <a class="code hl_struct" href="structmethod.html">method</a>;</div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span> </div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span><span class="preprocessor">#if HAL_LOGGING_ENABLED</span></div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>        <a class="code hl_function" href="classAP__Arming.html#af7a2506cdfb29fc95afcb9949895af1e">Log_Write_Arm</a>(!do_arming_checks, <a class="code hl_struct" href="structmethod.html">method</a>); <span class="comment">// note Log_Write_Armed takes forced not do_arming_checks</span></div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span> </div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span><span class="preprocessor">#if HAL_LOGGING_ENABLED</span></div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span>        <a class="code hl_function" href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a>().<a class="code hl_function" href="classAP__Logger.html#a833516d32912739cb88a8f97b568062c">arming_failure</a>();</div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span>        <a class="code hl_variable" href="classAP__Arming.html#aabc61cc7d21253f5f52e3a55b87bb4ca">armed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span>    }</div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span> </div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span>    <a class="code hl_variable" href="classAP__Arming.html#acb2759057d97d046e1c211dc538efaf3">running_arming_checks</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span> </div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Arming.html#aabc61cc7d21253f5f52e3a55b87bb4ca">armed</a> &amp;&amp; do_arming_checks &amp;&amp; <a class="code hl_variable" href="classAP__Arming.html#aa9e0cb21a3be70b834a9a8b74ba19356">checks_to_perform</a> == 0) {</div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span>        <a class="code hl_define" href="GCS_8h.html#a266bfe8eda675e1092f045e93932b4a6">GCS_SEND_TEXT</a>(MAV_SEVERITY_WARNING, <span class="stringliteral">&quot;Warning: Arming Checks Disabled&quot;</span>);</div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span>    }</div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span>    </div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span><span class="preprocessor">#if HAL_GYROFFT_ENABLED</span></div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span>    <span class="comment">// make sure the FFT subsystem is enabled if arming checks have been disabled</span></div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>    AP_GyroFFT *fft = AP::fft();</div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span>    <span class="keywordflow">if</span> (fft != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>        fft-&gt;prepare_for_arming();</div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>    }</div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span> </div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span><span class="preprocessor">#if AP_TERRAIN_AVAILABLE</span></div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Arming.html#aabc61cc7d21253f5f52e3a55b87bb4ca">armed</a>) {</div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span>        <span class="comment">// tell terrain we have just armed, so it can setup</span></div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>        <span class="comment">// a reference location for terrain adjustment</span></div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span>        <span class="keyword">auto</span> *terrain = AP::terrain();</div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>        <span class="keywordflow">if</span> (terrain != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>            terrain-&gt;set_reference_location();</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span>        }</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>    }</div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span> </div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span><span class="preprocessor">#if AP_FENCE_ENABLED</span></div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Arming.html#aabc61cc7d21253f5f52e3a55b87bb4ca">armed</a>) {</div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span>        <span class="keyword">auto</span> *fence = <a class="code hl_function" href="namespaceAP.html#ad7eb5eb7d80cfbcb69839b497bff7a46">AP::fence</a>();</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>        <span class="keywordflow">if</span> (fence != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>            <span class="comment">// If a fence is set to auto-enable, turn on the fence</span></div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>            <span class="keywordflow">if</span> (fence-&gt;<a class="code hl_function" href="classAC__Fence.html#ab7efc0e2e81e68b3fbbab7faff3ae63b">auto_enabled</a>() == <a class="code hl_enumvalue" href="classAC__Fence.html#a3995332aeef635395d2374b85ea8b746aaaa0bf045ea5e247046159f14dd7ba37">AC_Fence::AutoEnable::ONLY_WHEN_ARMED</a>) {</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>                fence-&gt;<a class="code hl_function" href="classAC__Fence.html#a049ab67fd30dd133cbb24439173a9286">enable</a>(<span class="keyword">true</span>);</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>                <a class="code hl_define" href="GCS_8h.html#a266bfe8eda675e1092f045e93932b4a6">GCS_SEND_TEXT</a>(MAV_SEVERITY_INFO, <span class="stringliteral">&quot;Fence: auto-enabled&quot;</span>);</div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span>            }</div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span>        }</div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span>    }</div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span><span class="preprocessor">#if defined(HAL_ARM_GPIO_PIN)</span></div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>    <a class="code hl_function" href="classAP__Arming.html#a74e983fbe4402ef505b1b753b3981a82">update_arm_gpio</a>();</div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classAP__Arming.html#aabc61cc7d21253f5f52e3a55b87bb4ca">armed</a>;</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>}</div>
</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span> </div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span><span class="comment">//returns true if disarming occurred successfully</span></div>
<div class="foldopen" id="foldopen01721" data-start="{" data-end="}">
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"><a class="line" href="classAP__Arming.html#a97cd0d015cd8f9b6920cfa1b304d84ef"> 1721</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a97cd0d015cd8f9b6920cfa1b304d84ef">AP_Arming::disarm</a>(<span class="keyword">const</span> <a class="code hl_enumeration" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007">AP_Arming::Method</a> <a class="code hl_struct" href="structmethod.html">method</a>, <span class="keywordtype">bool</span> do_disarm_checks)</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span>{</div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classAP__Arming.html#aabc61cc7d21253f5f52e3a55b87bb4ca">armed</a>) { <span class="comment">// already disarmed</span></div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>    }</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>    <a class="code hl_variable" href="classAP__Arming.html#aabc61cc7d21253f5f52e3a55b87bb4ca">armed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span>    <a class="code hl_variable" href="classAP__Arming.html#a5a53a43cdc4cad7b332236f1d432bee8">_last_disarm_method</a> = <a class="code hl_struct" href="structmethod.html">method</a>;</div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span> </div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span><span class="preprocessor">#if HAL_LOGGING_ENABLED</span></div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>    <a class="code hl_function" href="classAP__Arming.html#a4ddcb14ba29b0ad4718c5494a1dec68c">Log_Write_Disarm</a>(!do_disarm_checks, <a class="code hl_struct" href="structmethod.html">method</a>);  <span class="comment">// Log_Write_Disarm takes &quot;force&quot;</span></div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span> </div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>    <a class="code hl_function" href="classAP__Arming.html#a8e16a0b791e7276a4f9a3d9fa072528d">check_forced_logging</a>(<a class="code hl_struct" href="structmethod.html">method</a>);</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span> </div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span><span class="preprocessor">#if HAL_HAVE_SAFETY_SWITCH</span></div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>    <a class="code hl_class" href="classAP__BoardConfig.html">AP_BoardConfig</a> *board_cfg = <a class="code hl_function" href="classAP__BoardConfig.html#aa226fe782a2f0331e3331827ded89847">AP_BoardConfig::get_singleton</a>();</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>    <span class="keywordflow">if</span> ((board_cfg != <span class="keyword">nullptr</span>) &amp;&amp;</div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>        (board_cfg-&gt;<a class="code hl_function" href="classAP__BoardConfig.html#a96b55c8ed6ff000ef3b8c0a83006c94e">get_safety_button_options</a>() &amp; <a class="code hl_enumvalue" href="classAP__BoardConfig.html#a139955525d15de2d901f0056ee5f0738ac39367dc2db2148b0236748675aefa21">AP_BoardConfig::BOARD_SAFETY_OPTION_SAFETY_ON_DISARM</a>)) {</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>        <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#aa6daf2df3dfc0b9f0f503db64a52b0cc">rcout</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1RCOutput.html#a6852e3aa22747f045dc71972e97d7de6">force_safety_on</a>();</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>    }</div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span><span class="preprocessor">#endif </span><span class="comment">// HAL_HAVE_SAFETY_SWITCH</span></div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span> </div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span><span class="preprocessor">#if HAL_GYROFFT_ENABLED</span></div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>    AP_GyroFFT *fft = AP::fft();</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>    <span class="keywordflow">if</span> (fft != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span>        fft-&gt;save_params_on_disarm();</div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>    }</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span> </div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span><span class="preprocessor">#if AP_FENCE_ENABLED</span></div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>    <a class="code hl_class" href="classAC__Fence.html">AC_Fence</a> *fence = <a class="code hl_function" href="namespaceAP.html#ad7eb5eb7d80cfbcb69839b497bff7a46">AP::fence</a>();</div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>    <span class="keywordflow">if</span> (fence != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>        <span class="keywordflow">if</span>(fence-&gt;<a class="code hl_function" href="classAC__Fence.html#ab7efc0e2e81e68b3fbbab7faff3ae63b">auto_enabled</a>() == <a class="code hl_enumvalue" href="classAC__Fence.html#a3995332aeef635395d2374b85ea8b746aaaa0bf045ea5e247046159f14dd7ba37">AC_Fence::AutoEnable::ONLY_WHEN_ARMED</a>) {</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>            fence-&gt;<a class="code hl_function" href="classAC__Fence.html#a049ab67fd30dd133cbb24439173a9286">enable</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>        }</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>    }</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span><span class="preprocessor">#if defined(HAL_ARM_GPIO_PIN)</span></div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>    <a class="code hl_function" href="classAP__Arming.html#a74e983fbe4402ef505b1b753b3981a82">update_arm_gpio</a>();</div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>}</div>
</div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span> </div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span><span class="preprocessor">#if defined(HAL_ARM_GPIO_PIN)</span></div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__Arming.html#a74e983fbe4402ef505b1b753b3981a82">AP_Arming::update_arm_gpio</a>()</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>{</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__BoardConfig.html#acbd5f859e19e383a5e02d9272a10cbf8">AP_BoardConfig::arming_gpio_disabled</a>()) {</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>        <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a13ed800ad745085097f4d6dce9070eb0">gpio</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1GPIO.html#a2b0664bdab1876e3b0bbcd9064eec88e">write</a>(HAL_ARM_GPIO_PIN, <a class="code hl_define" href="AP__BoardConfig_8h.html#a608438d239a242e473d34f5a44787f71">HAL_ARM_GPIO_POL_INVERT</a> ? !<a class="code hl_variable" href="classAP__Arming.html#aabc61cc7d21253f5f52e3a55b87bb4ca">armed</a> : <a class="code hl_variable" href="classAP__Arming.html#aabc61cc7d21253f5f52e3a55b87bb4ca">armed</a>);</div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>    }</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>}</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span> </div>
<div class="foldopen" id="foldopen01773" data-start="{" data-end="}">
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"><a class="line" href="classAP__Arming.html#a7d6e26fcda781c712a36eb1299bd0a52"> 1773</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__Arming.html#a7d6e26fcda781c712a36eb1299bd0a52">AP_Arming::send_arm_disarm_statustext</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *str)<span class="keyword"> const</span></div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Arming.html#a810b6f65282ff4b8fe9270ba0f47b801">option_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#ac77d92266f838f677dedd2ae9bdf9c34a9e783aeaa7103a9c4eddc67f6ec5affe">AP_Arming::Option::DISABLE_STATUSTEXT_ON_STATE_CHANGE</a>)) {</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>    }</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>    <a class="code hl_define" href="GCS_8h.html#a266bfe8eda675e1092f045e93932b4a6">GCS_SEND_TEXT</a>(MAV_SEVERITY_INFO, <span class="stringliteral">&quot;%s&quot;</span>, str);</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>}</div>
</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span> </div>
<div class="foldopen" id="foldopen01781" data-start="{" data-end="}">
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"><a class="line" href="classAP__Arming.html#ad1aeda71b7360ca68d532178e0e7f0d0"> 1781</a></span><a class="code hl_enumeration" href="classAP__Arming.html#ad2462f103a95f428ff3c0f2b2f9c8ab7">AP_Arming::Required</a> <a class="code hl_function" href="classAP__Arming.html#ad1aeda71b7360ca68d532178e0e7f0d0">AP_Arming::arming_required</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span><span class="preprocessor">#if AP_OPENDRONEID_ENABLED</span></div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>    <span class="comment">// cannot be disabled if OpenDroneID is present</span></div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>    <span class="keywordflow">if</span> (AP_OpenDroneID::get_singleton() != <span class="keyword">nullptr</span> &amp;&amp; AP::opendroneid().enabled()) {</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Arming.html#aa713aab12a83b252c8ba79e1c8bcd3b1">require</a> != <a class="code hl_enumvalue" href="classAP__Arming.html#ad2462f103a95f428ff3c0f2b2f9c8ab7ae2e262da3299ab0b11961f03270922f2">Required::YES_MIN_PWM</a> &amp;&amp; <a class="code hl_variable" href="classAP__Arming.html#aa713aab12a83b252c8ba79e1c8bcd3b1">require</a> != <a class="code hl_enumvalue" href="classAP__Arming.html#ad2462f103a95f428ff3c0f2b2f9c8ab7a013dedb96ada18a24cfb438147ab6e8c">Required::YES_ZERO_PWM</a>) {</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classAP__Arming.html#ad2462f103a95f428ff3c0f2b2f9c8ab7ae2e262da3299ab0b11961f03270922f2">Required::YES_MIN_PWM</a>;</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>        }</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>    }</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classAP__Arming.html#aa713aab12a83b252c8ba79e1c8bcd3b1">require</a>;</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>}</div>
</div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span> </div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span><span class="preprocessor">#if AP_RC_CHANNEL_ENABLED</span></div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span><span class="comment">// Copter and sub share the same RC input limits</span></div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span><span class="comment">// Copter checks that min and max have been configured by default, Sub does not</span></div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a56b3b8f0f7384ba938d0413483bef06e">AP_Arming::rc_checks_copter_sub</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> display_failure, <span class="keyword">const</span> <a class="code hl_class" href="classRC__Channel.html">RC_Channel</a> *<a class="code hl_variable" href="srxl_8cpp.html#ada09a2691ec6c7ab346ff7a16e07684a">channels</a>[4])<span class="keyword"> const</span></div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span>    <span class="comment">// set rc-checks to success if RC checks are disabled</span></div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa32257c8f0eaeb3b7db2572fbaca0cd70">ARMING_CHECK_RC</a>)) {</div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span>    }</div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span> </div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>    <span class="keywordtype">bool</span> ret = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span> </div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *channel_names[] = { <span class="stringliteral">&quot;Roll&quot;</span>, <span class="stringliteral">&quot;Pitch&quot;</span>, <span class="stringliteral">&quot;Throttle&quot;</span>, <span class="stringliteral">&quot;Yaw&quot;</span> };</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span> </div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code hl_define" href="AP__Common_8h.html#a121caf32c5b5d704ef3453f0885a9ea5">ARRAY_SIZE</a>(channel_names);i++) {</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span>        <span class="keyword">const</span> <a class="code hl_class" href="classRC__Channel.html">RC_Channel</a> *channel = <a class="code hl_variable" href="srxl_8cpp.html#ada09a2691ec6c7ab346ff7a16e07684a">channels</a>[i];</div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *channel_name = channel_names[i];</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span>        <span class="comment">// check if radio has been calibrated</span></div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>        <span class="keywordflow">if</span> (channel-&gt;<a class="code hl_function" href="classRC__Channel.html#a186bd6c744701bce1755f836d44d5f96">get_radio_min</a>() &gt; <a class="code hl_variable" href="classRC__Channel.html#adbf148d4bbcf58ef3f80b76e95fde83f">RC_Channel::RC_CALIB_MIN_LIMIT_PWM</a>) {</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa32257c8f0eaeb3b7db2572fbaca0cd70">ARMING_CHECK_RC</a>, display_failure, <span class="stringliteral">&quot;%s radio min too high&quot;</span>, channel_name);</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>            ret = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>        }</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>        <span class="keywordflow">if</span> (channel-&gt;<a class="code hl_function" href="classRC__Channel.html#aa056e3c3b15ca3e44aee9f97b7ca7855">get_radio_max</a>() &lt; <a class="code hl_variable" href="classRC__Channel.html#a6a7df44f0f9bc10cd24fc796ef040e59">RC_Channel::RC_CALIB_MAX_LIMIT_PWM</a>) {</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa32257c8f0eaeb3b7db2572fbaca0cd70">ARMING_CHECK_RC</a>, display_failure, <span class="stringliteral">&quot;%s radio max too low&quot;</span>, channel_name);</div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>            ret = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>        }</div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>    }</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span>}</div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span><span class="preprocessor">#endif  </span><span class="comment">// AP_RC_CHANNEL_ENABLED</span></div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span> </div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span><span class="preprocessor">#if HAL_VISUALODOM_ENABLED</span></div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span><span class="comment">// check visual odometry is working</span></div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#af367341efb40066a13ef7c4c0090b821">AP_Arming::visodom_checks</a>(<span class="keywordtype">bool</span> display_failure)<span class="keyword"> const</span></div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">check_enabled</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa705dbad6733b8436efa1f657eccb50cd">ARMING_CHECK_VISION</a>)) {</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>    }</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span> </div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>    AP_VisualOdom *visual_odom = AP::visualodom();</div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>    <span class="keywordflow">if</span> (visual_odom != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>        <span class="keywordtype">char</span> fail_msg[MAVLINK_MSG_STATUSTEXT_FIELD_TEXT_LEN+1];</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>        <span class="keywordflow">if</span> (!visual_odom-&gt;pre_arm_check(fail_msg, <a class="code hl_define" href="AP__Common_8h.html#a121caf32c5b5d704ef3453f0885a9ea5">ARRAY_SIZE</a>(fail_msg))) {</div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>            <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(<a class="code hl_enumvalue" href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa705dbad6733b8436efa1f657eccb50cd">ARMING_CHECK_VISION</a>, display_failure, <span class="stringliteral">&quot;VisOdom: %s&quot;</span>, fail_msg);</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>        }</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>    }</div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span> </div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>}</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span> </div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span><span class="preprocessor">#if AP_RC_CHANNEL_ENABLED</span></div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span><span class="comment">// check disarm switch is asserted</span></div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Arming.html#a58505aad3a3aa6310e441e834e78d7d7">AP_Arming::disarm_switch_checks</a>(<span class="keywordtype">bool</span> display_failure)<span class="keyword"> const</span></div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>    <span class="keyword">const</span> <a class="code hl_class" href="classRC__Channel.html">RC_Channel</a> *<a class="code hl_variable" href="examples_2AnalogIn_2AnalogIn_8cpp.html#a130f3ebe4c1bb6993e1094760227ad6a">chan</a> = <a class="code hl_function" href="RC__Channel_8h.html#abe35aea6177a1cdf87a22af5c263bb89">rc</a>().<a class="code hl_function" href="classRC__Channels.html#ad11a87063ac7492ed975e4ba4acfaf65">find_channel_for_option</a>(<a class="code hl_enumvalue" href="classRC__Channel.html#ae249c352997284fd0d29bf67adf7835aa3cac1eb8d219461b09c2328ff1c33ae0">RC_Channel::AUX_FUNC::DISARM</a>);</div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="examples_2AnalogIn_2AnalogIn_8cpp.html#a130f3ebe4c1bb6993e1094760227ad6a">chan</a> != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>        <a class="code hl_variable" href="examples_2AnalogIn_2AnalogIn_8cpp.html#a130f3ebe4c1bb6993e1094760227ad6a">chan</a>-&gt;get_aux_switch_pos() == <a class="code hl_enumvalue" href="classRC__Channel.html#a2006134fd195519c0616e23b9f90bb46ab89de3b4b81c4facfac906edf29aec8c">RC_Channel::AuxSwitchPos::HIGH</a>) {</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>        <a class="code hl_function" href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">check_failed</a>(display_failure, <span class="stringliteral">&quot;Disarm Switch on&quot;</span>);</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>    }</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span> </div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>}</div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span><span class="preprocessor">#endif  </span><span class="comment">// AP_RC_CHANNEL_ENABLED</span></div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span> </div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span><span class="preprocessor">#if HAL_LOGGING_ENABLED</span></div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__Arming.html#af7a2506cdfb29fc95afcb9949895af1e">AP_Arming::Log_Write_Arm</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> forced, <span class="keyword">const</span> <a class="code hl_enumeration" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007">AP_Arming::Method</a> <a class="code hl_struct" href="structmethod.html">method</a>)</div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>{</div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structlog__Arm__Disarm.html">log_Arm_Disarm</a> pkt {</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>        <a class="code hl_define" href="AP__Logger_2LogStructure_8h.html#abca6b52da10346c72b10dd04698e4420">LOG_PACKET_HEADER_INIT</a>(<a class="code hl_enumvalue" href="AP__Logger_2LogStructure_8h.html#aec1abc8a4fd0e25bbcf703a19b991a05a337369549e7ce48ef9bb2b85e02c2654">LOG_ARM_DISARM_MSG</a>),</div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>        time_us                 : <a class="code hl_function" href="namespaceAP__HAL.html#a7aa0ce7625c9680e30ff4a99940907a5">AP_HAL::micros64</a>(),</div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>        arm_state               : is_armed(),</div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>        arm_checks              : get_enabled_checks(),</div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span>        forced                  : forced,</div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>        <a class="code hl_struct" href="structmethod.html">method</a>                  : (uint8_t)<a class="code hl_struct" href="structmethod.html">method</a>,</div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>    };</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>    <a class="code hl_function" href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a>().<a class="code hl_function" href="classAP__Logger.html#a32f5822b72789c7c83402b2af7544d09">WriteCriticalBlock</a>(&amp;pkt, <span class="keyword">sizeof</span>(pkt));</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>    <a class="code hl_function" href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a>().<a class="code hl_function" href="classAP__Logger.html#acc819f09dd35b615500c4dec658519d2">Write_Event</a>(<a class="code hl_enumvalue" href="AP__Logger_8h.html#abfb7fdeeabd95c90488508e20c5ea981af40e2850f4c07c01444b5f2393f6eb4c">LogEvent::ARMED</a>);</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>}</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span> </div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__Arming.html#a4ddcb14ba29b0ad4718c5494a1dec68c">AP_Arming::Log_Write_Disarm</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> forced, <span class="keyword">const</span> <a class="code hl_enumeration" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007">AP_Arming::Method</a> <a class="code hl_struct" href="structmethod.html">method</a>)</div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>{</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structlog__Arm__Disarm.html">log_Arm_Disarm</a> pkt {</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>        <a class="code hl_define" href="AP__Logger_2LogStructure_8h.html#abca6b52da10346c72b10dd04698e4420">LOG_PACKET_HEADER_INIT</a>(<a class="code hl_enumvalue" href="AP__Logger_2LogStructure_8h.html#aec1abc8a4fd0e25bbcf703a19b991a05a337369549e7ce48ef9bb2b85e02c2654">LOG_ARM_DISARM_MSG</a>),</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>        time_us                 : <a class="code hl_function" href="namespaceAP__HAL.html#a7aa0ce7625c9680e30ff4a99940907a5">AP_HAL::micros64</a>(),</div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>        arm_state               : is_armed(),</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>        arm_checks              : 0,</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>        forced                  : forced,</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>        <a class="code hl_struct" href="structmethod.html">method</a>                  : (uint8_t)<a class="code hl_struct" href="structmethod.html">method</a></div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>    };</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span>    <a class="code hl_function" href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a>().<a class="code hl_function" href="classAP__Logger.html#a32f5822b72789c7c83402b2af7544d09">WriteCriticalBlock</a>(&amp;pkt, <span class="keyword">sizeof</span>(pkt));</div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>    <a class="code hl_function" href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a>().<a class="code hl_function" href="classAP__Logger.html#acc819f09dd35b615500c4dec658519d2">Write_Event</a>(<a class="code hl_enumvalue" href="AP__Logger_8h.html#abfb7fdeeabd95c90488508e20c5ea981a468609fdfdc3c06b2548578e5415da8e">LogEvent::DISARMED</a>);</div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>}</div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span> </div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span><span class="comment">// check if we should keep logging after disarming</span></div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__Arming.html#a8e16a0b791e7276a4f9a3d9fa072528d">AP_Arming::check_forced_logging</a>(<span class="keyword">const</span> <a class="code hl_enumeration" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007">AP_Arming::Method</a> <a class="code hl_struct" href="structmethod.html">method</a>)</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>{</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>    <span class="comment">// keep logging if disarmed for a bad reason</span></div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>    <span class="keywordflow">switch</span>(<a class="code hl_struct" href="structmethod.html">method</a>) {</div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a81bc75c5e7d582c92dbec339e8d89f57">Method::TERMINATION</a>:</div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007aa63bfb8db46a130eafb4704715a50547">Method::CPUFAILSAFE</a>:</div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a8b5cf6225a244655066f6b35c7fe94d1">Method::BATTERYFAILSAFE</a>:</div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a79dae77eae214a51d0b9dafb358038c7">Method::AFS</a>:</div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a42a95585cde968adf3ce3e80628a24d2">Method::ADSBCOLLISIONACTION</a>:</div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a357ebefbb5d067d0a679b952cafdbdf4">Method::PARACHUTE_RELEASE</a>:</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007acef2f26f7da88da7db20faa12bd436c4">Method::CRASH</a>:</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007ac4c94ac97c4a233950c8de60830295eb">Method::FENCEBREACH</a>:</div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a256202fe56e4759c5b165a5d8db25236">Method::RADIOFAILSAFE</a>:</div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a5bff369e9cf85a074c365950794ad2b4">Method::GCSFAILSAFE</a>:</div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007aa2e85ef5e523b459d7450b58f5e0c320">Method::TERRRAINFAILSAFE</a>:</div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007aaf7dab7fd533ff391f6b7f513de8d0e0">Method::FAILSAFE_ACTION_TERMINATE</a>:</div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a479fec78c0d9362f9375cb7d4176c25a">Method::TERRAINFAILSAFE</a>:</div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a602bb6fabb834207123faf775f7cdf97">Method::BADFLOWOFCONTROL</a>:</div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007ab5e91137b510e984f27b5730972f175d">Method::EKFFAILSAFE</a>:</div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007abbb1a1183330ddf2830316f868c1a19e">Method::GCS_FAILSAFE_SURFACEFAILED</a>:</div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007adc432820cb3d9788ab7ceae170a11220">Method::GCS_FAILSAFE_HOLDFAILED</a>:</div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a8cc5d5c3b0e98886a8ba6b395d46dd1b">Method::PILOT_INPUT_FAILSAFE</a>:</div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007aab0a84139864bcf93b0c8bf51dd81913">Method::DEADRECKON_FAILSAFE</a>:</div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007ab38389f2e1a408f6f3418c5662bb88c8">Method::BLACKBOX</a>:</div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span>            <span class="comment">// keep logging for longer if disarmed for a bad reason</span></div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span>            <a class="code hl_function" href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a>().<a class="code hl_function" href="classAP__Logger.html#a7a49075c30ee6589c14c54e92a1bfa8a">set_long_log_persist</a>(<span class="keyword">true</span>);</div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span> </div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007aed4c028230c0c7177604285a4a7d4fca">Method::RUDDER</a>:</div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a2b45d810cc872a32caa6e524d97e1bc1">Method::MAVLINK</a>:</div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007aaf244b4595d374d8886b7d449527a070">Method::AUXSWITCH</a>:</div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007afa8fd060087cf3602a75b1fa288a1195">Method::MOTORTEST</a>:</div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a5dfff633918ddba1b37755419880140d">Method::SCRIPTING</a>:</div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a2f6be1e72030a9ba12d2f75485a8bc16">Method::SOLOPAUSEWHENLANDED</a>:</div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a3d8c894b27670cfcfa85c05331bf6111">Method::LANDED</a>:</div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a39f694b1837944445efffe739abcd54a">Method::MISSIONEXIT</a>:</div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a791fd61d894cda63d93e37bd90247ceb">Method::DISARMDELAY</a>:</div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007aa033f751c155860f880b2bdf104cb4ac">Method::MOTORDETECTDONE</a>:</div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a76b7f434c40ed254dc9b0c3ade74f80f">Method::TAKEOFFTIMEOUT</a>:</div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007ab542a787aa70a85eadb50eab722f7aa8">Method::AUTOLANDED</a>:</div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a5d8b5f147d2ad1064552302e5a9a3061">Method::TOYMODELANDTHROTTLE</a>:</div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a3e818824a4cc261260ddfbcada8a157e">Method::TOYMODELANDFORCE</a>:</div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a7ab0a1cfd85cc3da16cd3e3ad7448524">Method::LANDING</a>:</div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a9b20752f14503be0510115d06d64bbdc">Method::DDS</a>:</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a696b031073e74bf2cb98e5ef201d4aa3">Method::UNKNOWN</a>:</div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>            <a class="code hl_function" href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a>().<a class="code hl_function" href="classAP__Logger.html#a7a49075c30ee6589c14c54e92a1bfa8a">set_long_log_persist</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span>    }</div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>}</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span><span class="preprocessor">#endif  </span><span class="comment">// HAL_LOGGING_ENABLED</span></div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span> </div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span><a class="code hl_class" href="classAP__Arming.html">AP_Arming</a> *<a class="code hl_variable" href="classAP__Arming.html#aa168a0c85d0669dffdbc2eaa6c64e2a9">AP_Arming::_singleton</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span> </div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span><span class="comment">/*</span></div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span><span class="comment"> * Get the AP_Arming singleton</span></div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span><span class="comment"> */</span></div>
<div class="foldopen" id="foldopen01947" data-start="{" data-end="}">
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"><a class="line" href="classAP__Arming.html#a5c40ef21719cf3dc64da8c080f735a1c"> 1947</a></span><a class="code hl_class" href="classAP__Arming.html">AP_Arming</a> *<a class="code hl_function" href="classAP__Arming.html#a5c40ef21719cf3dc64da8c080f735a1c">AP_Arming::get_singleton</a>()</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>{</div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classAP__Arming.html#aa168a0c85d0669dffdbc2eaa6c64e2a9">AP_Arming::_singleton</a>;</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span>}</div>
</div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span> </div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespaceAP.html">AP</a> {</div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span> </div>
<div class="foldopen" id="foldopen01954" data-start="{" data-end="}">
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"><a class="line" href="namespaceAP.html#a13852d97b041687ca5df7d76e7207a3d"> 1954</a></span><a class="code hl_class" href="classAP__Arming.html">AP_Arming</a> &amp;<a class="code hl_function" href="namespaceAP.html#a13852d97b041687ca5df7d76e7207a3d">arming</a>()</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>{</div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>    <span class="keywordflow">return</span> *<a class="code hl_function" href="classAP__Arming.html#a5c40ef21719cf3dc64da8c080f735a1c">AP_Arming::get_singleton</a>();</div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span>}</div>
</div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span> </div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span>};</div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span> </div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span><span class="preprocessor">#pragma GCC diagnostic pop</span></div>
<div class="ttc" id="aAC__AttitudeControl_8cpp_html_a240c1a4ae2a70d1855f91e4a0b1ac938"><div class="ttname"><a href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a></div><div class="ttdeci">const AP_HAL::HAL &amp; hal</div><div class="ttdef"><b>Definition</b> <a href="AP__Compass__AK09916_8cpp_source.html#l00059">AP_Compass_AK09916.cpp:59</a></div></div>
<div class="ttc" id="aAC__Fence_8h_html"><div class="ttname"><a href="AC__Fence_8h.html">AC_Fence.h</a></div></div>
<div class="ttc" id="aAHRS__Test_8cpp_html_a1a50ac0ea0e2f27db5b95e9a738d41dc"><div class="ttname"><a href="AHRS__Test_8cpp.html#a1a50ac0ea0e2f27db5b95e9a738d41dc">ahrs</a></div><div class="ttdeci">auto &amp; ahrs</div><div class="ttdef"><b>Definition</b> <a href="AHRS__Test_8cpp_source.html#l00054">AHRS_Test.cpp:54</a></div></div>
<div class="ttc" id="aAP__ADSB_8h_html"><div class="ttname"><a href="AP__ADSB_8h.html">AP_ADSB.h</a></div></div>
<div class="ttc" id="aAP__AHRS_8h_html"><div class="ttname"><a href="AP__AHRS_8h.html">AP_AHRS.h</a></div></div>
<div class="ttc" id="aAP__Airspeed_8h_html"><div class="ttname"><a href="AP__Airspeed_8h.html">AP_Airspeed.h</a></div></div>
<div class="ttc" id="aAP__Airspeed__config_8h_html_a093927e601750464a5455025b142a7ce"><div class="ttname"><a href="AP__Airspeed__config_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a></div><div class="ttdeci">#define AIRSPEED_MAX_SENSORS</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed__config_8h_source.html#l00060">AP_Airspeed_config.h:60</a></div></div>
<div class="ttc" id="aAP__Arming_8cpp_html_a15e775899cf8ecfcc21fdd989ff3ba6a"><div class="ttname"><a href="AP__Arming_8cpp.html#a15e775899cf8ecfcc21fdd989ff3ba6a">AP_ARMING_MAGFIELD_ERROR_THRESHOLD</a></div><div class="ttdeci">#define AP_ARMING_MAGFIELD_ERROR_THRESHOLD</div><div class="ttdef"><b>Definition</b> <a href="#l00076">AP_Arming.cpp:76</a></div></div>
<div class="ttc" id="aAP__Arming_8cpp_html_a18ffc96e3eddbd769293fa440ea69d43"><div class="ttname"><a href="AP__Arming_8cpp.html#a18ffc96e3eddbd769293fa440ea69d43">AP_ARMING_COMPASS_MAGFIELD_MAX</a></div><div class="ttdeci">#define AP_ARMING_COMPASS_MAGFIELD_MAX</div><div class="ttdef"><b>Definition</b> <a href="#l00073">AP_Arming.cpp:73</a></div></div>
<div class="ttc" id="aAP__Arming_8cpp_html_a47b24d767504457289efe65ade4f5689"><div class="ttname"><a href="AP__Arming_8cpp.html#a47b24d767504457289efe65ade4f5689">AP_ARMING_COMPASS_MAGFIELD_MIN</a></div><div class="ttdeci">#define AP_ARMING_COMPASS_MAGFIELD_MIN</div><div class="ttdef"><b>Definition</b> <a href="#l00072">AP_Arming.cpp:72</a></div></div>
<div class="ttc" id="aAP__Arming_8cpp_html_a83161775f80645c1eef02ef780db8608"><div class="ttname"><a href="AP__Arming_8cpp.html#a83161775f80645c1eef02ef780db8608">AP_ARMING_AHRS_GPS_ERROR_MAX</a></div><div class="ttdeci">#define AP_ARMING_AHRS_GPS_ERROR_MAX</div><div class="ttdef"><b>Definition</b> <a href="#l00077">AP_Arming.cpp:77</a></div></div>
<div class="ttc" id="aAP__Arming_8cpp_html_a90ec243bcfa684c5e7a58ac0f07b6ff5"><div class="ttname"><a href="AP__Arming_8cpp.html#a90ec243bcfa684c5e7a58ac0f07b6ff5">AP_ARMING_BOARD_VOLTAGE_MAX</a></div><div class="ttdeci">#define AP_ARMING_BOARD_VOLTAGE_MAX</div><div class="ttdef"><b>Definition</b> <a href="#l00074">AP_Arming.cpp:74</a></div></div>
<div class="ttc" id="aAP__Arming_8cpp_html_a9556c79c59f266e09b259b3dad89e9ae"><div class="ttname"><a href="AP__Arming_8cpp.html#a9556c79c59f266e09b259b3dad89e9ae">AP_ARMING_COMPASS_MAGFIELD_EXPECTED</a></div><div class="ttdeci">#define AP_ARMING_COMPASS_MAGFIELD_EXPECTED</div><div class="ttdef"><b>Definition</b> <a href="#l00071">AP_Arming.cpp:71</a></div></div>
<div class="ttc" id="aAP__Arming_8cpp_html_a9b924651521ee1b8e28fa65a584b943e"><div class="ttname"><a href="AP__Arming_8cpp.html#a9b924651521ee1b8e28fa65a584b943e">PREARM_DISPLAY_PERIOD</a></div><div class="ttdeci">#define PREARM_DISPLAY_PERIOD</div><div class="ttdef"><b>Definition</b> <a href="#l00086">AP_Arming.cpp:86</a></div></div>
<div class="ttc" id="aAP__Arming_8cpp_html_ae08c3ca4ba26b63cda0bb3e3c6c02785"><div class="ttname"><a href="AP__Arming_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a></div><div class="ttdeci">const AP_HAL::HAL &amp; hal</div><div class="ttdef"><b>Definition</b> <a href="AC__PID__test_8cpp_source.html#l00021">AC_PID_test.cpp:21</a></div></div>
<div class="ttc" id="aAP__Arming_8cpp_html_ae64a564c32bd55897418d6d071d25980"><div class="ttname"><a href="AP__Arming_8cpp.html#ae64a564c32bd55897418d6d071d25980">AP_ARMING_ACCEL_ERROR_THRESHOLD</a></div><div class="ttdeci">#define AP_ARMING_ACCEL_ERROR_THRESHOLD</div><div class="ttdef"><b>Definition</b> <a href="#l00075">AP_Arming.cpp:75</a></div></div>
<div class="ttc" id="aAP__Arming_8cpp_html_afc27a4c52658dab8e128892fdd3da3c5"><div class="ttname"><a href="AP__Arming_8cpp.html#afc27a4c52658dab8e128892fdd3da3c5">ARMING_RUDDER_DEFAULT</a></div><div class="ttdeci">#define ARMING_RUDDER_DEFAULT</div><div class="ttdef"><b>Definition</b> <a href="#l00082">AP_Arming.cpp:82</a></div></div>
<div class="ttc" id="aAP__Arming_8h_html"><div class="ttname"><a href="AP__Arming_8h.html">AP_Arming.h</a></div></div>
<div class="ttc" id="aAP__Baro_8h_html"><div class="ttname"><a href="AP__Baro_8h.html">AP_Baro.h</a></div></div>
<div class="ttc" id="aAP__BattMonitor_8h_html"><div class="ttname"><a href="AP__BattMonitor_8h.html">AP_BattMonitor.h</a></div></div>
<div class="ttc" id="aAP__BoardConfig_8h_html"><div class="ttname"><a href="AP__BoardConfig_8h.html">AP_BoardConfig.h</a></div></div>
<div class="ttc" id="aAP__BoardConfig_8h_html_a608438d239a242e473d34f5a44787f71"><div class="ttname"><a href="AP__BoardConfig_8h.html#a608438d239a242e473d34f5a44787f71">HAL_ARM_GPIO_POL_INVERT</a></div><div class="ttdeci">#define HAL_ARM_GPIO_POL_INVERT</div><div class="ttdef"><b>Definition</b> <a href="AP__BoardConfig_8h_source.html#l00169">AP_BoardConfig.h:169</a></div></div>
<div class="ttc" id="aAP__Button_8h_html"><div class="ttname"><a href="AP__Button_8h.html">AP_Button.h</a></div></div>
<div class="ttc" id="aAP__CANManager_8h_html"><div class="ttname"><a href="AP__CANManager_8h.html">AP_CANManager.h</a></div></div>
<div class="ttc" id="aAP__Common_8h_html"><div class="ttname"><a href="AP__Common_8h.html">AP_Common.h</a></div><div class="ttdoc">Common definitions and utility routines for the ArduPilot libraries.</div></div>
<div class="ttc" id="aAP__Common_8h_html_a121caf32c5b5d704ef3453f0885a9ea5"><div class="ttname"><a href="AP__Common_8h.html#a121caf32c5b5d704ef3453f0885a9ea5">ARRAY_SIZE</a></div><div class="ttdeci">#define ARRAY_SIZE(_arr)</div><div class="ttdef"><b>Definition</b> <a href="AP__Common_8h_source.html#l00099">AP_Common.h:99</a></div></div>
<div class="ttc" id="aAP__Compass_8h_html"><div class="ttname"><a href="AP__Compass_8h.html">AP_Compass.h</a></div></div>
<div class="ttc" id="aAP__Declination_8h_html"><div class="ttname"><a href="AP__Declination_8h.html">AP_Declination.h</a></div></div>
<div class="ttc" id="aAP__DroneCAN_8h_html"><div class="ttname"><a href="AP__DroneCAN_8h.html">AP_DroneCAN.h</a></div></div>
<div class="ttc" id="aAP__FETtecOneWire_8h_html"><div class="ttname"><a href="AP__FETtecOneWire_8h.html">AP_FETtecOneWire.h</a></div></div>
<div class="ttc" id="aAP__GPS_8h_html"><div class="ttname"><a href="AP__GPS_8h.html">AP_GPS.h</a></div></div>
<div class="ttc" id="aAP__GPS_8h_html_a2839bf7ed0174a57ff427a229c04e8c6"><div class="ttname"><a href="AP__GPS_8h.html#a2839bf7ed0174a57ff427a229c04e8c6">GPS_BLENDED_INSTANCE</a></div><div class="ttdeci">#define GPS_BLENDED_INSTANCE</div><div class="ttdef"><b>Definition</b> <a href="AP__GPS_8h_source.html#l00053">AP_GPS.h:53</a></div></div>
<div class="ttc" id="aAP__Generator_8h_html"><div class="ttname"><a href="AP__Generator_8h.html">AP_Generator.h</a></div></div>
<div class="ttc" id="aAP__GyroFFT_8h_html"><div class="ttname"><a href="AP__GyroFFT_8h.html">AP_GyroFFT.h</a></div></div>
<div class="ttc" id="aAP__HAL_2Semaphores_8h_html_a819dd9ac6de800cdf1014b0a922b67d4"><div class="ttname"><a href="AP__HAL_2Semaphores_8h.html#a819dd9ac6de800cdf1014b0a922b67d4">WITH_SEMAPHORE</a></div><div class="ttdeci">#define WITH_SEMAPHORE(sem)</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL_2Semaphores_8h_source.html#l00054">Semaphores.h:54</a></div></div>
<div class="ttc" id="aAP__HAL_8h_html"><div class="ttname"><a href="AP__HAL_8h.html">AP_HAL.h</a></div></div>
<div class="ttc" id="aAP__IOMCU_8h_html"><div class="ttname"><a href="AP__IOMCU_8h.html">AP_IOMCU.h</a></div></div>
<div class="ttc" id="aAP__InertialSensor_8h_html"><div class="ttname"><a href="AP__InertialSensor_8h.html">AP_InertialSensor.h</a></div></div>
<div class="ttc" id="aAP__InternalError_8h_html"><div class="ttname"><a href="AP__InternalError_8h.html">AP_InternalError.h</a></div></div>
<div class="ttc" id="aAP__KDECAN_8h_html"><div class="ttname"><a href="AP__KDECAN_8h.html">AP_KDECAN.h</a></div></div>
<div class="ttc" id="aAP__Logger_2LogStructure_8h_html_abca6b52da10346c72b10dd04698e4420"><div class="ttname"><a href="AP__Logger_2LogStructure_8h.html#abca6b52da10346c72b10dd04698e4420">LOG_PACKET_HEADER_INIT</a></div><div class="ttdeci">#define LOG_PACKET_HEADER_INIT(id)</div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_2LogStructure_8h_source.html#l00116">LogStructure.h:116</a></div></div>
<div class="ttc" id="aAP__Logger_2LogStructure_8h_html_aec1abc8a4fd0e25bbcf703a19b991a05a337369549e7ce48ef9bb2b85e02c2654"><div class="ttname"><a href="AP__Logger_2LogStructure_8h.html#aec1abc8a4fd0e25bbcf703a19b991a05a337369549e7ce48ef9bb2b85e02c2654">LOG_ARM_DISARM_MSG</a></div><div class="ttdeci">@ LOG_ARM_DISARM_MSG</div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_2LogStructure_8h_source.html#l01377">LogStructure.h:1377</a></div></div>
<div class="ttc" id="aAP__Logger_8h_html"><div class="ttname"><a href="AP__Logger_8h.html">AP_Logger.h</a></div></div>
<div class="ttc" id="aAP__Logger_8h_html_abfb7fdeeabd95c90488508e20c5ea981a468609fdfdc3c06b2548578e5415da8e"><div class="ttname"><a href="AP__Logger_8h.html#abfb7fdeeabd95c90488508e20c5ea981a468609fdfdc3c06b2548578e5415da8e">LogEvent::DISARMED</a></div><div class="ttdeci">@ DISARMED</div></div>
<div class="ttc" id="aAP__Logger_8h_html_abfb7fdeeabd95c90488508e20c5ea981af40e2850f4c07c01444b5f2393f6eb4c"><div class="ttname"><a href="AP__Logger_8h.html#abfb7fdeeabd95c90488508e20c5ea981af40e2850f4c07c01444b5f2393f6eb4c">LogEvent::ARMED</a></div><div class="ttdeci">@ ARMED</div></div>
<div class="ttc" id="aAP__Math_8h_html_a4e3ae698e8f99cec214348ad233e3c41"><div class="ttname"><a href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a></div><div class="ttdeci">bool is_positive(const T fVal1)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00063">AP_Math.h:63</a></div></div>
<div class="ttc" id="aAP__Mission_8h_html"><div class="ttname"><a href="AP__Mission_8h.html">AP_Mission.h</a></div><div class="ttdoc">Handles the MAVLINK command mission stack. Reads and writes mission to storage.</div></div>
<div class="ttc" id="aAP__Mission_8h_html_a9c5c26ecc99dd24d83435dc082954408"><div class="ttname"><a href="AP__Mission_8h.html#a9c5c26ecc99dd24d83435dc082954408">AP_MISSION_SDCARD_FILENAME</a></div><div class="ttdeci">#define AP_MISSION_SDCARD_FILENAME</div><div class="ttdef"><b>Definition</b> <a href="AP__Mission_8h_source.html#l00056">AP_Mission.h:56</a></div></div>
<div class="ttc" id="aAP__Mount_8h_html"><div class="ttname"><a href="AP__Mount_8h.html">AP_Mount.h</a></div></div>
<div class="ttc" id="aAP__Notify_8h_html"><div class="ttname"><a href="AP__Notify_8h.html">AP_Notify.h</a></div></div>
<div class="ttc" id="aAP__OSD_8h_html"><div class="ttname"><a href="AP__OSD_8h.html">AP_OSD.h</a></div></div>
<div class="ttc" id="aAP__OpenDroneID_8h_html"><div class="ttname"><a href="AP__OpenDroneID_8h.html">AP_OpenDroneID.h</a></div></div>
<div class="ttc" id="aAP__Parachute_8h_html"><div class="ttname"><a href="AP__Parachute_8h.html">AP_Parachute.h</a></div><div class="ttdoc">Parachute release library.</div></div>
<div class="ttc" id="aAP__Parachute__test_8cpp_html_a1b01eb2a0239e74c68c0190c5a24bd6d"><div class="ttname"><a href="AP__Parachute__test_8cpp.html#a1b01eb2a0239e74c68c0190c5a24bd6d">relay</a></div><div class="ttdeci">static AP_Relay relay</div><div class="ttdef"><b>Definition</b> <a href="AP__Parachute__test_8cpp_source.html#l00022">AP_Parachute_test.cpp:22</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a044f103a40a9e98a9df7c2354310fc60"><div class="ttname"><a href="AP__Param_8h.html#a044f103a40a9e98a9df7c2354310fc60">AP_GROUPINFO_FLAGS_FRAME</a></div><div class="ttdeci">#define AP_GROUPINFO_FLAGS_FRAME(name, idx, clazz, element, def, flags, frame_flags)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00139">AP_Param.h:139</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a0f9acb038a5283b964b862aea8cc5051"><div class="ttname"><a href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div><div class="ttdeci">#define AP_GROUPEND</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00163">AP_Param.h:163</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a18ebaf95bed3f2b7385a88d1b65ed57c"><div class="ttname"><a href="AP__Param_8h.html#a18ebaf95bed3f2b7385a88d1b65ed57c">AP_PARAM_FLAG_NO_SHIFT</a></div><div class="ttdeci">#define AP_PARAM_FLAG_NO_SHIFT</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00091">AP_Param.h:91</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a3e9b3c0ae77600ea4c525da857c90846"><div class="ttname"><a href="AP__Param_8h.html#a3e9b3c0ae77600ea4c525da857c90846">AP_PARAM_FRAME_ROVER</a></div><div class="ttdeci">#define AP_PARAM_FRAME_ROVER</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00117">AP_Param.h:117</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a5def49b63b71690b19ea5a19ee3b4788"><div class="ttname"><a href="AP__Param_8h.html#a5def49b63b71690b19ea5a19ee3b4788">AP_PARAM_FRAME_PLANE</a></div><div class="ttdeci">#define AP_PARAM_FRAME_PLANE</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00118">AP_Param.h:118</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a752a6a1d27589c64a386ab2818e7057d"><div class="ttname"><a href="AP__Param_8h.html#a752a6a1d27589c64a386ab2818e7057d">AP_GROUPINFO_FRAME</a></div><div class="ttdeci">#define AP_GROUPINFO_FRAME(name, idx, clazz, element, def, frame_flags)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00136">AP_Param.h:136</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a78a408c84f2a1bafde256ac650142e4d"><div class="ttname"><a href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a></div><div class="ttdeci">#define AP_GROUPINFO(name, idx, clazz, element, def)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00145">AP_Param.h:145</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a9838c03b98e6652d227f617eb2757dd9"><div class="ttname"><a href="AP__Param_8h.html#a9838c03b98e6652d227f617eb2757dd9">AP_PARAM_FRAME_TRICOPTER</a></div><div class="ttdeci">#define AP_PARAM_FRAME_TRICOPTER</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00120">AP_Param.h:120</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_abdeb64e8a55f7ae469128b38beeb139c"><div class="ttname"><a href="AP__Param_8h.html#abdeb64e8a55f7ae469128b38beeb139c">AP_PARAM_FRAME_BLIMP</a></div><div class="ttdeci">#define AP_PARAM_FRAME_BLIMP</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00122">AP_Param.h:122</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_ac1328ddd823ea908dfe71e10c9a36a2e"><div class="ttname"><a href="AP__Param_8h.html#ac1328ddd823ea908dfe71e10c9a36a2e">AP_PARAM_FRAME_HELI</a></div><div class="ttdeci">#define AP_PARAM_FRAME_HELI</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00121">AP_Param.h:121</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_afdcffd80a5fa249148be6d8fdc63cb3c"><div class="ttname"><a href="AP__Param_8h.html#afdcffd80a5fa249148be6d8fdc63cb3c">AP_PARAM_FRAME_COPTER</a></div><div class="ttdeci">#define AP_PARAM_FRAME_COPTER</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00116">AP_Param.h:116</a></div></div>
<div class="ttc" id="aAP__PiccoloCAN_8h_html"><div class="ttname"><a href="AP__PiccoloCAN_8h.html">AP_PiccoloCAN.h</a></div></div>
<div class="ttc" id="aAP__Proximity_8h_html"><div class="ttname"><a href="AP__Proximity_8h.html">AP_Proximity.h</a></div></div>
<div class="ttc" id="aAP__RCMapper_8h_html"><div class="ttname"><a href="AP__RCMapper_8h.html">AP_RCMapper.h</a></div></div>
<div class="ttc" id="aAP__RPM_8h_html"><div class="ttname"><a href="AP__RPM_8h.html">AP_RPM.h</a></div></div>
<div class="ttc" id="aAP__Rally_8h_html"><div class="ttname"><a href="AP__Rally_8h.html">AP_Rally.h</a></div><div class="ttdoc">Handles rally point storage, retrieval and lookup.</div></div>
<div class="ttc" id="aAP__RangeFinder_8h_html"><div class="ttname"><a href="AP__RangeFinder_8h.html">AP_RangeFinder.h</a></div></div>
<div class="ttc" id="aAP__Relay_8h_html"><div class="ttname"><a href="AP__Relay_8h.html">AP_Relay.h</a></div><div class="ttdoc">APM relay control class.</div></div>
<div class="ttc" id="aAP__RunCam_8h_html"><div class="ttname"><a href="AP__RunCam_8h.html">AP_RunCam.h</a></div></div>
<div class="ttc" id="aAP__Scheduler_8h_html"><div class="ttname"><a href="AP__Scheduler_8h.html">AP_Scheduler.h</a></div></div>
<div class="ttc" id="aAP__Scripting_8h_html"><div class="ttname"><a href="AP__Scripting_8h.html">AP_Scripting.h</a></div></div>
<div class="ttc" id="aAP__SerialManager_8h_html"><div class="ttname"><a href="AP__SerialManager_8h.html">AP_SerialManager.h</a></div></div>
<div class="ttc" id="aAP__Terrain_8h_html"><div class="ttname"><a href="AP__Terrain_8h.html">AP_Terrain.h</a></div></div>
<div class="ttc" id="aAP__Vehicle_8h_html"><div class="ttname"><a href="AP__Vehicle_8h.html">AP_Vehicle.h</a></div></div>
<div class="ttc" id="aAP__Vehicle__Type_8h_html"><div class="ttname"><a href="AP__Vehicle__Type_8h.html">AP_Vehicle_Type.h</a></div></div>
<div class="ttc" id="aAP__VisualOdom_8h_html"><div class="ttname"><a href="AP__VisualOdom_8h.html">AP_VisualOdom.h</a></div></div>
<div class="ttc" id="aAirspeed_8cpp_html_abfed87a61c42e885ee14d5222b47583f"><div class="ttname"><a href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a></div><div class="ttdeci">AP_Airspeed airspeed</div><div class="ttdef"><b>Definition</b> <a href="Airspeed_8cpp_source.html#l00038">Airspeed.cpp:38</a></div></div>
<div class="ttc" id="aAirspeed_8cpp_html_afc1d28cfbce795d6ea954ebe725241f5"><div class="ttname"><a href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a></div><div class="ttdeci">float temperature</div><div class="ttdef"><b>Definition</b> <a href="Airspeed_8cpp_source.html#l00032">Airspeed.cpp:32</a></div></div>
<div class="ttc" id="aDerivativeFilter_8cpp_html_a357394e0f6f88c8a57bd893ab28dc8f8"><div class="ttname"><a href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a></div><div class="ttdeci">#define f(i)</div></div>
<div class="ttc" id="aGCS_8h_html"><div class="ttname"><a href="GCS_8h.html">GCS.h</a></div><div class="ttdoc">Interface definition for the various Ground Control System.</div></div>
<div class="ttc" id="aGCS_8h_html_a266bfe8eda675e1092f045e93932b4a6"><div class="ttname"><a href="GCS_8h.html#a266bfe8eda675e1092f045e93932b4a6">GCS_SEND_TEXT</a></div><div class="ttdeci">#define GCS_SEND_TEXT(severity, format, args...)</div><div class="ttdef"><b>Definition</b> <a href="GCS_8h_source.html#l01349">GCS.h:1349</a></div></div>
<div class="ttc" id="aGCS_8h_html_ab53f292b698f9a6a3f029dfdbd5a43de"><div class="ttname"><a href="GCS_8h.html#ab53f292b698f9a6a3f029dfdbd5a43de">gcs</a></div><div class="ttdeci">GCS &amp; gcs()</div><div class="ttdef"><b>Definition</b> <a href="GCS__Common_8cpp_source.html#l06846">GCS_Common.cpp:6846</a></div></div>
<div class="ttc" id="aGCS__MAVLink_8h_html"><div class="ttname"><a href="GCS__MAVLink_8h.html">GCS_MAVLink.h</a></div><div class="ttdoc">One size fits all header for MAVLink integration.</div></div>
<div class="ttc" id="aGPS__AUTO__test_8cpp_html_a962e3f0f8682f6dedb5a001a70bdd65e"><div class="ttname"><a href="GPS__AUTO__test_8cpp.html#a962e3f0f8682f6dedb5a001a70bdd65e">gps</a></div><div class="ttdeci">static AP_GPS gps</div><div class="ttdef"><b>Definition</b> <a href="GPS__AUTO__test_8cpp_source.html#l00053">GPS_AUTO_test.cpp:53</a></div></div>
<div class="ttc" id="aPrintf_8cpp_html_a381d684d94e6e91dee650357e8f02fa8"><div class="ttname"><a href="Printf_8cpp.html#a381d684d94e6e91dee650357e8f02fa8">fmt</a></div><div class="ttdeci">const char * fmt</div><div class="ttdef"><b>Definition</b> <a href="Printf_8cpp_source.html#l00034">Printf.cpp:34</a></div></div>
<div class="ttc" id="aRC__Channel_8h_html"><div class="ttname"><a href="RC__Channel_8h.html">RC_Channel.h</a></div><div class="ttdoc">RC_Channel manager, with EEPROM-backed storage of constants.</div></div>
<div class="ttc" id="aRC__Channel_8h_html_abe35aea6177a1cdf87a22af5c263bb89"><div class="ttname"><a href="RC__Channel_8h.html#abe35aea6177a1cdf87a22af5c263bb89">rc</a></div><div class="ttdeci">RC_Channels &amp; rc()</div><div class="ttdef"><b>Definition</b> <a href="RC__Channels_8cpp_source.html#l00314">RC_Channels.cpp:314</a></div></div>
<div class="ttc" id="aRC__Channel_8h_html_ad8f949ef5f11f906dc35ae5a38c67179"><div class="ttname"><a href="RC__Channel_8h.html#ad8f949ef5f11f906dc35ae5a38c67179">NUM_RC_CHANNELS</a></div><div class="ttdeci">#define NUM_RC_CHANNELS</div><div class="ttdef"><b>Definition</b> <a href="RC__Channel_8h_source.html#l00014">RC_Channel.h:14</a></div></div>
<div class="ttc" id="aReplayGyroFFT_8cpp_html_a4b91d1711c0d031f33f581540503bc54"><div class="ttname"><a href="ReplayGyroFFT_8cpp.html#a4b91d1711c0d031f33f581540503bc54">ins</a></div><div class="ttdeci">static AP_InertialSensor ins</div><div class="ttdef"><b>Definition</b> <a href="ReplayGyroFFT_8cpp_source.html#l00029">ReplayGyroFFT.cpp:29</a></div></div>
<div class="ttc" id="aReplayGyroFFT_8cpp_html_a9fede12aaeb5750bcb131cae0430647c"><div class="ttname"><a href="ReplayGyroFFT_8cpp.html#a9fede12aaeb5750bcb131cae0430647c">logger</a></div><div class="ttdeci">static AP_Logger logger</div><div class="ttdef"><b>Definition</b> <a href="ReplayGyroFFT_8cpp_source.html#l00032">ReplayGyroFFT.cpp:32</a></div></div>
<div class="ttc" id="aSRV__Channel_8h_html"><div class="ttname"><a href="SRV__Channel_8h.html">SRV_Channel.h</a></div></div>
<div class="ttc" id="aTransferFunctionCheck_8cpp_html_ab84905254d7d9db8e55931846bcf06ea"><div class="ttname"><a href="TransferFunctionCheck_8cpp.html#ab84905254d7d9db8e55931846bcf06ea">type</a></div><div class="ttdeci">enum filter_type type</div></div>
<div class="ttc" id="aUART__chargen_8cpp_html_a8a45ba1322f5f38149f9bb899b09a1f4"><div class="ttname"><a href="UART__chargen_8cpp.html#a8a45ba1322f5f38149f9bb899b09a1f4">buffer</a></div><div class="ttdeci">uint8_t buffer[16384]</div><div class="ttdef"><b>Definition</b> <a href="UART__chargen_8cpp_source.html#l00036">UART_chargen.cpp:36</a></div></div>
<div class="ttc" id="aclassAC__Fence_html"><div class="ttname"><a href="classAC__Fence.html">AC_Fence</a></div><div class="ttdef"><b>Definition</b> <a href="AC__Fence_8h_source.html#l00032">AC_Fence.h:33</a></div></div>
<div class="ttc" id="aclassAC__Fence_html_a049ab67fd30dd133cbb24439173a9286"><div class="ttname"><a href="classAC__Fence.html#a049ab67fd30dd133cbb24439173a9286">AC_Fence::enable</a></div><div class="ttdeci">void enable(bool value)</div><div class="ttdoc">enable - allows fence to be enabled/disabled.</div><div class="ttdef"><b>Definition</b> <a href="AC__Fence_8cpp_source.html#l00745">AC_Fence.cpp:745</a></div></div>
<div class="ttc" id="aclassAC__Fence_html_a3995332aeef635395d2374b85ea8b746aaaa0bf045ea5e247046159f14dd7ba37"><div class="ttname"><a href="classAC__Fence.html#a3995332aeef635395d2374b85ea8b746aaaa0bf045ea5e247046159f14dd7ba37">AC_Fence::AutoEnable::ONLY_WHEN_ARMED</a></div><div class="ttdeci">@ ONLY_WHEN_ARMED</div></div>
<div class="ttc" id="aclassAC__Fence_html_ab7efc0e2e81e68b3fbbab7faff3ae63b"><div class="ttname"><a href="classAC__Fence.html#ab7efc0e2e81e68b3fbbab7faff3ae63b">AC_Fence::auto_enabled</a></div><div class="ttdeci">AutoEnable auto_enabled()</div><div class="ttdoc">auto_enabled - automaticaly enable/disable fence depending of flight status</div><div class="ttdef"><b>Definition</b> <a href="AC__Fence_8h_source.html#l00061">AC_Fence.h:61</a></div></div>
<div class="ttc" id="aclassAC__Fence_html_ae46cc9ba79d869296585e41a2702621e"><div class="ttname"><a href="classAC__Fence.html#ae46cc9ba79d869296585e41a2702621e">AC_Fence::pre_arm_check</a></div><div class="ttdeci">bool pre_arm_check(const char *&amp;fail_msg) const</div><div class="ttdoc">pre_arm_check - returns true if all pre-takeoff checks have completed successfully</div><div class="ttdef"><b>Definition</b> <a href="AC__Fence_8cpp_source.html#l00756">AC_Fence.cpp:756</a></div></div>
<div class="ttc" id="aclassAP__AHRS_html"><div class="ttname"><a href="classAP__AHRS.html">AP_AHRS</a></div><div class="ttdef"><b>Definition</b> <a href="AP__AHRS_8h_source.html#l00046">AP_AHRS.h:46</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html"><div class="ttname"><a href="classAP__Airspeed.html">AP_Airspeed</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00069">AP_Airspeed.h:70</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a1f93ae84c30efc1375765b835004e7a9"><div class="ttname"><a href="classAP__Airspeed.html#a1f93ae84c30efc1375765b835004e7a9">AP_Airspeed::healthy</a></div><div class="ttdeci">bool healthy(uint8_t i) const</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8cpp_source.html#l00874">AP_Airspeed.cpp:874</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_aa17de10e34d65c132353ddc6373f0e99"><div class="ttname"><a href="classAP__Airspeed.html#aa17de10e34d65c132353ddc6373f0e99">AP_Airspeed::enabled</a></div><div class="ttdeci">bool enabled(uint8_t i) const</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8cpp_source.html#l00863">AP_Airspeed.cpp:863</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_aaf33aa667bfae26a81099a47e41212ce"><div class="ttname"><a href="classAP__Airspeed.html#aaf33aa667bfae26a81099a47e41212ce">AP_Airspeed::use</a></div><div class="ttdeci">bool use(uint8_t i) const</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8cpp_source.html#l00818">AP_Airspeed.cpp:818</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_af8fe29e897226fc9e3f797c67e4c31fa"><div class="ttname"><a href="classAP__Airspeed.html#af8fe29e897226fc9e3f797c67e4c31fa">AP_Airspeed::get_singleton</a></div><div class="ttdeci">static AP_Airspeed * get_singleton()</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00203">AP_Airspeed.h:203</a></div></div>
<div class="ttc" id="aclassAP__Arming_html"><div class="ttname"><a href="classAP__Arming.html">AP_Arming</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00011">AP_Arming.h:11</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a00a7a4cbd455ef887fce6e90f9560bf7"><div class="ttname"><a href="classAP__Arming.html#a00a7a4cbd455ef887fce6e90f9560bf7">AP_Arming::arm_checks</a></div><div class="ttdeci">virtual bool arm_checks(AP_Arming::Method method)</div><div class="ttdef"><b>Definition</b> <a href="#l01601">AP_Arming.cpp:1601</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a03bd378dc54cf6f8624cac6c2e59aa79"><div class="ttname"><a href="classAP__Arming.html#a03bd378dc54cf6f8624cac6c2e59aa79">AP_Arming::battery_checks</a></div><div class="ttdeci">bool battery_checks(bool report)</div></div>
<div class="ttc" id="aclassAP__Arming_html_a04993082ca1bfdc616710573382ea109"><div class="ttname"><a href="classAP__Arming.html#a04993082ca1bfdc616710573382ea109">AP_Arming::var_info</a></div><div class="ttdeci">static const struct AP_Param::GroupInfo var_info[]</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00091">AP_Arming.h:91</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a147cc051ad50d2fd681e781820d5db88"><div class="ttname"><a href="classAP__Arming.html#a147cc051ad50d2fd681e781820d5db88">AP_Arming::update</a></div><div class="ttdeci">void update()</div><div class="ttdef"><b>Definition</b> <a href="#l00181">AP_Arming.cpp:181</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007">AP_Arming::Method</a></div><div class="ttdeci">Method</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00046">AP_Arming.h:46</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a256202fe56e4759c5b165a5d8db25236"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a256202fe56e4759c5b165a5d8db25236">AP_Arming::Method::RADIOFAILSAFE</a></div><div class="ttdeci">@ RADIOFAILSAFE</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a2b45d810cc872a32caa6e524d97e1bc1"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a2b45d810cc872a32caa6e524d97e1bc1">AP_Arming::Method::MAVLINK</a></div><div class="ttdeci">@ MAVLINK</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a2f6be1e72030a9ba12d2f75485a8bc16"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a2f6be1e72030a9ba12d2f75485a8bc16">AP_Arming::Method::SOLOPAUSEWHENLANDED</a></div><div class="ttdeci">@ SOLOPAUSEWHENLANDED</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a357ebefbb5d067d0a679b952cafdbdf4"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a357ebefbb5d067d0a679b952cafdbdf4">AP_Arming::Method::PARACHUTE_RELEASE</a></div><div class="ttdeci">@ PARACHUTE_RELEASE</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a39f694b1837944445efffe739abcd54a"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a39f694b1837944445efffe739abcd54a">AP_Arming::Method::MISSIONEXIT</a></div><div class="ttdeci">@ MISSIONEXIT</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a3d8c894b27670cfcfa85c05331bf6111"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a3d8c894b27670cfcfa85c05331bf6111">AP_Arming::Method::LANDED</a></div><div class="ttdeci">@ LANDED</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a3e818824a4cc261260ddfbcada8a157e"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a3e818824a4cc261260ddfbcada8a157e">AP_Arming::Method::TOYMODELANDFORCE</a></div><div class="ttdeci">@ TOYMODELANDFORCE</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a42a95585cde968adf3ce3e80628a24d2"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a42a95585cde968adf3ce3e80628a24d2">AP_Arming::Method::ADSBCOLLISIONACTION</a></div><div class="ttdeci">@ ADSBCOLLISIONACTION</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a479fec78c0d9362f9375cb7d4176c25a"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a479fec78c0d9362f9375cb7d4176c25a">AP_Arming::Method::TERRAINFAILSAFE</a></div><div class="ttdeci">@ TERRAINFAILSAFE</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a5bff369e9cf85a074c365950794ad2b4"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a5bff369e9cf85a074c365950794ad2b4">AP_Arming::Method::GCSFAILSAFE</a></div><div class="ttdeci">@ GCSFAILSAFE</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a5d8b5f147d2ad1064552302e5a9a3061"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a5d8b5f147d2ad1064552302e5a9a3061">AP_Arming::Method::TOYMODELANDTHROTTLE</a></div><div class="ttdeci">@ TOYMODELANDTHROTTLE</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a5dfff633918ddba1b37755419880140d"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a5dfff633918ddba1b37755419880140d">AP_Arming::Method::SCRIPTING</a></div><div class="ttdeci">@ SCRIPTING</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a602bb6fabb834207123faf775f7cdf97"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a602bb6fabb834207123faf775f7cdf97">AP_Arming::Method::BADFLOWOFCONTROL</a></div><div class="ttdeci">@ BADFLOWOFCONTROL</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a696b031073e74bf2cb98e5ef201d4aa3"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a696b031073e74bf2cb98e5ef201d4aa3">AP_Arming::Method::UNKNOWN</a></div><div class="ttdeci">@ UNKNOWN</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a76b7f434c40ed254dc9b0c3ade74f80f"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a76b7f434c40ed254dc9b0c3ade74f80f">AP_Arming::Method::TAKEOFFTIMEOUT</a></div><div class="ttdeci">@ TAKEOFFTIMEOUT</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a791fd61d894cda63d93e37bd90247ceb"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a791fd61d894cda63d93e37bd90247ceb">AP_Arming::Method::DISARMDELAY</a></div><div class="ttdeci">@ DISARMDELAY</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a79dae77eae214a51d0b9dafb358038c7"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a79dae77eae214a51d0b9dafb358038c7">AP_Arming::Method::AFS</a></div><div class="ttdeci">@ AFS</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a7ab0a1cfd85cc3da16cd3e3ad7448524"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a7ab0a1cfd85cc3da16cd3e3ad7448524">AP_Arming::Method::LANDING</a></div><div class="ttdeci">@ LANDING</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a81bc75c5e7d582c92dbec339e8d89f57"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a81bc75c5e7d582c92dbec339e8d89f57">AP_Arming::Method::TERMINATION</a></div><div class="ttdeci">@ TERMINATION</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a8b5cf6225a244655066f6b35c7fe94d1"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a8b5cf6225a244655066f6b35c7fe94d1">AP_Arming::Method::BATTERYFAILSAFE</a></div><div class="ttdeci">@ BATTERYFAILSAFE</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a8cc5d5c3b0e98886a8ba6b395d46dd1b"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a8cc5d5c3b0e98886a8ba6b395d46dd1b">AP_Arming::Method::PILOT_INPUT_FAILSAFE</a></div><div class="ttdeci">@ PILOT_INPUT_FAILSAFE</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007a9b20752f14503be0510115d06d64bbdc"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007a9b20752f14503be0510115d06d64bbdc">AP_Arming::Method::DDS</a></div><div class="ttdeci">@ DDS</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007aa033f751c155860f880b2bdf104cb4ac"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007aa033f751c155860f880b2bdf104cb4ac">AP_Arming::Method::MOTORDETECTDONE</a></div><div class="ttdeci">@ MOTORDETECTDONE</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007aa2e85ef5e523b459d7450b58f5e0c320"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007aa2e85ef5e523b459d7450b58f5e0c320">AP_Arming::Method::TERRRAINFAILSAFE</a></div><div class="ttdeci">@ TERRRAINFAILSAFE</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007aa63bfb8db46a130eafb4704715a50547"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007aa63bfb8db46a130eafb4704715a50547">AP_Arming::Method::CPUFAILSAFE</a></div><div class="ttdeci">@ CPUFAILSAFE</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007aab0a84139864bcf93b0c8bf51dd81913"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007aab0a84139864bcf93b0c8bf51dd81913">AP_Arming::Method::DEADRECKON_FAILSAFE</a></div><div class="ttdeci">@ DEADRECKON_FAILSAFE</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007aaf244b4595d374d8886b7d449527a070"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007aaf244b4595d374d8886b7d449527a070">AP_Arming::Method::AUXSWITCH</a></div><div class="ttdeci">@ AUXSWITCH</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007aaf7dab7fd533ff391f6b7f513de8d0e0"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007aaf7dab7fd533ff391f6b7f513de8d0e0">AP_Arming::Method::FAILSAFE_ACTION_TERMINATE</a></div><div class="ttdeci">@ FAILSAFE_ACTION_TERMINATE</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007ab38389f2e1a408f6f3418c5662bb88c8"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007ab38389f2e1a408f6f3418c5662bb88c8">AP_Arming::Method::BLACKBOX</a></div><div class="ttdeci">@ BLACKBOX</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007ab542a787aa70a85eadb50eab722f7aa8"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007ab542a787aa70a85eadb50eab722f7aa8">AP_Arming::Method::AUTOLANDED</a></div><div class="ttdeci">@ AUTOLANDED</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007ab5e91137b510e984f27b5730972f175d"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007ab5e91137b510e984f27b5730972f175d">AP_Arming::Method::EKFFAILSAFE</a></div><div class="ttdeci">@ EKFFAILSAFE</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007abbb1a1183330ddf2830316f868c1a19e"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007abbb1a1183330ddf2830316f868c1a19e">AP_Arming::Method::GCS_FAILSAFE_SURFACEFAILED</a></div><div class="ttdeci">@ GCS_FAILSAFE_SURFACEFAILED</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007ac4c94ac97c4a233950c8de60830295eb"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007ac4c94ac97c4a233950c8de60830295eb">AP_Arming::Method::FENCEBREACH</a></div><div class="ttdeci">@ FENCEBREACH</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007acef2f26f7da88da7db20faa12bd436c4"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007acef2f26f7da88da7db20faa12bd436c4">AP_Arming::Method::CRASH</a></div><div class="ttdeci">@ CRASH</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007adc432820cb3d9788ab7ceae170a11220"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007adc432820cb3d9788ab7ceae170a11220">AP_Arming::Method::GCS_FAILSAFE_HOLDFAILED</a></div><div class="ttdeci">@ GCS_FAILSAFE_HOLDFAILED</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007aed4c028230c0c7177604285a4a7d4fca"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007aed4c028230c0c7177604285a4a7d4fca">AP_Arming::Method::RUDDER</a></div><div class="ttdeci">@ RUDDER</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1760410b21c1e6183808a9f328d39007afa8fd060087cf3602a75b1fa288a1195"><div class="ttname"><a href="classAP__Arming.html#a1760410b21c1e6183808a9f328d39007afa8fd060087cf3602a75b1fa288a1195">AP_Arming::Method::MOTORTEST</a></div><div class="ttdeci">@ MOTORTEST</div></div>
<div class="ttc" id="aclassAP__Arming_html_a1ad267dc539a9953e86089b228f376ba"><div class="ttname"><a href="classAP__Arming.html#a1ad267dc539a9953e86089b228f376ba">AP_Arming::osd_checks</a></div><div class="ttdeci">bool osd_checks(bool display_failure) const</div></div>
<div class="ttc" id="aclassAP__Arming_html_a24332b3f5e2e233914bce12e69ae9564"><div class="ttname"><a href="classAP__Arming.html#a24332b3f5e2e233914bce12e69ae9564">AP_Arming::compass_checks</a></div><div class="ttdeci">bool compass_checks(bool report)</div><div class="ttdef"><b>Definition</b> <a href="#l00473">AP_Arming.cpp:473</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a252c75e4dc37d7b0987ec4d2b95fd307"><div class="ttname"><a href="classAP__Arming.html#a252c75e4dc37d7b0987ec4d2b95fd307">AP_Arming::last_prearm_display_ms</a></div><div class="ttdeci">uint32_t last_prearm_display_ms</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00305">AP_Arming.h:305</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a2630510b7cc6c34f58bbb049d8b98576"><div class="ttname"><a href="classAP__Arming.html#a2630510b7cc6c34f58bbb049d8b98576">AP_Arming::system_checks</a></div><div class="ttdeci">virtual bool system_checks(bool report)</div><div class="ttdef"><b>Definition</b> <a href="#l01004">AP_Arming.cpp:1004</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a2b7ca6e3c7517feca088b28d45f2fc61"><div class="ttname"><a href="classAP__Arming.html#a2b7ca6e3c7517feca088b28d45f2fc61">AP_Arming::airspeed_checks</a></div><div class="ttdeci">bool airspeed_checks(bool report)</div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8f"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8f">AP_Arming::ArmingChecks</a></div><div class="ttdeci">ArmingChecks</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00022">AP_Arming.h:22</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8fa0698f127d9771163cb0ab7981689a39b"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa0698f127d9771163cb0ab7981689a39b">AP_Arming::ARMING_CHECK_PARAMETERS</a></div><div class="ttdeci">@ ARMING_CHECK_PARAMETERS</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00028">AP_Arming.h:28</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8fa0ba305a03723f72101c56db7f34dde86"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa0ba305a03723f72101c56db7f34dde86">AP_Arming::ARMING_CHECK_VOLTAGE</a></div><div class="ttdeci">@ ARMING_CHECK_VOLTAGE</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00030">AP_Arming.h:30</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8fa3062b4aded78adab2a8005e322d81b2f"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3062b4aded78adab2a8005e322d81b2f">AP_Arming::ARMING_CHECK_ALL</a></div><div class="ttdeci">@ ARMING_CHECK_ALL</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00023">AP_Arming.h:23</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8fa32257c8f0eaeb3b7db2572fbaca0cd70"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa32257c8f0eaeb3b7db2572fbaca0cd70">AP_Arming::ARMING_CHECK_RC</a></div><div class="ttdeci">@ ARMING_CHECK_RC</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00029">AP_Arming.h:29</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8fa3bc0ff8f77314194ec3c78e5ec5478ff"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3bc0ff8f77314194ec3c78e5ec5478ff">AP_Arming::ARMING_CHECK_SYSTEM</a></div><div class="ttdeci">@ ARMING_CHECK_SYSTEM</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00036">AP_Arming.h:36</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8fa3f68bb691cf73037c0eb1c02f65d87a2"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa3f68bb691cf73037c0eb1c02f65d87a2">AP_Arming::ARMING_CHECK_LOGGING</a></div><div class="ttdeci">@ ARMING_CHECK_LOGGING</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00033">AP_Arming.h:33</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8fa598ac7301cc228e36796c4c08fe1791f"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa598ac7301cc228e36796c4c08fe1791f">AP_Arming::ARMING_CHECK_COMPASS</a></div><div class="ttdeci">@ ARMING_CHECK_COMPASS</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00025">AP_Arming.h:25</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8fa5f664e280f214a4b07c16f9c450ba53f"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa5f664e280f214a4b07c16f9c450ba53f">AP_Arming::ARMING_CHECK_AUX_AUTH</a></div><div class="ttdeci">@ ARMING_CHECK_AUX_AUTH</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00040">AP_Arming.h:40</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8fa68d821ebb97a3d56daaef22b28f81745"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa68d821ebb97a3d56daaef22b28f81745">AP_Arming::ARMING_CHECK_MISSION</a></div><div class="ttdeci">@ ARMING_CHECK_MISSION</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00037">AP_Arming.h:37</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8fa705dbad6733b8436efa1f657eccb50cd"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa705dbad6733b8436efa1f657eccb50cd">AP_Arming::ARMING_CHECK_VISION</a></div><div class="ttdeci">@ ARMING_CHECK_VISION</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00041">AP_Arming.h:41</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8fa77be6b2ac7c6701198316b55381d6ff2"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa77be6b2ac7c6701198316b55381d6ff2">AP_Arming::ARMING_CHECK_RANGEFINDER</a></div><div class="ttdeci">@ ARMING_CHECK_RANGEFINDER</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00038">AP_Arming.h:38</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8fa8ea1cb7b6b88513d1f995a4080de33f0"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa8ea1cb7b6b88513d1f995a4080de33f0">AP_Arming::ARMING_CHECK_INS</a></div><div class="ttdeci">@ ARMING_CHECK_INS</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00027">AP_Arming.h:27</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8fa8ef0ca98b37c887f9f845dcf8fd23f1d"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa8ef0ca98b37c887f9f845dcf8fd23f1d">AP_Arming::ARMING_CHECK_BATTERY</a></div><div class="ttdeci">@ ARMING_CHECK_BATTERY</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00031">AP_Arming.h:31</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8fa954769176c89f1a534b1ce87cce05bf1"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa954769176c89f1a534b1ce87cce05bf1">AP_Arming::ARMING_CHECK_CAMERA</a></div><div class="ttdeci">@ ARMING_CHECK_CAMERA</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00039">AP_Arming.h:39</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8fa9e6ff1c791cad17dca379a3872f64114"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fa9e6ff1c791cad17dca379a3872f64114">AP_Arming::ARMING_CHECK_OSD</a></div><div class="ttdeci">@ ARMING_CHECK_OSD</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00043">AP_Arming.h:43</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8faa0438a0694c1495b816e73bd506cc7de"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8faa0438a0694c1495b816e73bd506cc7de">AP_Arming::ARMING_CHECK_BARO</a></div><div class="ttdeci">@ ARMING_CHECK_BARO</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00024">AP_Arming.h:24</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8faa3e05ff0fc85ad0996eb66e9ddce0e9b"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8faa3e05ff0fc85ad0996eb66e9ddce0e9b">AP_Arming::ARMING_CHECK_AIRSPEED</a></div><div class="ttdeci">@ ARMING_CHECK_AIRSPEED</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00032">AP_Arming.h:32</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8faa47c315c82f8129a7f3c89fe502cb40e"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8faa47c315c82f8129a7f3c89fe502cb40e">AP_Arming::ARMING_CHECK_FFT</a></div><div class="ttdeci">@ ARMING_CHECK_FFT</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00042">AP_Arming.h:42</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8fac409fb181766ba38bebd657939a677df"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fac409fb181766ba38bebd657939a677df">AP_Arming::ARMING_CHECK_SWITCH</a></div><div class="ttdeci">@ ARMING_CHECK_SWITCH</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00034">AP_Arming.h:34</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8fae43feba2f7082d4bb16685833beb7789"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fae43feba2f7082d4bb16685833beb7789">AP_Arming::ARMING_CHECK_GPS</a></div><div class="ttdeci">@ ARMING_CHECK_GPS</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00026">AP_Arming.h:26</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3160155accc5cf2be74a8eb9d27e2a8fae548f2b4b49b9709eb0779495a12bf62"><div class="ttname"><a href="classAP__Arming.html#a3160155accc5cf2be74a8eb9d27e2a8fae548f2b4b49b9709eb0779495a12bf62">AP_Arming::ARMING_CHECK_GPS_CONFIG</a></div><div class="ttdeci">@ ARMING_CHECK_GPS_CONFIG</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00035">AP_Arming.h:35</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a322be80fe3a27ff7efece41a15fcb2bc"><div class="ttname"><a href="classAP__Arming.html#a322be80fe3a27ff7efece41a15fcb2bc">AP_Arming::mandatory_checks</a></div><div class="ttdeci">virtual bool mandatory_checks(bool report)</div><div class="ttdef"><b>Definition</b> <a href="#l01641">AP_Arming.cpp:1641</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a3a7732a0c5ed5b5ccbb97e72c2a6587c"><div class="ttname"><a href="classAP__Arming.html#a3a7732a0c5ed5b5ccbb97e72c2a6587c">AP_Arming::board_voltage_checks</a></div><div class="ttdeci">virtual bool board_voltage_checks(bool report)</div><div class="ttdef"><b>Definition</b> <a href="#l00953">AP_Arming.cpp:953</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a40b33f4a1ce1fbcf90b4acf400a60123"><div class="ttname"><a href="classAP__Arming.html#a40b33f4a1ce1fbcf90b4acf400a60123">AP_Arming::servo_checks</a></div><div class="ttdeci">bool servo_checks(bool report) const</div><div class="ttdef"><b>Definition</b> <a href="#l00900">AP_Arming.cpp:900</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a42b683a689bf706a186653bcf3c1d442"><div class="ttname"><a href="classAP__Arming.html#a42b683a689bf706a186653bcf3c1d442">AP_Arming::logging_checks</a></div><div class="ttdeci">bool logging_checks(bool report)</div></div>
<div class="ttc" id="aclassAP__Arming_html_a44aff7268b9b51e70d0b7b77f17011a8"><div class="ttname"><a href="classAP__Arming.html#a44aff7268b9b51e70d0b7b77f17011a8">AP_Arming::mount_checks</a></div><div class="ttdeci">bool mount_checks(bool display_failure) const</div></div>
<div class="ttc" id="aclassAP__Arming_html_a4923dd9579bc265a0fa7d41ca9c54eef"><div class="ttname"><a href="classAP__Arming.html#a4923dd9579bc265a0fa7d41ca9c54eef">AP_Arming::rc_arm_checks</a></div><div class="ttdeci">bool rc_arm_checks(AP_Arming::Method method)</div></div>
<div class="ttc" id="aclassAP__Arming_html_a4b5c929bdb93614513030d2f91f5b882"><div class="ttname"><a href="classAP__Arming.html#a4b5c929bdb93614513030d2f91f5b882">AP_Arming::last_gyro_pass_ms</a></div><div class="ttdeci">uint32_t last_gyro_pass_ms</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00169">AP_Arming.h:169</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a4b6025d0ed4162537933ae0514bf5dca"><div class="ttname"><a href="classAP__Arming.html#a4b6025d0ed4162537933ae0514bf5dca">AP_Arming::is_armed</a></div><div class="ttdeci">bool is_armed() const</div><div class="ttdef"><b>Definition</b> <a href="#l00205">AP_Arming.cpp:205</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a4ddcb14ba29b0ad4718c5494a1dec68c"><div class="ttname"><a href="classAP__Arming.html#a4ddcb14ba29b0ad4718c5494a1dec68c">AP_Arming::Log_Write_Disarm</a></div><div class="ttdeci">void Log_Write_Disarm(bool forced, AP_Arming::Method method)</div></div>
<div class="ttc" id="aclassAP__Arming_html_a4f3ddc2d4dff1f2034a53cba6905ab13"><div class="ttname"><a href="classAP__Arming.html#a4f3ddc2d4dff1f2034a53cba6905ab13">AP_Arming::estop_checks</a></div><div class="ttdeci">bool estop_checks(bool display_failure)</div><div class="ttdef"><b>Definition</b> <a href="#l01488">AP_Arming.cpp:1488</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a4fb053b9daafd8a7a31809cf185045de"><div class="ttname"><a href="classAP__Arming.html#a4fb053b9daafd8a7a31809cf185045de">AP_Arming::compass_magfield_expected</a></div><div class="ttdeci">uint16_t compass_magfield_expected() const</div><div class="ttdef"><b>Definition</b> <a href="#l00200">AP_Arming.cpp:200</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a56b3b8f0f7384ba938d0413483bef06e"><div class="ttname"><a href="classAP__Arming.html#a56b3b8f0f7384ba938d0413483bef06e">AP_Arming::rc_checks_copter_sub</a></div><div class="ttdeci">bool rc_checks_copter_sub(bool display_failure, const class RC_Channel *channels[4]) const</div></div>
<div class="ttc" id="aclassAP__Arming_html_a5813b5e0793954d9738889c7a4843ee5"><div class="ttname"><a href="classAP__Arming.html#a5813b5e0793954d9738889c7a4843ee5">AP_Arming::AP_Arming</a></div><div class="ttdeci">AP_Arming()</div><div class="ttdef"><b>Definition</b> <a href="#l00170">AP_Arming.cpp:170</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a58505aad3a3aa6310e441e834e78d7d7"><div class="ttname"><a href="classAP__Arming.html#a58505aad3a3aa6310e441e834e78d7d7">AP_Arming::disarm_switch_checks</a></div><div class="ttdeci">bool disarm_switch_checks(bool report) const</div></div>
<div class="ttc" id="aclassAP__Arming_html_a5a53a43cdc4cad7b332236f1d432bee8"><div class="ttname"><a href="classAP__Arming.html#a5a53a43cdc4cad7b332236f1d432bee8">AP_Arming::_last_disarm_method</a></div><div class="ttdeci">Method _last_disarm_method</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00302">AP_Arming.h:302</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a5c40ef21719cf3dc64da8c080f735a1c"><div class="ttname"><a href="classAP__Arming.html#a5c40ef21719cf3dc64da8c080f735a1c">AP_Arming::get_singleton</a></div><div class="ttdeci">static AP_Arming * get_singleton()</div><div class="ttdef"><b>Definition</b> <a href="#l01947">AP_Arming.cpp:1947</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a63f07ce2688df60f278fe161b46ffbf2"><div class="ttname"><a href="classAP__Arming.html#a63f07ce2688df60f278fe161b46ffbf2">AP_Arming::check_failed</a></div><div class="ttdeci">void check_failed(const enum AP_Arming::ArmingChecks check, bool report, const char *fmt,...) const FMT_PRINTF(4</div><div class="ttdef"><b>Definition</b> <a href="#l00231">AP_Arming.cpp:231</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a66dd88cc4605d1c91c655b2959274b5c"><div class="ttname"><a href="classAP__Arming.html#a66dd88cc4605d1c91c655b2959274b5c">AP_Arming::hardware_safety_check</a></div><div class="ttdeci">bool hardware_safety_check(bool report)</div><div class="ttdef"><b>Definition</b> <a href="#l00671">AP_Arming.cpp:671</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a68541a86fb655d7cbc82332bbfaa53fb"><div class="ttname"><a href="classAP__Arming.html#a68541a86fb655d7cbc82332bbfaa53fb">AP_Arming::last_prearm_checks_result</a></div><div class="ttdeci">bool last_prearm_checks_result</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00308">AP_Arming.h:308</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a6a70f13faf0a1f227f549a09b84c147e"><div class="ttname"><a href="classAP__Arming.html#a6a70f13faf0a1f227f549a09b84c147e">AP_Arming::can_checks</a></div><div class="ttdeci">bool can_checks(bool report)</div></div>
<div class="ttc" id="aclassAP__Arming_html_a6d781f5816e5909673fce3d1089a2175"><div class="ttname"><a href="classAP__Arming.html#a6d781f5816e5909673fce3d1089a2175">AP_Arming::_required_mission_items</a></div><div class="ttdeci">AP_Int32 _required_mission_items</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00162">AP_Arming.h:162</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a733d7e6800d256a5cb23f3e04fbfa854"><div class="ttname"><a href="classAP__Arming.html#a733d7e6800d256a5cb23f3e04fbfa854">AP_Arming::last_accel_pass_ms</a></div><div class="ttdeci">uint32_t last_accel_pass_ms</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00168">AP_Arming.h:168</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a73a03375b0dea4d8adbc304c2ced1c2e"><div class="ttname"><a href="classAP__Arming.html#a73a03375b0dea4d8adbc304c2ced1c2e">AP_Arming::get_enabled_checks</a></div><div class="ttdeci">uint32_t get_enabled_checks() const</div><div class="ttdef"><b>Definition</b> <a href="#l00218">AP_Arming.cpp:218</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a73c03baf7f22b7124a2ac9e9286a850a"><div class="ttname"><a href="classAP__Arming.html#a73c03baf7f22b7124a2ac9e9286a850a">AP_Arming::pre_arm_checks</a></div><div class="ttdeci">virtual bool pre_arm_checks(bool report)</div><div class="ttdef"><b>Definition</b> <a href="#l01509">AP_Arming.cpp:1509</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a74e983fbe4402ef505b1b753b3981a82"><div class="ttname"><a href="classAP__Arming.html#a74e983fbe4402ef505b1b753b3981a82">AP_Arming::update_arm_gpio</a></div><div class="ttdeci">void update_arm_gpio()</div></div>
<div class="ttc" id="aclassAP__Arming_html_a7d6e26fcda781c712a36eb1299bd0a52"><div class="ttname"><a href="classAP__Arming.html#a7d6e26fcda781c712a36eb1299bd0a52">AP_Arming::send_arm_disarm_statustext</a></div><div class="ttdeci">void send_arm_disarm_statustext(const char *string) const</div><div class="ttdef"><b>Definition</b> <a href="#l01773">AP_Arming.cpp:1773</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a810b6f65282ff4b8fe9270ba0f47b801"><div class="ttname"><a href="classAP__Arming.html#a810b6f65282ff4b8fe9270ba0f47b801">AP_Arming::option_enabled</a></div><div class="ttdeci">bool option_enabled(Option option) const</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00146">AP_Arming.h:146</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a8e16a0b791e7276a4f9a3d9fa072528d"><div class="ttname"><a href="classAP__Arming.html#a8e16a0b791e7276a4f9a3d9fa072528d">AP_Arming::check_forced_logging</a></div><div class="ttdeci">void check_forced_logging(const AP_Arming::Method method)</div></div>
<div class="ttc" id="aclassAP__Arming_html_a959121bef3d2b221f8920a32b476ff35"><div class="ttname"><a href="classAP__Arming.html#a959121bef3d2b221f8920a32b476ff35">AP_Arming::magfield_error_threshold</a></div><div class="ttdeci">AP_Int16 magfield_error_threshold</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00164">AP_Arming.h:164</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a97cd0d015cd8f9b6920cfa1b304d84ef"><div class="ttname"><a href="classAP__Arming.html#a97cd0d015cd8f9b6920cfa1b304d84ef">AP_Arming::disarm</a></div><div class="ttdeci">virtual bool disarm(AP_Arming::Method method, bool do_disarm_checks=true)</div><div class="ttdef"><b>Definition</b> <a href="#l01721">AP_Arming.cpp:1721</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a980b9e7f07e4aa4c3c1051215e36baff"><div class="ttname"><a href="classAP__Arming.html#a980b9e7f07e4aa4c3c1051215e36baff">AP_Arming::accel_error_threshold</a></div><div class="ttdeci">AP_Float accel_error_threshold</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00160">AP_Arming.h:160</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_a98bcd9c01b012d94e1ed4239f63c6207"><div class="ttname"><a href="classAP__Arming.html#a98bcd9c01b012d94e1ed4239f63c6207">AP_Arming::fence_checks</a></div><div class="ttdeci">bool fence_checks(bool report)</div></div>
<div class="ttc" id="aclassAP__Arming_html_a9e549b0827b9d501b7e6ccd90602f223"><div class="ttname"><a href="classAP__Arming.html#a9e549b0827b9d501b7e6ccd90602f223">AP_Arming::rangefinder_checks</a></div><div class="ttdeci">bool rangefinder_checks(bool report)</div><div class="ttdef"><b>Definition</b> <a href="#l00882">AP_Arming.cpp:882</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_aa03c902a0bd3d47ffd59374f2d6cdfb1"><div class="ttname"><a href="classAP__Arming.html#aa03c902a0bd3d47ffd59374f2d6cdfb1">AP_Arming::camera_checks</a></div><div class="ttdeci">bool camera_checks(bool display_failure)</div></div>
<div class="ttc" id="aclassAP__Arming_html_aa0d54a0d54785fe396f354b46024176a"><div class="ttname"><a href="classAP__Arming.html#aa0d54a0d54785fe396f354b46024176a">AP_Arming::serial_protocol_checks</a></div><div class="ttdeci">bool serial_protocol_checks(bool display_failure)</div><div class="ttdef"><b>Definition</b> <a href="#l01478">AP_Arming.cpp:1478</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_aa1262e7542c04172a7a9be9ffa16134c"><div class="ttname"><a href="classAP__Arming.html#aa1262e7542c04172a7a9be9ffa16134c">AP_Arming::_last_arm_method</a></div><div class="ttdeci">Method _last_arm_method</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00303">AP_Arming.h:303</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_aa168a0c85d0669dffdbc2eaa6c64e2a9"><div class="ttname"><a href="classAP__Arming.html#aa168a0c85d0669dffdbc2eaa6c64e2a9">AP_Arming::_singleton</a></div><div class="ttdeci">static AP_Arming * _singleton</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00263">AP_Arming.h:263</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_aa21f947034e17a0443c5caf6ce20ce9c"><div class="ttname"><a href="classAP__Arming.html#aa21f947034e17a0443c5caf6ce20ce9c">AP_Arming::rc_calibration_checks</a></div><div class="ttdeci">virtual bool rc_calibration_checks(bool report)</div></div>
<div class="ttc" id="aclassAP__Arming_html_aa2db8e16fc960948bf9ddd7fd875bb3b"><div class="ttname"><a href="classAP__Arming.html#aa2db8e16fc960948bf9ddd7fd875bb3b">AP_Arming::manual_transmitter_checks</a></div><div class="ttdeci">bool manual_transmitter_checks(bool report)</div></div>
<div class="ttc" id="aclassAP__Arming_html_aa713aab12a83b252c8ba79e1c8bcd3b1"><div class="ttname"><a href="classAP__Arming.html#aa713aab12a83b252c8ba79e1c8bcd3b1">AP_Arming::require</a></div><div class="ttdeci">AP_Enum&lt; Required &gt; require</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00158">AP_Arming.h:158</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_aa9a6cfb700e8fd32de6678d4ebba297d"><div class="ttname"><a href="classAP__Arming.html#aa9a6cfb700e8fd32de6678d4ebba297d">AP_Arming::terrain_checks</a></div><div class="ttdeci">bool terrain_checks(bool report) const</div><div class="ttdef"><b>Definition</b> <a href="#l01106">AP_Arming.cpp:1106</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_aa9e0cb21a3be70b834a9a8b74ba19356"><div class="ttname"><a href="classAP__Arming.html#aa9e0cb21a3be70b834a9a8b74ba19356">AP_Arming::checks_to_perform</a></div><div class="ttdeci">AP_Int32 checks_to_perform</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00159">AP_Arming.h:159</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_aabc61cc7d21253f5f52e3a55b87bb4ca"><div class="ttname"><a href="classAP__Arming.html#aabc61cc7d21253f5f52e3a55b87bb4ca">AP_Arming::armed</a></div><div class="ttdeci">bool armed</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00167">AP_Arming.h:167</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_ab1d5634e7c937cad73b7802faf0001fa"><div class="ttname"><a href="classAP__Arming.html#ab1d5634e7c937cad73b7802faf0001fa">AP_Arming::generator_checks</a></div><div class="ttdeci">bool generator_checks(bool report) const</div></div>
<div class="ttc" id="aclassAP__Arming_html_ab3fada4715d1f6e886c75a4b3065cb32"><div class="ttname"><a href="classAP__Arming.html#ab3fada4715d1f6e886c75a4b3065cb32">AP_Arming::rc_in_calibration_check</a></div><div class="ttdeci">bool rc_in_calibration_check(bool report)</div></div>
<div class="ttc" id="aclassAP__Arming_html_abbe5721310f8105e360846b68b2032a0"><div class="ttname"><a href="classAP__Arming.html#abbe5721310f8105e360846b68b2032a0">AP_Arming::is_armed_and_safety_off</a></div><div class="ttdeci">bool is_armed_and_safety_off() const</div><div class="ttdef"><b>Definition</b> <a href="#l00213">AP_Arming.cpp:213</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_abeebfae7f8ef321308d6ca739c25d4f9"><div class="ttname"><a href="classAP__Arming.html#abeebfae7f8ef321308d6ca739c25d4f9">AP_Arming::arm</a></div><div class="ttdeci">virtual bool arm(AP_Arming::Method method, bool do_arming_checks=true)</div><div class="ttdef"><b>Definition</b> <a href="#l01653">AP_Arming.cpp:1653</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_ac175683f497fb6db8f1e2652e18261c0"><div class="ttname"><a href="classAP__Arming.html#ac175683f497fb6db8f1e2652e18261c0">AP_Arming::terrain_database_required</a></div><div class="ttdeci">virtual bool terrain_database_required() const</div><div class="ttdef"><b>Definition</b> <a href="#l01090">AP_Arming.cpp:1090</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_ac6e038473d4da1f02d3cb506b013e06e"><div class="ttname"><a href="classAP__Arming.html#ac6e038473d4da1f02d3cb506b013e06e">AP_Arming::check_enabled</a></div><div class="ttdeci">bool check_enabled(const enum AP_Arming::ArmingChecks check) const</div><div class="ttdef"><b>Definition</b> <a href="#l00223">AP_Arming.cpp:223</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_ac77d92266f838f677dedd2ae9bdf9c34a73fbb2efd9da926630ecd08a80dbddee"><div class="ttname"><a href="classAP__Arming.html#ac77d92266f838f677dedd2ae9bdf9c34a73fbb2efd9da926630ecd08a80dbddee">AP_Arming::Option::DISABLE_PREARM_DISPLAY</a></div><div class="ttdeci">@ DISABLE_PREARM_DISPLAY</div></div>
<div class="ttc" id="aclassAP__Arming_html_ac77d92266f838f677dedd2ae9bdf9c34a9e783aeaa7103a9c4eddc67f6ec5affe"><div class="ttname"><a href="classAP__Arming.html#ac77d92266f838f677dedd2ae9bdf9c34a9e783aeaa7103a9c4eddc67f6ec5affe">AP_Arming::Option::DISABLE_STATUSTEXT_ON_STATE_CHANGE</a></div><div class="ttdeci">@ DISABLE_STATUSTEXT_ON_STATE_CHANGE</div></div>
<div class="ttc" id="aclassAP__Arming_html_ac79c8dfb0c1eaa2dc6fa94714f846219"><div class="ttname"><a href="classAP__Arming.html#ac79c8dfb0c1eaa2dc6fa94714f846219">AP_Arming::fettec_checks</a></div><div class="ttdeci">bool fettec_checks(bool display_failure) const</div></div>
<div class="ttc" id="aclassAP__Arming_html_acb2759057d97d046e1c211dc538efaf3"><div class="ttname"><a href="classAP__Arming.html#acb2759057d97d046e1c211dc538efaf3">AP_Arming::running_arming_checks</a></div><div class="ttdeci">bool running_arming_checks</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00306">AP_Arming.h:306</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_acb88e0402b67f0907146a2433ddf46f2a27a251f50197bbf894bacabd9c3be106"><div class="ttname"><a href="classAP__Arming.html#acb88e0402b67f0907146a2433ddf46f2a27a251f50197bbf894bacabd9c3be106">AP_Arming::MIS_ITEM_CHECK_VTOL_TAKEOFF</a></div><div class="ttdeci">@ MIS_ITEM_CHECK_VTOL_TAKEOFF</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00278">AP_Arming.h:278</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_acb88e0402b67f0907146a2433ddf46f2a27de0d6a523b983aad3d24244847e31e"><div class="ttname"><a href="classAP__Arming.html#acb88e0402b67f0907146a2433ddf46f2a27de0d6a523b983aad3d24244847e31e">AP_Arming::MIS_ITEM_CHECK_VTOL_LAND</a></div><div class="ttdeci">@ MIS_ITEM_CHECK_VTOL_LAND</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00275">AP_Arming.h:275</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_acb88e0402b67f0907146a2433ddf46f2a2a650daa3159615ba8a8c1b98a0e49b1"><div class="ttname"><a href="classAP__Arming.html#acb88e0402b67f0907146a2433ddf46f2a2a650daa3159615ba8a8c1b98a0e49b1">AP_Arming::MIS_ITEM_CHECK_DO_LAND_START</a></div><div class="ttdeci">@ MIS_ITEM_CHECK_DO_LAND_START</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00276">AP_Arming.h:276</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_acb88e0402b67f0907146a2433ddf46f2a57324536270153fd542db85659bdaeb6"><div class="ttname"><a href="classAP__Arming.html#acb88e0402b67f0907146a2433ddf46f2a57324536270153fd542db85659bdaeb6">AP_Arming::MIS_ITEM_CHECK_RALLY</a></div><div class="ttdeci">@ MIS_ITEM_CHECK_RALLY</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00279">AP_Arming.h:279</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_acb88e0402b67f0907146a2433ddf46f2a5c959c4a83e2619cfe4cfced43612ec5"><div class="ttname"><a href="classAP__Arming.html#acb88e0402b67f0907146a2433ddf46f2a5c959c4a83e2619cfe4cfced43612ec5">AP_Arming::MIS_ITEM_CHECK_TAKEOFF</a></div><div class="ttdeci">@ MIS_ITEM_CHECK_TAKEOFF</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00277">AP_Arming.h:277</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_acb88e0402b67f0907146a2433ddf46f2a7daa90c84cd3509a78ddfe4ee9fa8cf3"><div class="ttname"><a href="classAP__Arming.html#acb88e0402b67f0907146a2433ddf46f2a7daa90c84cd3509a78ddfe4ee9fa8cf3">AP_Arming::MIS_ITEM_CHECK_RETURN_TO_LAUNCH</a></div><div class="ttdeci">@ MIS_ITEM_CHECK_RETURN_TO_LAUNCH</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00280">AP_Arming.h:280</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_acb88e0402b67f0907146a2433ddf46f2a91bf406a6fcdd7c3fe55ee88437e5efe"><div class="ttname"><a href="classAP__Arming.html#acb88e0402b67f0907146a2433ddf46f2a91bf406a6fcdd7c3fe55ee88437e5efe">AP_Arming::MIS_ITEM_CHECK_LAND</a></div><div class="ttdeci">@ MIS_ITEM_CHECK_LAND</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00274">AP_Arming.h:274</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_ad1aeda71b7360ca68d532178e0e7f0d0"><div class="ttname"><a href="classAP__Arming.html#ad1aeda71b7360ca68d532178e0e7f0d0">AP_Arming::arming_required</a></div><div class="ttdeci">Required arming_required() const</div><div class="ttdef"><b>Definition</b> <a href="#l01781">AP_Arming.cpp:1781</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_ad2462f103a95f428ff3c0f2b2f9c8ab7"><div class="ttname"><a href="classAP__Arming.html#ad2462f103a95f428ff3c0f2b2f9c8ab7">AP_Arming::Required</a></div><div class="ttdeci">Required</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00086">AP_Arming.h:86</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_ad2462f103a95f428ff3c0f2b2f9c8ab7a013dedb96ada18a24cfb438147ab6e8c"><div class="ttname"><a href="classAP__Arming.html#ad2462f103a95f428ff3c0f2b2f9c8ab7a013dedb96ada18a24cfb438147ab6e8c">AP_Arming::Required::YES_ZERO_PWM</a></div><div class="ttdeci">@ YES_ZERO_PWM</div></div>
<div class="ttc" id="aclassAP__Arming_html_ad2462f103a95f428ff3c0f2b2f9c8ab7ac2f3f489a00553e7a01d369c103c7251"><div class="ttname"><a href="classAP__Arming.html#ad2462f103a95f428ff3c0f2b2f9c8ab7ac2f3f489a00553e7a01d369c103c7251">AP_Arming::Required::NO</a></div><div class="ttdeci">@ NO</div></div>
<div class="ttc" id="aclassAP__Arming_html_ad2462f103a95f428ff3c0f2b2f9c8ab7ae2e262da3299ab0b11961f03270922f2"><div class="ttname"><a href="classAP__Arming.html#ad2462f103a95f428ff3c0f2b2f9c8ab7ae2e262da3299ab0b11961f03270922f2">AP_Arming::Required::YES_MIN_PWM</a></div><div class="ttdeci">@ YES_MIN_PWM</div></div>
<div class="ttc" id="aclassAP__Arming_html_ad7114c8874ca085e46068f26241e8e4e"><div class="ttname"><a href="classAP__Arming.html#ad7114c8874ca085e46068f26241e8e4e">AP_Arming::mission_checks</a></div><div class="ttdeci">virtual bool mission_checks(bool report)</div></div>
<div class="ttc" id="aclassAP__Arming_html_ad7ec78de73287b0cbff220b1a5491869"><div class="ttname"><a href="classAP__Arming.html#ad7ec78de73287b0cbff220b1a5491869">AP_Arming::report_immediately</a></div><div class="ttdeci">bool report_immediately</div><div class="ttdef"><b>Definition</b> <a href="AP__Arming_8h_source.html#l00309">AP_Arming.h:309</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_ae5be2c08d3fc6a22d3ab2135a49c3ff6"><div class="ttname"><a href="classAP__Arming.html#ae5be2c08d3fc6a22d3ab2135a49c3ff6">AP_Arming::gps_checks</a></div><div class="ttdeci">virtual bool gps_checks(bool report)</div></div>
<div class="ttc" id="aclassAP__Arming_html_af2324bc7b77e7915f790a854bced1a5b"><div class="ttname"><a href="classAP__Arming.html#af2324bc7b77e7915f790a854bced1a5b">AP_Arming::opendroneid_checks</a></div><div class="ttdeci">bool opendroneid_checks(bool display_failure)</div></div>
<div class="ttc" id="aclassAP__Arming_html_af367341efb40066a13ef7c4c0090b821"><div class="ttname"><a href="classAP__Arming.html#af367341efb40066a13ef7c4c0090b821">AP_Arming::visodom_checks</a></div><div class="ttdeci">bool visodom_checks(bool report) const</div></div>
<div class="ttc" id="aclassAP__Arming_html_af6f4e5ed936ada30378367cda0ad7710"><div class="ttname"><a href="classAP__Arming.html#af6f4e5ed936ada30378367cda0ad7710">AP_Arming::barometer_checks</a></div><div class="ttdeci">virtual bool barometer_checks(bool report)</div><div class="ttdef"><b>Definition</b> <a href="#l00284">AP_Arming.cpp:284</a></div></div>
<div class="ttc" id="aclassAP__Arming_html_af7a2506cdfb29fc95afcb9949895af1e"><div class="ttname"><a href="classAP__Arming.html#af7a2506cdfb29fc95afcb9949895af1e">AP_Arming::Log_Write_Arm</a></div><div class="ttdeci">void void void Log_Write_Arm(bool forced, AP_Arming::Method method)</div></div>
<div class="ttc" id="aclassAP__BoardConfig_html"><div class="ttname"><a href="classAP__BoardConfig.html">AP_BoardConfig</a></div><div class="ttdef"><b>Definition</b> <a href="AP__BoardConfig_8h_source.html#l00015">AP_BoardConfig.h:15</a></div></div>
<div class="ttc" id="aclassAP__BoardConfig_html_a139955525d15de2d901f0056ee5f0738ac39367dc2db2148b0236748675aefa21"><div class="ttname"><a href="classAP__BoardConfig.html#a139955525d15de2d901f0056ee5f0738ac39367dc2db2148b0236748675aefa21">AP_BoardConfig::BOARD_SAFETY_OPTION_SAFETY_ON_DISARM</a></div><div class="ttdeci">@ BOARD_SAFETY_OPTION_SAFETY_ON_DISARM</div><div class="ttdef"><b>Definition</b> <a href="AP__BoardConfig_8h_source.html#l00114">AP_BoardConfig.h:114</a></div></div>
<div class="ttc" id="aclassAP__BoardConfig_html_a88fafdbccbeac097961a7cf64993530f"><div class="ttname"><a href="classAP__BoardConfig.html#a88fafdbccbeac097961a7cf64993530f">AP_BoardConfig::io_enabled</a></div><div class="ttdeci">static uint8_t io_enabled(void)</div><div class="ttdef"><b>Definition</b> <a href="AP__BoardConfig_8h_source.html#l00089">AP_BoardConfig.h:89</a></div></div>
<div class="ttc" id="aclassAP__BoardConfig_html_a96b55c8ed6ff000ef3b8c0a83006c94e"><div class="ttname"><a href="classAP__BoardConfig.html#a96b55c8ed6ff000ef3b8c0a83006c94e">AP_BoardConfig::get_safety_button_options</a></div><div class="ttdeci">uint16_t get_safety_button_options(void) const</div><div class="ttdef"><b>Definition</b> <a href="AP__BoardConfig_8h_source.html#l00118">AP_BoardConfig.h:118</a></div></div>
<div class="ttc" id="aclassAP__BoardConfig_html_aa226fe782a2f0331e3331827ded89847"><div class="ttname"><a href="classAP__BoardConfig.html#aa226fe782a2f0331e3331827ded89847">AP_BoardConfig::get_singleton</a></div><div class="ttdeci">static AP_BoardConfig * get_singleton(void)</div><div class="ttdef"><b>Definition</b> <a href="AP__BoardConfig_8h_source.html#l00023">AP_BoardConfig.h:23</a></div></div>
<div class="ttc" id="aclassAP__BoardConfig_html_acbd5f859e19e383a5e02d9272a10cbf8"><div class="ttname"><a href="classAP__BoardConfig.html#acbd5f859e19e383a5e02d9272a10cbf8">AP_BoardConfig::arming_gpio_disabled</a></div><div class="ttdeci">static bool arming_gpio_disabled(void)</div><div class="ttdef"><b>Definition</b> <a href="AP__BoardConfig_8h_source.html#l00164">AP_BoardConfig.h:164</a></div></div>
<div class="ttc" id="aclassAP__Button_html_a3f089aaf249725a51a5d5a6b7a375798"><div class="ttname"><a href="classAP__Button.html#a3f089aaf249725a51a5d5a6b7a375798">AP_Button::arming_checks</a></div><div class="ttdeci">bool arming_checks(size_t buflen, char *buffer) const</div><div class="ttdef"><b>Definition</b> <a href="AP__Button_8cpp_source.html#l00382">AP_Button.cpp:382</a></div></div>
<div class="ttc" id="aclassAP__CAN_html_adaf3bb393dc06aa807a0a3c4e339c465a20aa8bd0fef9e9f711ffa92c9b7a4d8e"><div class="ttname"><a href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465a20aa8bd0fef9e9f711ffa92c9b7a4d8e">AP_CAN::Protocol::USD1</a></div><div class="ttdeci">@ USD1</div></div>
<div class="ttc" id="aclassAP__CAN_html_adaf3bb393dc06aa807a0a3c4e339c465a28db7f0e1b44a04ab294a58778f3bacb"><div class="ttname"><a href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465a28db7f0e1b44a04ab294a58778f3bacb">AP_CAN::Protocol::DroneCAN</a></div><div class="ttdeci">@ DroneCAN</div></div>
<div class="ttc" id="aclassAP__CAN_html_adaf3bb393dc06aa807a0a3c4e339c465a2b3f36ce1d67452a67aba0853d7527da"><div class="ttname"><a href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465a2b3f36ce1d67452a67aba0853d7527da">AP_CAN::Protocol::Scripting2</a></div><div class="ttdeci">@ Scripting2</div></div>
<div class="ttc" id="aclassAP__CAN_html_adaf3bb393dc06aa807a0a3c4e339c465a5e975563706e2ba485206675abc3f0a1"><div class="ttname"><a href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465a5e975563706e2ba485206675abc3f0a1">AP_CAN::Protocol::TOFSenseP</a></div><div class="ttdeci">@ TOFSenseP</div></div>
<div class="ttc" id="aclassAP__CAN_html_adaf3bb393dc06aa807a0a3c4e339c465a66f1aed235ade25269a561e81cbbb43a"><div class="ttname"><a href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465a66f1aed235ade25269a561e81cbbb43a">AP_CAN::Protocol::Scripting</a></div><div class="ttdeci">@ Scripting</div></div>
<div class="ttc" id="aclassAP__CAN_html_adaf3bb393dc06aa807a0a3c4e339c465a6adf97f83acf6453d4a6a4b1070f3754"><div class="ttname"><a href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465a6adf97f83acf6453d4a6a4b1070f3754">AP_CAN::Protocol::None</a></div><div class="ttdeci">@ None</div></div>
<div class="ttc" id="aclassAP__CAN_html_adaf3bb393dc06aa807a0a3c4e339c465a6c38ce4b523b41a8eedc7216f30f2cb4"><div class="ttname"><a href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465a6c38ce4b523b41a8eedc7216f30f2cb4">AP_CAN::Protocol::PiccoloCAN</a></div><div class="ttdeci">@ PiccoloCAN</div></div>
<div class="ttc" id="aclassAP__CAN_html_adaf3bb393dc06aa807a0a3c4e339c465a8723eb9692d8f6089bc0013fdb045513"><div class="ttname"><a href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465a8723eb9692d8f6089bc0013fdb045513">AP_CAN::Protocol::Benewake</a></div><div class="ttdeci">@ Benewake</div></div>
<div class="ttc" id="aclassAP__CAN_html_adaf3bb393dc06aa807a0a3c4e339c465ac34ecad7314de99c9b9e0c537c14c620"><div class="ttname"><a href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465ac34ecad7314de99c9b9e0c537c14c620">AP_CAN::Protocol::EFI_NWPMU</a></div><div class="ttdeci">@ EFI_NWPMU</div></div>
<div class="ttc" id="aclassAP__CAN_html_adaf3bb393dc06aa807a0a3c4e339c465addc2e094397c79a6b0a4ce78016ac09b"><div class="ttname"><a href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465addc2e094397c79a6b0a4ce78016ac09b">AP_CAN::Protocol::KDECAN</a></div><div class="ttdeci">@ KDECAN</div></div>
<div class="ttc" id="aclassAP__CAN_html_adaf3bb393dc06aa807a0a3c4e339c465afa8444c0426503df0c17796429d1faba"><div class="ttname"><a href="classAP__CAN.html#adaf3bb393dc06aa807a0a3c4e339c465afa8444c0426503df0c17796429d1faba">AP_CAN::Protocol::NanoRadar</a></div><div class="ttdeci">@ NanoRadar</div></div>
<div class="ttc" id="aclassAP__Declination_html_ae3d6b9d48d170bd23963ebdee22110b7"><div class="ttname"><a href="classAP__Declination.html#ae3d6b9d48d170bd23963ebdee22110b7">AP_Declination::get_earth_field_ga</a></div><div class="ttdeci">static Vector3f get_earth_field_ga(const Location &amp;loc)</div><div class="ttdef"><b>Definition</b> <a href="AP__Declination_8cpp_source.html#l00134">AP_Declination.cpp:134</a></div></div>
<div class="ttc" id="aclassAP__GPS_html"><div class="ttname"><a href="classAP__GPS.html">AP_GPS</a></div><div class="ttdef"><b>Definition</b> <a href="AP__GPS_8h_source.html#l00075">AP_GPS.h:76</a></div></div>
<div class="ttc" id="aclassAP__GPS_html_a0101b0a077933c5bcbb15a6d63a03d07"><div class="ttname"><a href="classAP__GPS.html#a0101b0a077933c5bcbb15a6d63a03d07">AP_GPS::get_type</a></div><div class="ttdeci">GPS_Type get_type(uint8_t instance) const</div><div class="ttdef"><b>Definition</b> <a href="AP__GPS_8h_source.html#l00566">AP_GPS.h:566</a></div></div>
<div class="ttc" id="aclassAP__GPS_html_a24ab7def0009b4aa846163e9b9704338"><div class="ttname"><a href="classAP__GPS.html#a24ab7def0009b4aa846163e9b9704338">AP_GPS::broadcast_first_configuration_failure_reason</a></div><div class="ttdeci">void broadcast_first_configuration_failure_reason(void) const</div><div class="ttdef"><b>Definition</b> <a href="AP__GPS_8cpp_source.html#l01565">AP_GPS.cpp:1565</a></div></div>
<div class="ttc" id="aclassAP__GPS_html_a3d0a0e530c963bb5b7ffaf4eb74faef2"><div class="ttname"><a href="classAP__GPS.html#a3d0a0e530c963bb5b7ffaf4eb74faef2">AP_GPS::num_sensors</a></div><div class="ttdeci">uint8_t num_sensors(void) const</div><div class="ttdef"><b>Definition</b> <a href="AP__GPS_8cpp_source.html#l00501">AP_GPS.cpp:501</a></div></div>
<div class="ttc" id="aclassAP__GPS_html_a6534cf5404afbe11d4c7edf06813ce4a"><div class="ttname"><a href="classAP__GPS.html#a6534cf5404afbe11d4c7edf06813ce4a">AP_GPS::blend_health_check</a></div><div class="ttdeci">bool blend_health_check() const</div><div class="ttdef"><b>Definition</b> <a href="AP__GPS_8cpp_source.html#l01595">AP_GPS.cpp:1595</a></div></div>
<div class="ttc" id="aclassAP__GPS_html_a7409121ce557236dce2fd541309af5fca3ea1cd30c63cf65db4a124bcd4b9fbdb"><div class="ttname"><a href="classAP__GPS.html#a7409121ce557236dce2fd541309af5fca3ea1cd30c63cf65db4a124bcd4b9fbdb">AP_GPS::GPS_OK_FIX_3D</a></div><div class="ttdeci">@ GPS_OK_FIX_3D</div><div class="ttdoc">Receiving valid messages and 3D lock.</div><div class="ttdef"><b>Definition</b> <a href="AP__GPS_8h_source.html#l00147">AP_GPS.h:147</a></div></div>
<div class="ttc" id="aclassAP__GPS_html_a7c289e343fd9873111accc9bfa75da47"><div class="ttname"><a href="classAP__GPS.html#a7c289e343fd9873111accc9bfa75da47">AP_GPS::is_healthy</a></div><div class="ttdeci">bool is_healthy(uint8_t instance) const</div><div class="ttdef"><b>Definition</b> <a href="AP__GPS_8cpp_source.html#l02227">AP_GPS.cpp:2227</a></div></div>
<div class="ttc" id="aclassAP__GPS_html_ab1da3f2cdc163164cfee43b3248821ed"><div class="ttname"><a href="classAP__GPS.html#ab1da3f2cdc163164cfee43b3248821ed">AP_GPS::location</a></div><div class="ttdeci">const Location &amp; location(uint8_t instance) const</div><div class="ttdef"><b>Definition</b> <a href="AP__GPS_8h_source.html#l00313">AP_GPS.h:313</a></div></div>
<div class="ttc" id="aclassAP__GPS_html_ac22b61d2e6cf0b6ff647173ea336de01"><div class="ttname"><a href="classAP__GPS.html#ac22b61d2e6cf0b6ff647173ea336de01">AP_GPS::status</a></div><div class="ttdeci">GPS_Status status(uint8_t instance) const</div><div class="ttdoc">Query GPS status.</div><div class="ttdef"><b>Definition</b> <a href="AP__GPS_8h_source.html#l00276">AP_GPS.h:276</a></div></div>
<div class="ttc" id="aclassAP__GPS_html_ac2c5a58b9aa31a268047ce499f61f96c"><div class="ttname"><a href="classAP__GPS.html#ac2c5a58b9aa31a268047ce499f61f96c">AP_GPS::all_consistent</a></div><div class="ttdeci">bool all_consistent(float &amp;distance) const</div><div class="ttdef"><b>Definition</b> <a href="AP__GPS_8cpp_source.html#l01578">AP_GPS.cpp:1578</a></div></div>
<div class="ttc" id="aclassAP__GPS_html_ae4b5ac77aca03dd3d3f327f016c7e1e6acb925988f6661c9552b576d7078f8ca1"><div class="ttname"><a href="classAP__GPS.html#ae4b5ac77aca03dd3d3f327f016c7e1e6acb925988f6661c9552b576d7078f8ca1">AP_GPS::GPS_TYPE_NONE</a></div><div class="ttdeci">@ GPS_TYPE_NONE</div><div class="ttdef"><b>Definition</b> <a href="AP__GPS_8h_source.html#l00110">AP_GPS.h:110</a></div></div>
<div class="ttc" id="aclassAP__GPS_html_af7e7cb028cf6709b5df730e47ec65057"><div class="ttname"><a href="classAP__GPS.html#af7e7cb028cf6709b5df730e47ec65057">AP_GPS::first_unconfigured_gps</a></div><div class="ttdeci">bool first_unconfigured_gps(uint8_t &amp;instance) const WARN_IF_UNUSED</div><div class="ttdef"><b>Definition</b> <a href="AP__GPS_8cpp_source.html#l01554">AP_GPS.cpp:1554</a></div></div>
<div class="ttc" id="aclassAP__Generator_html"><div class="ttname"><a href="classAP__Generator.html">AP_Generator</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Generator_8h_source.html#l00015">AP_Generator.h:16</a></div></div>
<div class="ttc" id="aclassAP__Generator_html_ad76c1f409b533b61fc8aabe862b411b4"><div class="ttname"><a href="classAP__Generator.html#ad76c1f409b533b61fc8aabe862b411b4">AP_Generator::pre_arm_check</a></div><div class="ttdeci">bool pre_arm_check(char *failmsg, uint8_t failmsg_len) const</div><div class="ttdef"><b>Definition</b> <a href="AP__Generator_8cpp_source.html#l00119">AP_Generator.cpp:119</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1AnalogIn_html_a84c87bc57f06182afc85725cafe22698"><div class="ttname"><a href="classAP__HAL_1_1AnalogIn.html#a84c87bc57f06182afc85725cafe22698">AP_HAL::AnalogIn::board_voltage</a></div><div class="ttdeci">virtual float board_voltage(void)=0</div></div>
<div class="ttc" id="aclassAP__HAL_1_1AnalogIn_html_aec5bbeb075072b2cc35d2301236c7f45"><div class="ttname"><a href="classAP__HAL_1_1AnalogIn.html#aec5bbeb075072b2cc35d2301236c7f45">AP_HAL::AnalogIn::servorail_voltage</a></div><div class="ttdeci">virtual float servorail_voltage(void)</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL_2AnalogIn_8h_source.html#l00036">AnalogIn.h:36</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1GPIO_html_a2b0664bdab1876e3b0bbcd9064eec88e"><div class="ttname"><a href="classAP__HAL_1_1GPIO.html#a2b0664bdab1876e3b0bbcd9064eec88e">AP_HAL::GPIO::write</a></div><div class="ttdeci">virtual void write(uint8_t pin, uint8_t value)=0</div></div>
<div class="ttc" id="aclassAP__HAL_1_1GPIO_html_a3160f9e7985bcf83f0f955c0d4aaacb3"><div class="ttname"><a href="classAP__HAL_1_1GPIO.html#a3160f9e7985bcf83f0f955c0d4aaacb3">AP_HAL::GPIO::arming_checks</a></div><div class="ttdeci">virtual bool arming_checks(size_t buflen, char *buffer) const</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL_2GPIO_8h_source.html#l00118">GPIO.h:118</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1HAL_html"><div class="ttname"><a href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a></div><div class="ttdef"><b>Definition</b> <a href="HAL_8h_source.html#l00021">HAL.h:21</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1HAL_html_a13ed800ad745085097f4d6dce9070eb0"><div class="ttname"><a href="classAP__HAL_1_1HAL.html#a13ed800ad745085097f4d6dce9070eb0">AP_HAL::HAL::gpio</a></div><div class="ttdeci">AP_HAL::GPIO * gpio</div><div class="ttdef"><b>Definition</b> <a href="HAL_8h_source.html#l00127">HAL.h:127</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1HAL_html_a48a758dbd587c916aa4f5ea5ae9521e4"><div class="ttname"><a href="classAP__HAL_1_1HAL.html#a48a758dbd587c916aa4f5ea5ae9521e4">AP_HAL::HAL::analogin</a></div><div class="ttdeci">AP_HAL::AnalogIn * analogin</div><div class="ttdef"><b>Definition</b> <a href="HAL_8h_source.html#l00124">HAL.h:124</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1HAL_html_a9337a60383f4264fa96a20dbe43a4e2e"><div class="ttname"><a href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">AP_HAL::HAL::util</a></div><div class="ttdeci">AP_HAL::Util * util</div><div class="ttdef"><b>Definition</b> <a href="HAL_8h_source.html#l00131">HAL.h:131</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1HAL_html_a99d491059d9a66879ac03fcbb50b1272"><div class="ttname"><a href="classAP__HAL_1_1HAL.html#a99d491059d9a66879ac03fcbb50b1272">AP_HAL::HAL::storage</a></div><div class="ttdeci">AP_HAL::Storage * storage</div><div class="ttdef"><b>Definition</b> <a href="HAL_8h_source.html#l00125">HAL.h:125</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1HAL_html_aa6daf2df3dfc0b9f0f503db64a52b0cc"><div class="ttname"><a href="classAP__HAL_1_1HAL.html#aa6daf2df3dfc0b9f0f503db64a52b0cc">AP_HAL::HAL::rcout</a></div><div class="ttdeci">AP_HAL::RCOutput * rcout</div><div class="ttdef"><b>Definition</b> <a href="HAL_8h_source.html#l00129">HAL.h:129</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1RCOutput_html_a6852e3aa22747f045dc71972e97d7de6"><div class="ttname"><a href="classAP__HAL_1_1RCOutput.html#a6852e3aa22747f045dc71972e97d7de6">AP_HAL::RCOutput::force_safety_on</a></div><div class="ttdeci">virtual bool force_safety_on(void)</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL_2RCOutput_8h_source.html#l00129">RCOutput.h:129</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1Storage_html_ad64999b9359b6cdcb217871332ea9a3a"><div class="ttname"><a href="classAP__HAL_1_1Storage.html#ad64999b9359b6cdcb217871332ea9a3a">AP_HAL::Storage::healthy</a></div><div class="ttdeci">virtual bool healthy(void)</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL_2Storage_8h_source.html#l00013">Storage.h:13</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1Util_html_a4b04d344ba779364624427a51ea3669fa0bdaddc5635bc9fa38649e9bf6f63735"><div class="ttname"><a href="classAP__HAL_1_1Util.html#a4b04d344ba779364624427a51ea3669fa0bdaddc5635bc9fa38649e9bf6f63735">AP_HAL::Util::SAFETY_DISARMED</a></div><div class="ttdeci">@ SAFETY_DISARMED</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL_2Util_8h_source.html#l00053">Util.h:53</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1Util_html_a9cd8bcd13d4c3c74c665b0702f86451b"><div class="ttname"><a href="classAP__HAL_1_1Util.html#a9cd8bcd13d4c3c74c665b0702f86451b">AP_HAL::Util::safety_switch_state</a></div><div class="ttdeci">virtual enum safety_state safety_switch_state(void)</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL_2Util_8h_source.html#l00095">Util.h:95</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1Util_html_afaedff8102d9ae2fbc398d2099e30cf6"><div class="ttname"><a href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">AP_HAL::Util::snprintf</a></div><div class="ttdeci">int snprintf(char *str, size_t size, const char *format,...) FMT_PRINTF(4</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL_2Util_8cpp_source.html#l00044">Util.cpp:44</a></div></div>
<div class="ttc" id="aclassAP__InertialSensor_html"><div class="ttname"><a href="classAP__InertialSensor.html">AP_InertialSensor</a></div><div class="ttdef"><b>Definition</b> <a href="AP__InertialSensor_8h_source.html#l00051">AP_InertialSensor.h:52</a></div></div>
<div class="ttc" id="aclassAP__InertialSensor_html_a4759fe7cc3ba2446c2e603cf32ec519b"><div class="ttname"><a href="classAP__InertialSensor.html#a4759fe7cc3ba2446c2e603cf32ec519b">AP_InertialSensor::accel_cal_requires_reboot</a></div><div class="ttdeci">bool accel_cal_requires_reboot() const</div><div class="ttdef"><b>Definition</b> <a href="AP__InertialSensor_8h_source.html#l00300">AP_InertialSensor.h:300</a></div></div>
<div class="ttc" id="aclassAP__InertialSensor_html_a5ae4308b77385d3e576d29c78e8e3346"><div class="ttname"><a href="classAP__InertialSensor.html#a5ae4308b77385d3e576d29c78e8e3346">AP_InertialSensor::accel_calibrated_ok_all</a></div><div class="ttdeci">bool accel_calibrated_ok_all() const</div><div class="ttdef"><b>Definition</b> <a href="AP__InertialSensor_8cpp_source.html#l01607">AP_InertialSensor.cpp:1607</a></div></div>
<div class="ttc" id="aclassAP__InertialSensor_html_a6c82f01f496caca80f2c0bdde3d204e0"><div class="ttname"><a href="classAP__InertialSensor.html#a6c82f01f496caca80f2c0bdde3d204e0">AP_InertialSensor::temperature_cal_running</a></div><div class="ttdeci">bool temperature_cal_running() const</div><div class="ttdoc">calibrating - returns true if a temperature calibration is running</div><div class="ttdef"><b>Definition</b> <a href="AP__InertialSensor_8cpp_source.html#l02258">AP_InertialSensor.cpp:2258</a></div></div>
<div class="ttc" id="aclassAP__InertialSensor_html_a8c272873ffbbafcaa90d5a4686c795ca"><div class="ttname"><a href="classAP__InertialSensor.html#a8c272873ffbbafcaa90d5a4686c795ca">AP_InertialSensor::get_gyro_health_all</a></div><div class="ttdeci">bool get_gyro_health_all(void) const</div><div class="ttdef"><b>Definition</b> <a href="AP__InertialSensor_8cpp_source.html#l01413">AP_InertialSensor.cpp:1413</a></div></div>
<div class="ttc" id="aclassAP__InertialSensor_html_a8d8b31abadf23ccaec838e223ad678b2"><div class="ttname"><a href="classAP__InertialSensor.html#a8d8b31abadf23ccaec838e223ad678b2">AP_InertialSensor::get_accel_health_all</a></div><div class="ttdeci">bool get_accel_health_all(void) const</div><div class="ttdef"><b>Definition</b> <a href="AP__InertialSensor_8cpp_source.html#l01481">AP_InertialSensor.cpp:1481</a></div></div>
<div class="ttc" id="aclassAP__InertialSensor_html_ab2625e619aa917ed3b1138c9c9c2b747"><div class="ttname"><a href="classAP__InertialSensor.html#ab2625e619aa917ed3b1138c9c9c2b747">AP_InertialSensor::gyro_calibrated_ok_all</a></div><div class="ttdeci">bool gyro_calibrated_ok_all() const</div><div class="ttdef"><b>Definition</b> <a href="AP__InertialSensor_8cpp_source.html#l01454">AP_InertialSensor.cpp:1454</a></div></div>
<div class="ttc" id="aclassAP__InertialSensor_html_ab5fe22e690f68ad3f0676dae9f6c8f73"><div class="ttname"><a href="classAP__InertialSensor.html#ab5fe22e690f68ad3f0676dae9f6c8f73">AP_InertialSensor::accels_consistent</a></div><div class="ttdeci">bool accels_consistent(float accel_error_threshold) const</div><div class="ttdef"><b>Definition</b> <a href="AP__InertialSensor_8cpp_source.html#l01493">AP_InertialSensor.cpp:1493</a></div></div>
<div class="ttc" id="aclassAP__InertialSensor_html_aea6de3a19a12f95e9420b965f50fda06"><div class="ttname"><a href="classAP__InertialSensor.html#aea6de3a19a12f95e9420b965f50fda06">AP_InertialSensor::gyros_consistent</a></div><div class="ttdeci">bool gyros_consistent(uint8_t threshold) const</div><div class="ttdef"><b>Definition</b> <a href="AP__InertialSensor_8cpp_source.html#l01426">AP_InertialSensor.cpp:1426</a></div></div>
<div class="ttc" id="aclassAP__InternalError_html_abc839772adfc46329ade11196f7dae75"><div class="ttname"><a href="classAP__InternalError.html#abc839772adfc46329ade11196f7dae75">AP_InternalError::errors_as_string</a></div><div class="ttdeci">void errors_as_string(uint8_t *buffer, uint16_t len) const</div><div class="ttdef"><b>Definition</b> <a href="AP__InternalError_8cpp_source.html#l00084">AP_InternalError.cpp:84</a></div></div>
<div class="ttc" id="aclassAP__Logger_html"><div class="ttname"><a href="classAP__Logger.html">AP_Logger</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_8h_source.html#l00182">AP_Logger.h:183</a></div></div>
<div class="ttc" id="aclassAP__Logger_html_a0e831b7cb6a8be8789970ead836b3bdf"><div class="ttname"><a href="classAP__Logger.html#a0e831b7cb6a8be8789970ead836b3bdf">AP_Logger::logging_started</a></div><div class="ttdeci">bool logging_started(void)</div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_8cpp_source.html#l00846">AP_Logger.cpp:846</a></div></div>
<div class="ttc" id="aclassAP__Logger_html_a32f5822b72789c7c83402b2af7544d09"><div class="ttname"><a href="classAP__Logger.html#a32f5822b72789c7c83402b2af7544d09">AP_Logger::WriteCriticalBlock</a></div><div class="ttdeci">void WriteCriticalBlock(const void *pBuffer, uint16_t size)</div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_8cpp_source.html#l00779">AP_Logger.cpp:779</a></div></div>
<div class="ttc" id="aclassAP__Logger_html_a682fba8208fd249646e187eb49ab41e8"><div class="ttname"><a href="classAP__Logger.html#a682fba8208fd249646e187eb49ab41e8">AP_Logger::PrepForArming</a></div><div class="ttdeci">void PrepForArming()</div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_8cpp_source.html#l00678">AP_Logger.cpp:678</a></div></div>
<div class="ttc" id="aclassAP__Logger_html_a6c412f55ad335bc8d3ee8ae8234de45a"><div class="ttname"><a href="classAP__Logger.html#a6c412f55ad335bc8d3ee8ae8234de45a">AP_Logger::logging_present</a></div><div class="ttdeci">bool logging_present() const</div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_8cpp_source.html#l00572">AP_Logger.cpp:572</a></div></div>
<div class="ttc" id="aclassAP__Logger_html_a7a49075c30ee6589c14c54e92a1bfa8a"><div class="ttname"><a href="classAP__Logger.html#a7a49075c30ee6589c14c54e92a1bfa8a">AP_Logger::set_long_log_persist</a></div><div class="ttdeci">void set_long_log_persist(bool b)</div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_8h_source.html#l00310">AP_Logger.h:310</a></div></div>
<div class="ttc" id="aclassAP__Logger_html_a833516d32912739cb88a8f97b568062c"><div class="ttname"><a href="classAP__Logger.html#a833516d32912739cb88a8f97b568062c">AP_Logger::arming_failure</a></div><div class="ttdeci">void arming_failure()</div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_8h_source.html#l00355">AP_Logger.h:355</a></div></div>
<div class="ttc" id="aclassAP__Logger_html_aa95af9746c4b60e8386f2eb9569404eb"><div class="ttname"><a href="classAP__Logger.html#aa95af9746c4b60e8386f2eb9569404eb">AP_Logger::get_singleton</a></div><div class="ttdeci">static AP_Logger * get_singleton(void)</div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_8h_source.html#l00196">AP_Logger.h:196</a></div></div>
<div class="ttc" id="aclassAP__Logger_html_acc819f09dd35b615500c4dec658519d2"><div class="ttname"><a href="classAP__Logger.html#acc819f09dd35b615500c4dec658519d2">AP_Logger::Write_Event</a></div><div class="ttdeci">void Write_Event(LogEvent id)</div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_8cpp_source.html#l01487">AP_Logger.cpp:1487</a></div></div>
<div class="ttc" id="aclassAP__Mission_html"><div class="ttname"><a href="classAP__Mission.html">AP_Mission</a></div><div class="ttdoc">Object managing Mission.</div><div class="ttdef"><b>Definition</b> <a href="AP__Mission_8h_source.html#l00065">AP_Mission.h:66</a></div></div>
<div class="ttc" id="aclassAP__Mission_html_a34e9c61fbc1803bf616d403234d45b52"><div class="ttname"><a href="classAP__Mission.html#a34e9c61fbc1803bf616d403234d45b52">AP_Mission::contains_item</a></div><div class="ttdeci">bool contains_item(MAV_CMD command) const</div></div>
<div class="ttc" id="aclassAP__Mission_html_ab5e32b10060e1e5e3e8f22f526b58d35"><div class="ttname"><a href="classAP__Mission.html#ab5e32b10060e1e5e3e8f22f526b58d35">AP_Mission::contains_terrain_alt_items</a></div><div class="ttdeci">bool contains_terrain_alt_items(void)</div></div>
<div class="ttc" id="aclassAP__Mission_html_af26b7935304c34d8c03881b02beb3f48"><div class="ttname"><a href="classAP__Mission.html#af26b7935304c34d8c03881b02beb3f48">AP_Mission::num_commands</a></div><div class="ttdeci">uint16_t num_commands() const</div><div class="ttdef"><b>Definition</b> <a href="AP__Mission_8h_source.html#l00493">AP_Mission.h:493</a></div></div>
<div class="ttc" id="aclassAP__Mount_html"><div class="ttname"><a href="classAP__Mount.html">AP_Mount</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Mount_8h_source.html#l00056">AP_Mount.h:57</a></div></div>
<div class="ttc" id="aclassAP__Mount_html_a059169bcbd67379c687b457e2ab72a0d"><div class="ttname"><a href="classAP__Mount.html#a059169bcbd67379c687b457e2ab72a0d">AP_Mount::pre_arm_checks</a></div><div class="ttdeci">bool pre_arm_checks(char *failure_msg, uint8_t failure_msg_len)</div><div class="ttdef"><b>Definition</b> <a href="AP__Mount_8cpp_source.html#l00650">AP_Mount.cpp:650</a></div></div>
<div class="ttc" id="aclassAP__Notify_html_a724dd074a094de26e17c72c38ac499e9"><div class="ttname"><a href="classAP__Notify.html#a724dd074a094de26e17c72c38ac499e9">AP_Notify::flags</a></div><div class="ttdeci">static struct notify_flags_and_values_type flags</div><div class="ttdef"><b>Definition</b> <a href="AP__Notify_8h_source.html#l00173">AP_Notify.h:173</a></div></div>
<div class="ttc" id="aclassAP__OSD_html"><div class="ttname"><a href="classAP__OSD.html">AP_OSD</a></div><div class="ttdef"><b>Definition</b> <a href="AP__OSD_8h_source.html#l00490">AP_OSD.h:491</a></div></div>
<div class="ttc" id="aclassAP__OSD_html_a146be92ff867107f2da6d5a5a936f7a2"><div class="ttname"><a href="classAP__OSD.html#a146be92ff867107f2da6d5a5a936f7a2">AP_OSD::pre_arm_check</a></div><div class="ttdeci">bool pre_arm_check(char *failure_msg, const uint8_t failure_msg_len) const</div><div class="ttdef"><b>Definition</b> <a href="AP__OSD_8cpp_source.html#l00593">AP_OSD.cpp:593</a></div></div>
<div class="ttc" id="aclassAP__Param_html_a5f6dcfce1c0a79cf5bd81283e22f3201"><div class="ttname"><a href="classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a></div><div class="ttdeci">static void setup_object_defaults(const void *object_pointer, const struct GroupInfo *group_info)</div><div class="ttdef"><b>Definition</b> <a href="main_8cpp_source.html#l00010">main.cpp:10</a></div></div>
<div class="ttc" id="aclassAP__RPM_html_a34d0aa718e4b9cd86122a2d82ad1fc94"><div class="ttname"><a href="classAP__RPM.html#a34d0aa718e4b9cd86122a2d82ad1fc94">AP_RPM::arming_checks</a></div><div class="ttdeci">bool arming_checks(size_t buflen, char *buffer) const</div><div class="ttdef"><b>Definition</b> <a href="AP__RPM_8cpp_source.html#l00262">AP_RPM.cpp:262</a></div></div>
<div class="ttc" id="aclassAP__Rally_html"><div class="ttname"><a href="classAP__Rally.html">AP_Rally</a></div><div class="ttdoc">Object managing Rally Points.</div><div class="ttdef"><b>Definition</b> <a href="AP__Rally_8h_source.html#l00047">AP_Rally.h:47</a></div></div>
<div class="ttc" id="aclassAP__Rally_html_a599a1cba7da15f1be6178ea19ee47541"><div class="ttname"><a href="classAP__Rally.html#a599a1cba7da15f1be6178ea19ee47541">AP_Rally::find_nearest_rally_point</a></div><div class="ttdeci">bool find_nearest_rally_point(const Location &amp;myloc, RallyLocation &amp;ret) const</div><div class="ttdef"><b>Definition</b> <a href="AP__Rally_8cpp_source.html#l00141">AP_Rally.cpp:141</a></div></div>
<div class="ttc" id="aclassAP__Relay_html_adc0f310d7e86da3bb67d30fb35dc31c0"><div class="ttname"><a href="classAP__Relay.html#adc0f310d7e86da3bb67d30fb35dc31c0">AP_Relay::arming_checks</a></div><div class="ttdeci">bool arming_checks(size_t buflen, char *buffer) const</div><div class="ttdef"><b>Definition</b> <a href="AP__Relay_8cpp_source.html#l00443">AP_Relay.cpp:443</a></div></div>
<div class="ttc" id="aclassAP__RunCam_html"><div class="ttname"><a href="classAP__RunCam.html">AP_RunCam</a></div><div class="ttdoc">Object managing a RunCam device.</div><div class="ttdef"><b>Definition</b> <a href="AP__RunCam_8h_source.html#l00046">AP_RunCam.h:47</a></div></div>
<div class="ttc" id="aclassAP__RunCam_html_a9a2c8af28d70279063511356d2aa8f25"><div class="ttname"><a href="classAP__RunCam.html#a9a2c8af28d70279063511356d2aa8f25">AP_RunCam::pre_arm_check</a></div><div class="ttdeci">bool pre_arm_check(char *failure_msg, const uint8_t failure_msg_len) const</div><div class="ttdef"><b>Definition</b> <a href="AP__RunCam_8cpp_source.html#l00239">AP_RunCam.cpp:239</a></div></div>
<div class="ttc" id="aclassAP__Scheduler_html_a5de68a6345f4b9ce9eb4008ee4a6c161"><div class="ttname"><a href="classAP__Scheduler.html#a5de68a6345f4b9ce9eb4008ee4a6c161">AP_Scheduler::get_loop_rate_hz</a></div><div class="ttdeci">uint16_t get_loop_rate_hz(void)</div><div class="ttdef"><b>Definition</b> <a href="AP__Scheduler_8h_source.html#l00141">AP_Scheduler.h:141</a></div></div>
<div class="ttc" id="aclassAP__Scheduler_html_aeae6c98cb869b326dfddef9a21796d48"><div class="ttname"><a href="classAP__Scheduler.html#aeae6c98cb869b326dfddef9a21796d48">AP_Scheduler::get_filtered_loop_rate_hz</a></div><div class="ttdeci">float get_filtered_loop_rate_hz()</div><div class="ttdef"><b>Definition</b> <a href="AP__Scheduler_8h_source.html#l00168">AP_Scheduler.h:168</a></div></div>
<div class="ttc" id="aclassAP__SerialManager_html_af95280ba50704a8adece62755cb348e7ac5b4951c22b6d1f3ae0faa960c688517"><div class="ttname"><a href="classAP__SerialManager.html#af95280ba50704a8adece62755cb348e7ac5b4951c22b6d1f3ae0faa960c688517">AP_SerialManager::SerialProtocol_RCIN</a></div><div class="ttdeci">@ SerialProtocol_RCIN</div><div class="ttdef"><b>Definition</b> <a href="AP__SerialManager_8h_source.html#l00062">AP_SerialManager.h:62</a></div></div>
<div class="ttc" id="aclassCompass_html"><div class="ttname"><a href="classCompass.html">Compass</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Compass_8h_source.html#l00080">AP_Compass.h:81</a></div></div>
<div class="ttc" id="aclassCompass_html_a1c69d53dbf577b959de0f6bbfac1c537"><div class="ttname"><a href="classCompass.html#a1c69d53dbf577b959de0f6bbfac1c537">Compass::get_offsets</a></div><div class="ttdeci">const Vector3f &amp; get_offsets(uint8_t i) const</div><div class="ttdef"><b>Definition</b> <a href="AP__Compass_8h_source.html#l00213">AP_Compass.h:213</a></div></div>
<div class="ttc" id="aclassCompass_html_a2e508ee3e4651ef9bb60591d2e2f1618"><div class="ttname"><a href="classCompass.html#a2e508ee3e4651ef9bb60591d2e2f1618">Compass::healthy</a></div><div class="ttdeci">bool healthy(uint8_t i) const</div><div class="ttdoc">Return the health of a compass.</div><div class="ttdef"><b>Definition</b> <a href="AP__Compass_8cpp_source.html#l02169">AP_Compass.cpp:2169</a></div></div>
<div class="ttc" id="aclassCompass_html_a59622e8195dc29485f24d7c27a9cf7f0"><div class="ttname"><a href="classCompass.html#a59622e8195dc29485f24d7c27a9cf7f0">Compass::configured</a></div><div class="ttdeci">bool configured(uint8_t i)</div><div class="ttdef"><b>Definition</b> <a href="AP__Compass_8cpp_source.html#l02034">AP_Compass.cpp:2034</a></div></div>
<div class="ttc" id="aclassCompass_html_a5d810013171d3a686a487686efe9e6f6"><div class="ttname"><a href="classCompass.html#a5d810013171d3a686a487686efe9e6f6">Compass::compass_cal_requires_reboot</a></div><div class="ttdeci">bool compass_cal_requires_reboot() const</div><div class="ttdef"><b>Definition</b> <a href="AP__Compass_8h_source.html#l00187">AP_Compass.h:187</a></div></div>
<div class="ttc" id="aclassCompass_html_aa64f4eeb78e614dfbcba94149ea532d8"><div class="ttname"><a href="classCompass.html#aa64f4eeb78e614dfbcba94149ea532d8">Compass::get_offsets_max</a></div><div class="ttdeci">uint16_t get_offsets_max(void) const</div><div class="ttdef"><b>Definition</b> <a href="AP__Compass_8h_source.html#l00339">AP_Compass.h:339</a></div></div>
<div class="ttc" id="aclassCompass_html_ac420d801d48325f32d2db6d085b7734d"><div class="ttname"><a href="classCompass.html#ac420d801d48325f32d2db6d085b7734d">Compass::is_calibrating</a></div><div class="ttdeci">bool is_calibrating() const</div></div>
<div class="ttc" id="aclassCompass_html_ae91df8c89c0b482dbc61722ad7c09b24"><div class="ttname"><a href="classCompass.html#ae91df8c89c0b482dbc61722ad7c09b24">Compass::learn_offsets_enabled</a></div><div class="ttdeci">bool learn_offsets_enabled() const</div><div class="ttdef"><b>Definition</b> <a href="AP__Compass_8h_source.html#l00225">AP_Compass.h:225</a></div></div>
<div class="ttc" id="aclassCompass_html_af5c3da7e49f681c1d7a0354b91eba7ba"><div class="ttname"><a href="classCompass.html#af5c3da7e49f681c1d7a0354b91eba7ba">Compass::use_for_yaw</a></div><div class="ttdeci">bool use_for_yaw(uint8_t i) const</div><div class="ttdoc">return true if the compass should be used for yaw calculations</div><div class="ttdef"><b>Definition</b> <a href="AP__Compass_8cpp_source.html#l01928">AP_Compass.cpp:1928</a></div></div>
<div class="ttc" id="aclassCompass_html_af8113e88f234554e060c435dba22bc70"><div class="ttname"><a href="classCompass.html#af8113e88f234554e060c435dba22bc70">Compass::get_field</a></div><div class="ttdeci">const Vector3f &amp; get_field(uint8_t i) const</div><div class="ttdoc">Return the current field as a Vector3f in milligauss.</div><div class="ttdef"><b>Definition</b> <a href="AP__Compass_8h_source.html#l00159">AP_Compass.h:159</a></div></div>
<div class="ttc" id="aclassCompass_html_af8d0469972b7da6464a0d91e20715082"><div class="ttname"><a href="classCompass.html#af8d0469972b7da6464a0d91e20715082">Compass::consistent</a></div><div class="ttdeci">bool consistent() const</div><div class="ttdef"><b>Definition</b> <a href="AP__Compass_8cpp_source.html#l02130">AP_Compass.cpp:2130</a></div></div>
<div class="ttc" id="aclassGCS_html_a96bea5f4a8234593db645ec80adb36f4"><div class="ttname"><a href="classGCS.html#a96bea5f4a8234593db645ec80adb36f4">GCS::send_textv</a></div><div class="ttdeci">void void send_textv(MAV_SEVERITY severity, const char *fmt, va_list arg_list)</div><div class="ttdef"><b>Definition</b> <a href="GCS_8cpp_source.html#l00068">GCS.cpp:68</a></div></div>
<div class="ttc" id="aclassLocation_html"><div class="ttname"><a href="classLocation.html">Location</a></div><div class="ttdef"><b>Definition</b> <a href="Location_8h_source.html#l00007">Location.h:8</a></div></div>
<div class="ttc" id="aclassLocation_html_a4365e0555609b7ad249a9cd6f1f828c2"><div class="ttname"><a href="classLocation.html#a4365e0555609b7ad249a9cd6f1f828c2">Location::get_distance</a></div><div class="ttdeci">ftype get_distance(const Location &amp;loc2) const</div><div class="ttdef"><b>Definition</b> <a href="Location_8cpp_source.html#l00244">Location.cpp:244</a></div></div>
<div class="ttc" id="aclassRCMapper_html"><div class="ttname"><a href="classRCMapper.html">RCMapper</a></div><div class="ttdef"><b>Definition</b> <a href="AP__RCMapper_8h_source.html#l00011">AP_RCMapper.h:11</a></div></div>
<div class="ttc" id="aclassRCMapper_html_aa3928094f00c755938d9daa02596aad8"><div class="ttname"><a href="classRCMapper.html#aa3928094f00c755938d9daa02596aad8">RCMapper::yaw</a></div><div class="ttdeci">uint8_t yaw() const</div><div class="ttdoc">yaw - return input channel number for yaw / rudder input</div><div class="ttdef"><b>Definition</b> <a href="AP__RCMapper_8h_source.html#l00034">AP_RCMapper.h:34</a></div></div>
<div class="ttc" id="aclassRCMapper_html_abefe47a36d4b98833aca103937d46d9e"><div class="ttname"><a href="classRCMapper.html#abefe47a36d4b98833aca103937d46d9e">RCMapper::throttle</a></div><div class="ttdeci">uint8_t throttle() const</div><div class="ttdoc">throttle - return input channel number for throttle input</div><div class="ttdef"><b>Definition</b> <a href="AP__RCMapper_8h_source.html#l00031">AP_RCMapper.h:31</a></div></div>
<div class="ttc" id="aclassRCMapper_html_ac4f16f445a12f375d2db825107fb6cca"><div class="ttname"><a href="classRCMapper.html#ac4f16f445a12f375d2db825107fb6cca">RCMapper::pitch</a></div><div class="ttdeci">uint8_t pitch() const</div><div class="ttdoc">pitch - return input channel number for pitch / elevator input</div><div class="ttdef"><b>Definition</b> <a href="AP__RCMapper_8h_source.html#l00028">AP_RCMapper.h:28</a></div></div>
<div class="ttc" id="aclassRCMapper_html_acda249daca389819714744098367e7d2"><div class="ttname"><a href="classRCMapper.html#acda249daca389819714744098367e7d2">RCMapper::roll</a></div><div class="ttdeci">uint8_t roll() const</div><div class="ttdoc">roll - return input channel number for roll / aileron input</div><div class="ttdef"><b>Definition</b> <a href="AP__RCMapper_8h_source.html#l00025">AP_RCMapper.h:25</a></div></div>
<div class="ttc" id="aclassRC__Channel_html"><div class="ttname"><a href="classRC__Channel.html">RC_Channel</a></div><div class="ttdoc">Object managing one RC channel.</div><div class="ttdef"><b>Definition</b> <a href="RC__Channel_8h_source.html#l00018">RC_Channel.h:18</a></div></div>
<div class="ttc" id="aclassRC__Channel_html_a0ab5f98f5d0bf4afc3f8a55591303e79"><div class="ttname"><a href="classRC__Channel.html#a0ab5f98f5d0bf4afc3f8a55591303e79">RC_Channel::get_control_in</a></div><div class="ttdeci">int16_t get_control_in() const</div><div class="ttdef"><b>Definition</b> <a href="RC__Channel_8h_source.html#l00072">RC_Channel.h:72</a></div></div>
<div class="ttc" id="aclassRC__Channel_html_a186bd6c744701bce1755f836d44d5f96"><div class="ttname"><a href="classRC__Channel.html#a186bd6c744701bce1755f836d44d5f96">RC_Channel::get_radio_min</a></div><div class="ttdeci">int16_t get_radio_min() const</div><div class="ttdef"><b>Definition</b> <a href="RC__Channel_8h_source.html#l00084">RC_Channel.h:84</a></div></div>
<div class="ttc" id="aclassRC__Channel_html_a2006134fd195519c0616e23b9f90bb46a41bc94cbd8eebea13ce0491b2ac11b88"><div class="ttname"><a href="classRC__Channel.html#a2006134fd195519c0616e23b9f90bb46a41bc94cbd8eebea13ce0491b2ac11b88">RC_Channel::AuxSwitchPos::LOW</a></div><div class="ttdeci">@ LOW</div></div>
<div class="ttc" id="aclassRC__Channel_html_a2006134fd195519c0616e23b9f90bb46ab89de3b4b81c4facfac906edf29aec8c"><div class="ttname"><a href="classRC__Channel.html#a2006134fd195519c0616e23b9f90bb46ab89de3b4b81c4facfac906edf29aec8c">RC_Channel::AuxSwitchPos::HIGH</a></div><div class="ttdeci">@ HIGH</div></div>
<div class="ttc" id="aclassRC__Channel_html_a28e903e1cac088c23f3470ae1028f96c"><div class="ttname"><a href="classRC__Channel.html#a28e903e1cac088c23f3470ae1028f96c">RC_Channel::percent_input</a></div><div class="ttdeci">uint8_t percent_input() const</div><div class="ttdef"><b>Definition</b> <a href="RC__Channel_8cpp_source.html#l00452">RC_Channel.cpp:452</a></div></div>
<div class="ttc" id="aclassRC__Channel_html_a6a7df44f0f9bc10cd24fc796ef040e59"><div class="ttname"><a href="classRC__Channel.html#a6a7df44f0f9bc10cd24fc796ef040e59">RC_Channel::RC_CALIB_MAX_LIMIT_PWM</a></div><div class="ttdeci">static const uint16_t RC_CALIB_MAX_LIMIT_PWM</div><div class="ttdef"><b>Definition</b> <a href="RC__Channel_8h_source.html#l00322">RC_Channel.h:322</a></div></div>
<div class="ttc" id="aclassRC__Channel_html_a903c74361c5318f0af90b66ca83a79b3"><div class="ttname"><a href="classRC__Channel.html#a903c74361c5318f0af90b66ca83a79b3">RC_Channel::get_radio_trim</a></div><div class="ttdeci">int16_t get_radio_trim() const</div><div class="ttdef"><b>Definition</b> <a href="RC__Channel_8h_source.html#l00088">RC_Channel.h:88</a></div></div>
<div class="ttc" id="aclassRC__Channel_html_aa056e3c3b15ca3e44aee9f97b7ca7855"><div class="ttname"><a href="classRC__Channel.html#aa056e3c3b15ca3e44aee9f97b7ca7855">RC_Channel::get_radio_max</a></div><div class="ttdeci">int16_t get_radio_max() const</div><div class="ttdef"><b>Definition</b> <a href="RC__Channel_8h_source.html#l00086">RC_Channel.h:86</a></div></div>
<div class="ttc" id="aclassRC__Channel_html_adbf148d4bbcf58ef3f80b76e95fde83f"><div class="ttname"><a href="classRC__Channel.html#adbf148d4bbcf58ef3f80b76e95fde83f">RC_Channel::RC_CALIB_MIN_LIMIT_PWM</a></div><div class="ttdeci">static const uint16_t RC_CALIB_MIN_LIMIT_PWM</div><div class="ttdef"><b>Definition</b> <a href="RC__Channel_8h_source.html#l00320">RC_Channel.h:320</a></div></div>
<div class="ttc" id="aclassRC__Channel_html_ae249c352997284fd0d29bf67adf7835aa3cac1eb8d219461b09c2328ff1c33ae0"><div class="ttname"><a href="classRC__Channel.html#ae249c352997284fd0d29bf67adf7835aa3cac1eb8d219461b09c2328ff1c33ae0">RC_Channel::AUX_FUNC::DISARM</a></div><div class="ttdeci">@ DISARM</div></div>
<div class="ttc" id="aclassRC__Channel_html_ae249c352997284fd0d29bf67adf7835aa5ae616f3ec6a0c1d82c1d6ccb30c6bab"><div class="ttname"><a href="classRC__Channel.html#ae249c352997284fd0d29bf67adf7835aa5ae616f3ec6a0c1d82c1d6ccb30c6bab">RC_Channel::AUX_FUNC::ARM_EMERGENCY_STOP</a></div><div class="ttdeci">@ ARM_EMERGENCY_STOP</div></div>
<div class="ttc" id="aclassRC__Channel_html_ae249c352997284fd0d29bf67adf7835aac6cfdee74c8b84642fb434b9d506644b"><div class="ttname"><a href="classRC__Channel.html#ae249c352997284fd0d29bf67adf7835aac6cfdee74c8b84642fb434b9d506644b">RC_Channel::AUX_FUNC::FWD_THR</a></div><div class="ttdeci">@ FWD_THR</div></div>
<div class="ttc" id="aclassRC__Channel_html_af70bb81d28a7c891649384227f7922a3"><div class="ttname"><a href="classRC__Channel.html#af70bb81d28a7c891649384227f7922a3">RC_Channel::has_override</a></div><div class="ttdeci">bool has_override() const</div><div class="ttdef"><b>Definition</b> <a href="RC__Channel_8cpp_source.html#l00501">RC_Channel.cpp:501</a></div></div>
<div class="ttc" id="aclassRC__Channels_html_a3736f2167041c3930941f66c73ec7d1d"><div class="ttname"><a href="classRC__Channels.html#a3736f2167041c3930941f66c73ec7d1d">RC_Channels::channel</a></div><div class="ttdeci">virtual RC_Channel * channel(uint8_t chan)=0</div></div>
<div class="ttc" id="aclassRC__Channels_html_a603cccf91819ee6a6ad595ea2cfce407"><div class="ttname"><a href="classRC__Channels.html#a603cccf91819ee6a6ad595ea2cfce407">RC_Channels::last_input_ms</a></div><div class="ttdeci">uint32_t last_input_ms() const</div><div class="ttdef"><b>Definition</b> <a href="RC__Channel_8h_source.html#l00567">RC_Channel.h:567</a></div></div>
<div class="ttc" id="aclassRC__Channels_html_a76e1ecc576586ebe6ed46317676be2a4"><div class="ttname"><a href="classRC__Channels.html#a76e1ecc576586ebe6ed46317676be2a4">RC_Channels::get_valid_channel_count</a></div><div class="ttdeci">static uint8_t get_valid_channel_count(void)</div><div class="ttdef"><b>Definition</b> <a href="RC__Channels_8cpp_source.html#l00095">RC_Channels.cpp:95</a></div></div>
<div class="ttc" id="aclassRC__Channels_html_ad11a87063ac7492ed975e4ba4acfaf65"><div class="ttname"><a href="classRC__Channels.html#ad11a87063ac7492ed975e4ba4acfaf65">RC_Channels::find_channel_for_option</a></div><div class="ttdeci">class RC_Channel * find_channel_for_option(const RC_Channel::AUX_FUNC option)</div><div class="ttdef"><b>Definition</b> <a href="RC__Channel_8cpp_source.html#l01732">RC_Channel.cpp:1732</a></div></div>
<div class="ttc" id="aclassRC__Channels_html_af3ea8216b219df63591e88ee4827e071af7ce03178f4a002feb0415a5fafdbd3e"><div class="ttname"><a href="classRC__Channels.html#af3ea8216b219df63591e88ee4827e071af7ce03178f4a002feb0415a5fafdbd3e">RC_Channels::Option::ARMING_SKIP_CHECK_RPY</a></div><div class="ttdeci">@ ARMING_SKIP_CHECK_RPY</div></div>
<div class="ttc" id="aclassRangeFinder_html"><div class="ttname"><a href="classRangeFinder.html">RangeFinder</a></div><div class="ttdef"><b>Definition</b> <a href="AP__RangeFinder_8h_source.html#l00046">AP_RangeFinder.h:47</a></div></div>
<div class="ttc" id="aclassRangeFinder_html_a3a09e6277e87ec990f179180b1eef320"><div class="ttname"><a href="classRangeFinder.html#a3a09e6277e87ec990f179180b1eef320">RangeFinder::get_singleton</a></div><div class="ttdeci">static RangeFinder * get_singleton(void)</div><div class="ttdef"><b>Definition</b> <a href="AP__RangeFinder_8h_source.html#l00290">AP_RangeFinder.h:290</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html"><div class="ttname"><a href="classSRV__Channel.html">SRV_Channel</a></div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00037">SRV_Channel.h:37</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_a20a2ee9dab8a0aa6db2bc85f2961ae4a"><div class="ttname"><a href="classSRV__Channel.html#a20a2ee9dab8a0aa6db2bc85f2961ae4a">SRV_Channel::is_motor</a></div><div class="ttdeci">static bool is_motor(SRV_Channel::Aux_servo_function_t function)</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8cpp_source.html#l00306">SRV_Channel.cpp:306</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_a5884a2e91f299fec204b26178b99b3df"><div class="ttname"><a href="classSRV__Channel.html#a5884a2e91f299fec204b26178b99b3df">SRV_Channel::get_output_min</a></div><div class="ttdeci">uint16_t get_output_min(void) const</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00239">SRV_Channel.h:239</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_a7d0f8071d6ba54db1985a1515b2b3a97"><div class="ttname"><a href="classSRV__Channel.html#a7d0f8071d6ba54db1985a1515b2b3a97">SRV_Channel::get_trim</a></div><div class="ttdeci">uint16_t get_trim(void) const</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00245">SRV_Channel.h:245</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_a8f507a020a37d43024a15d75c11f779b"><div class="ttname"><a href="classSRV__Channel.html#a8f507a020a37d43024a15d75c11f779b">SRV_Channel::should_e_stop</a></div><div class="ttdeci">static bool should_e_stop(SRV_Channel::Aux_servo_function_t function)</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8cpp_source.html#l00313">SRV_Channel.cpp:313</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68">SRV_Channel::Aux_servo_function_t</a></div><div class="ttdeci">Aux_servo_function_t</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00046">SRV_Channel.h:47</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a22386584df776801824801577c1fb5ee"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a22386584df776801824801577c1fb5ee">SRV_Channel::k_none</a></div><div class="ttdeci">@ k_none</div><div class="ttdoc">general use PWM output used by do-set-servo commands and lua scripts</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00049">SRV_Channel.h:49</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a40e3244188d87ac960a949a64096d2b4"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a40e3244188d87ac960a949a64096d2b4">SRV_Channel::k_scripting1</a></div><div class="ttdeci">@ k_scripting1</div><div class="ttdoc">Scripting related outputs.</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00138">SRV_Channel.h:138</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a7b69e69db841c7ca01337b8c2f03e370"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a7b69e69db841c7ca01337b8c2f03e370">SRV_Channel::k_scripting16</a></div><div class="ttdeci">@ k_scripting16</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00153">SRV_Channel.h:153</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a8bf0ff3bf3a2ce4f8c2e62f1d4d65d17"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a8bf0ff3bf3a2ce4f8c2e62f1d4d65d17">SRV_Channel::k_LED_neopixel4</a></div><div class="ttdeci">@ k_LED_neopixel4</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00158">SRV_Channel.h:158</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68abd959507edf900a49ea1f8ccbaaa6504"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68abd959507edf900a49ea1f8ccbaaa6504">SRV_Channel::k_LED_neopixel1</a></div><div class="ttdeci">@ k_LED_neopixel1</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00155">SRV_Channel.h:155</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68abfbd487a69439fbcd0c9bca86ffad607"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68abfbd487a69439fbcd0c9bca86ffad607">SRV_Channel::k_ProfiLED_Clock</a></div><div class="ttdeci">@ k_ProfiLED_Clock</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00167">SRV_Channel.h:167</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68ac9f00c000445c8172d689d00891a93bb"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68ac9f00c000445c8172d689d00891a93bb">SRV_Channel::k_ProfiLED_1</a></div><div class="ttdeci">@ k_ProfiLED_1</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00164">SRV_Channel.h:164</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_ab088a5a7d588b766d004f579088d9504"><div class="ttname"><a href="classSRV__Channel.html#ab088a5a7d588b766d004f579088d9504">SRV_Channel::get_function</a></div><div class="ttdeci">SRV_Channel::Aux_servo_function_t get_function(void) const</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00259">SRV_Channel.h:259</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_ab4ab7b27c467ed419b9c3a36412b0fb9"><div class="ttname"><a href="classSRV__Channel.html#ab4ab7b27c467ed419b9c3a36412b0fb9">SRV_Channel::get_output_max</a></div><div class="ttdeci">uint16_t get_output_max(void) const</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00242">SRV_Channel.h:242</a></div></div>
<div class="ttc" id="aclassSRV__Channels_html_a140e0500770eac6bc56fb142b756b2dc"><div class="ttname"><a href="classSRV__Channels.html#a140e0500770eac6bc56fb142b756b2dc">SRV_Channels::srv_channel</a></div><div class="ttdeci">static SRV_Channel * srv_channel(uint8_t i)</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00516">SRV_Channel.h:516</a></div></div>
<div class="ttc" id="aclassSRV__Channels_html_a617fda485edaa49f065f6dd7a91d174a"><div class="ttname"><a href="classSRV__Channels.html#a617fda485edaa49f065f6dd7a91d174a">SRV_Channels::get_emergency_stop</a></div><div class="ttdeci">static bool get_emergency_stop()</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00556">SRV_Channel.h:556</a></div></div>
<div class="ttc" id="aclassSRV__Channels_html_ad6f2d9eeb65b0c53d808834399f6d0a6"><div class="ttname"><a href="classSRV__Channels.html#ad6f2d9eeb65b0c53d808834399f6d0a6">SRV_Channels::get_disabled_channel_mask</a></div><div class="ttdeci">static uint32_t get_disabled_channel_mask()</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00541">SRV_Channel.h:541</a></div></div>
<div class="ttc" id="aclassStorageManager_html_ad9321c4a768760d90c223e91d085a285"><div class="ttname"><a href="classStorageManager.html#ad9321c4a768760d90c223e91d085a285">StorageManager::storage_failed</a></div><div class="ttdeci">static bool storage_failed(void)</div><div class="ttdef"><b>Definition</b> <a href="StorageManager_8h_source.html#l00068">StorageManager.h:68</a></div></div>
<div class="ttc" id="aclassVector3_html"><div class="ttname"><a href="classVector3.html">Vector3&lt; float &gt;</a></div></div>
<div class="ttc" id="aclassVector3_html_a1a0f7e168c71ca798099f0ba8a444244"><div class="ttname"><a href="classVector3.html#a1a0f7e168c71ca798099f0ba8a444244">Vector3::x</a></div><div class="ttdeci">T x</div><div class="ttdef"><b>Definition</b> <a href="vector3_8h_source.html#l00076">vector3.h:76</a></div></div>
<div class="ttc" id="aclassVector3_html_a561df88b28e106e337a25bb86554a569"><div class="ttname"><a href="classVector3.html#a561df88b28e106e337a25bb86554a569">Vector3::y</a></div><div class="ttdeci">T y</div><div class="ttdef"><b>Definition</b> <a href="vector3_8h_source.html#l00076">vector3.h:76</a></div></div>
<div class="ttc" id="aclassVector3_html_aaa6419ecd36a969d2eaecd9a1b1edd12"><div class="ttname"><a href="classVector3.html#aaa6419ecd36a969d2eaecd9a1b1edd12">Vector3::length</a></div><div class="ttdeci">T length(void) const</div><div class="ttdef"><b>Definition</b> <a href="vector3_8cpp_source.html#l00324">vector3.cpp:324</a></div></div>
<div class="ttc" id="aclassVector3_html_ab3e7f5401dd6e951978bfa746809f74f"><div class="ttname"><a href="classVector3.html#ab3e7f5401dd6e951978bfa746809f74f">Vector3::z</a></div><div class="ttdeci">T z</div><div class="ttdef"><b>Definition</b> <a href="vector3_8h_source.html#l00076">vector3.h:76</a></div></div>
<div class="ttc" id="aesp32_8h_html_aac9dfd8ad4d19b1e5833583c0277f673"><div class="ttname"><a href="esp32_8h.html#aac9dfd8ad4d19b1e5833583c0277f673">NUM_SERVO_CHANNELS</a></div><div class="ttdeci">#define NUM_SERVO_CHANNELS</div><div class="ttdef"><b>Definition</b> <a href="esp32_8h_source.html#l00089">esp32.h:89</a></div></div>
<div class="ttc" id="aexamples_2AnalogIn_2AnalogIn_8cpp_html_a130f3ebe4c1bb6993e1094760227ad6a"><div class="ttname"><a href="examples_2AnalogIn_2AnalogIn_8cpp.html#a130f3ebe4c1bb6993e1094760227ad6a">chan</a></div><div class="ttdeci">AP_HAL::AnalogSource * chan</div><div class="ttdef"><b>Definition</b> <a href="examples_2AnalogIn_2AnalogIn_8cpp_source.html#l00025">AnalogIn.cpp:25</a></div></div>
<div class="ttc" id="aexamples_2location_2location_8cpp_html_a06f14a9abd47b91465f895d5259cdc1b"><div class="ttname"><a href="examples_2location_2location_8cpp.html#a06f14a9abd47b91465f895d5259cdc1b">distance</a></div><div class="ttdeci">float distance</div><div class="ttdef"><b>Definition</b> <a href="examples_2location_2location_8cpp_source.html#l00095">location.cpp:95</a></div></div>
<div class="ttc" id="aiofirmware_8cpp_html_a1858bdf23f3647731d31c02115adc060"><div class="ttname"><a href="iofirmware_8cpp.html#a1858bdf23f3647731d31c02115adc060">iomcu</a></div><div class="ttdeci">static AP_IOMCU_FW iomcu</div><div class="ttdef"><b>Definition</b> <a href="iofirmware_8cpp_source.html#l00036">iofirmware.cpp:36</a></div></div>
<div class="ttc" id="alparser_8c_html_a2c856a5873c90f45525cf0d9abebbfde"><div class="ttname"><a href="lparser_8c.html#a2c856a5873c90f45525cf0d9abebbfde">check</a></div><div class="ttdeci">static void check(LexState *ls, int c)</div><div class="ttdef"><b>Definition</b> <a href="lparser_8c_source.html#l00106">lparser.c:106</a></div></div>
<div class="ttc" id="amalloc_8c_html_a2807e26a012717736641384f91ab2563"><div class="ttname"><a href="malloc_8c.html#a2807e26a012717736641384f91ab2563">calloc</a></div><div class="ttdeci">void * calloc(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition</b> <a href="malloc_8c_source.html#l00408">malloc.c:408</a></div></div>
<div class="ttc" id="amonocypher_8cpp_html_afa99ec4acc4ecb2dc3c2d05da15d0e3f"><div class="ttname"><a href="monocypher_8cpp.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a></div><div class="ttdeci">#define MAX(a, b)</div><div class="ttdef"><b>Definition</b> <a href="monocypher_8cpp_source.html#l00072">monocypher.cpp:72</a></div></div>
<div class="ttc" id="anamespaceAP__HAL_html_a52edeef7d5ffaa365e1229b87c170307"><div class="ttname"><a href="namespaceAP__HAL.html#a52edeef7d5ffaa365e1229b87c170307">AP_HAL::panic</a></div><div class="ttdeci">void panic(const char *errormsg,...) FMT_PRINTF(1</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL__ChibiOS_2system_8cpp_source.html#l00327">system.cpp:327</a></div></div>
<div class="ttc" id="anamespaceAP__HAL_html_a77dffbb18891996280308e21316ec186"><div class="ttname"><a href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a></div><div class="ttdeci">uint32_t millis()</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL__ChibiOS_2system_8cpp_source.html#l00377">system.cpp:377</a></div></div>
<div class="ttc" id="anamespaceAP__HAL_html_a7aa0ce7625c9680e30ff4a99940907a5"><div class="ttname"><a href="namespaceAP__HAL.html#a7aa0ce7625c9680e30ff4a99940907a5">AP_HAL::micros64</a></div><div class="ttdeci">uint64_t micros64()</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL__ChibiOS_2system_8cpp_source.html#l00387">system.cpp:387</a></div></div>
<div class="ttc" id="anamespaceAP_html"><div class="ttname"><a href="namespaceAP.html">AP</a></div><div class="ttdef"><b>Definition</b> <a href="AC__Avoid_8cpp_source.html#l01481">AC_Avoid.cpp:1481</a></div></div>
<div class="ttc" id="anamespaceAP_html_a1250540cc675995b27423db93869b3b9"><div class="ttname"><a href="namespaceAP.html#a1250540cc675995b27423db93869b3b9">AP::runcam</a></div><div class="ttdeci">AP_RunCam * runcam()</div><div class="ttdef"><b>Definition</b> <a href="AP__RunCam_8cpp_source.html#l01061">AP_RunCam.cpp:1061</a></div></div>
<div class="ttc" id="anamespaceAP_html_a13852d97b041687ca5df7d76e7207a3d"><div class="ttname"><a href="namespaceAP.html#a13852d97b041687ca5df7d76e7207a3d">AP::arming</a></div><div class="ttdeci">AP_Arming &amp; arming()</div><div class="ttdef"><b>Definition</b> <a href="#l01954">AP_Arming.cpp:1954</a></div></div>
<div class="ttc" id="anamespaceAP_html_a18bfb8f2e0ff686caaab58f05aab4530"><div class="ttname"><a href="namespaceAP.html#a18bfb8f2e0ff686caaab58f05aab4530">AP::osd</a></div><div class="ttdeci">AP_OSD * osd()</div><div class="ttdef"><b>Definition</b> <a href="AP__OSD_8cpp_source.html#l00663">AP_OSD.cpp:663</a></div></div>
<div class="ttc" id="anamespaceAP_html_a548828568332dd48e9fea7e02406961a"><div class="ttname"><a href="namespaceAP.html#a548828568332dd48e9fea7e02406961a">AP::rcmap</a></div><div class="ttdeci">RCMapper * rcmap()</div><div class="ttdef"><b>Definition</b> <a href="AP__RCMapper_8cpp_source.html#l00075">AP_RCMapper.cpp:75</a></div></div>
<div class="ttc" id="anamespaceAP_html_a5fec60f8621f19f0c32df3cf53c86b48"><div class="ttname"><a href="namespaceAP.html#a5fec60f8621f19f0c32df3cf53c86b48">AP::boardConfig</a></div><div class="ttdeci">AP_BoardConfig * boardConfig(void)</div><div class="ttdef"><b>Definition</b> <a href="AP__BoardConfig_8cpp_source.html#l00521">AP_BoardConfig.cpp:521</a></div></div>
<div class="ttc" id="anamespaceAP_html_a67bce6e94b1af5e88d027330df5d8eca"><div class="ttname"><a href="namespaceAP.html#a67bce6e94b1af5e88d027330df5d8eca">AP::mission</a></div><div class="ttdeci">AP_Mission * mission()</div></div>
<div class="ttc" id="anamespaceAP_html_a730acdb902fce56b0e171368b2d2036b"><div class="ttname"><a href="namespaceAP.html#a730acdb902fce56b0e171368b2d2036b">AP::relay</a></div><div class="ttdeci">AP_Relay * relay()</div><div class="ttdef"><b>Definition</b> <a href="AP__Relay_8cpp_source.html#l00684">AP_Relay.cpp:684</a></div></div>
<div class="ttc" id="anamespaceAP_html_a8aec57eb0b7a79044cbc1f0ca4b75bcf"><div class="ttname"><a href="namespaceAP.html#a8aec57eb0b7a79044cbc1f0ca4b75bcf">AP::baro</a></div><div class="ttdeci">AP_Baro &amp; baro()</div><div class="ttdef"><b>Definition</b> <a href="AP__Baro_8cpp_source.html#l01146">AP_Baro.cpp:1146</a></div></div>
<div class="ttc" id="anamespaceAP_html_a930025da7cb316754df99a6e26205e98"><div class="ttname"><a href="namespaceAP.html#a930025da7cb316754df99a6e26205e98">AP::vehicle</a></div><div class="ttdeci">AP_Vehicle * vehicle()</div><div class="ttdef"><b>Definition</b> <a href="AP__Vehicle_8cpp_source.html#l01119">AP_Vehicle.cpp:1119</a></div></div>
<div class="ttc" id="anamespaceAP_html_a99432cfdb696952c9b7146f155a815aa"><div class="ttname"><a href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a></div><div class="ttdeci">AP_AHRS &amp; ahrs()</div><div class="ttdef"><b>Definition</b> <a href="AP__AHRS_8cpp_source.html#l03558">AP_AHRS.cpp:3558</a></div></div>
<div class="ttc" id="anamespaceAP_html_aa01135941499a6cbb5fc30403fc24c65"><div class="ttname"><a href="namespaceAP.html#aa01135941499a6cbb5fc30403fc24c65">AP::serialmanager</a></div><div class="ttdeci">AP_SerialManager &amp; serialmanager()</div><div class="ttdef"><b>Definition</b> <a href="AP__SerialManager_8cpp_source.html#l00868">AP_SerialManager.cpp:868</a></div></div>
<div class="ttc" id="anamespaceAP_html_aa35bfac1ea2da16f110e8e72db7b3b20"><div class="ttname"><a href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a></div><div class="ttdeci">AP_Logger &amp; logger()</div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_8cpp_source.html#l01740">AP_Logger.cpp:1740</a></div></div>
<div class="ttc" id="anamespaceAP_html_aa6f0d760efc796d0ad5345d3acc377b8"><div class="ttname"><a href="namespaceAP.html#aa6f0d760efc796d0ad5345d3acc377b8">AP::mount</a></div><div class="ttdeci">AP_Mount * mount()</div><div class="ttdef"><b>Definition</b> <a href="AP__Mount_8cpp_source.html#l01064">AP_Mount.cpp:1064</a></div></div>
<div class="ttc" id="anamespaceAP_html_aac3bcb68bcccad29cc493b878aef055e"><div class="ttname"><a href="namespaceAP.html#aac3bcb68bcccad29cc493b878aef055e">AP::battery</a></div><div class="ttdeci">AP_BattMonitor &amp; battery()</div><div class="ttdef"><b>Definition</b> <a href="AP__BattMonitor_8cpp_source.html#l01119">AP_BattMonitor.cpp:1119</a></div></div>
<div class="ttc" id="anamespaceAP_html_ab276a35e0d3e0571fe2af418cf09da75"><div class="ttname"><a href="namespaceAP.html#ab276a35e0d3e0571fe2af418cf09da75">AP::generator</a></div><div class="ttdeci">AP_Generator * generator()</div><div class="ttdef"><b>Definition</b> <a href="AP__Generator_8cpp_source.html#l00185">AP_Generator.cpp:185</a></div></div>
<div class="ttc" id="anamespaceAP_html_ab75e299618fd1bc72888405984b61a50"><div class="ttname"><a href="namespaceAP.html#ab75e299618fd1bc72888405984b61a50">AP::parachute</a></div><div class="ttdeci">AP_Parachute * parachute()</div><div class="ttdef"><b>Definition</b> <a href="AP__Parachute_8cpp_source.html#l00267">AP_Parachute.cpp:267</a></div></div>
<div class="ttc" id="anamespaceAP_html_ab9d0bcbec954b6c20abd8e13e6de7356"><div class="ttname"><a href="namespaceAP.html#ab9d0bcbec954b6c20abd8e13e6de7356">AP::compass</a></div><div class="ttdeci">Compass &amp; compass()</div><div class="ttdef"><b>Definition</b> <a href="AP__Compass_8cpp_source.html#l02237">AP_Compass.cpp:2237</a></div></div>
<div class="ttc" id="anamespaceAP_html_ac571aa5a2ef71b7f4b4b2bfa09143fb9"><div class="ttname"><a href="namespaceAP.html#ac571aa5a2ef71b7f4b4b2bfa09143fb9">AP::ins</a></div><div class="ttdeci">AP_InertialSensor &amp; ins()</div><div class="ttdef"><b>Definition</b> <a href="AP__InertialSensor_8cpp_source.html#l02780">AP_InertialSensor.cpp:2780</a></div></div>
<div class="ttc" id="anamespaceAP_html_acdeafe5406efd2650ba54d24d3aecb7c"><div class="ttname"><a href="namespaceAP.html#acdeafe5406efd2650ba54d24d3aecb7c">AP::scheduler</a></div><div class="ttdeci">AP_Scheduler &amp; scheduler()</div><div class="ttdef"><b>Definition</b> <a href="AP__Scheduler_8cpp_source.html#l00536">AP_Scheduler.cpp:536</a></div></div>
<div class="ttc" id="anamespaceAP_html_ad5986df034b9156395fea23c11cb2210"><div class="ttname"><a href="namespaceAP.html#ad5986df034b9156395fea23c11cb2210">AP::rpm</a></div><div class="ttdeci">AP_RPM * rpm()</div><div class="ttdef"><b>Definition</b> <a href="AP__RPM_8cpp_source.html#l00312">AP_RPM.cpp:312</a></div></div>
<div class="ttc" id="anamespaceAP_html_ad7eb5eb7d80cfbcb69839b497bff7a46"><div class="ttname"><a href="namespaceAP.html#ad7eb5eb7d80cfbcb69839b497bff7a46">AP::fence</a></div><div class="ttdeci">AC_Fence * fence()</div><div class="ttdef"><b>Definition</b> <a href="AC__Fence_8cpp_source.html#l00785">AC_Fence.cpp:785</a></div></div>
<div class="ttc" id="anamespaceAP_html_ae6eeec356455220f913e47e323057cd5"><div class="ttname"><a href="namespaceAP.html#ae6eeec356455220f913e47e323057cd5">AP::gps</a></div><div class="ttdeci">AP_GPS &amp; gps()</div><div class="ttdef"><b>Definition</b> <a href="AP__GPS_8cpp_source.html#l02442">AP_GPS.cpp:2442</a></div></div>
<div class="ttc" id="anamespaceAP_html_ae87744fcd7073579dee4ddbf9d32239e"><div class="ttname"><a href="namespaceAP.html#ae87744fcd7073579dee4ddbf9d32239e">AP::rally</a></div><div class="ttdeci">AP_Rally * rally()</div><div class="ttdef"><b>Definition</b> <a href="AP__Rally_8cpp_source.html#l00192">AP_Rally.cpp:192</a></div></div>
<div class="ttc" id="anamespaceAP_html_ae9fe2cf34548960a27ef6559ad91f3b2"><div class="ttname"><a href="namespaceAP.html#ae9fe2cf34548960a27ef6559ad91f3b2">AP::button</a></div><div class="ttdeci">AP_Button &amp; button()</div><div class="ttdef"><b>Definition</b> <a href="AP__Button_8cpp_source.html#l00403">AP_Button.cpp:403</a></div></div>
<div class="ttc" id="anamespaceAP_html_afceb236ff617aaaa2b08afacd72532b0"><div class="ttname"><a href="namespaceAP.html#afceb236ff617aaaa2b08afacd72532b0">AP::internalerror</a></div><div class="ttdeci">AP_InternalError &amp; internalerror()</div><div class="ttdef"><b>Definition</b> <a href="AP__InternalError_8cpp_source.html#l00113">AP_InternalError.cpp:113</a></div></div>
<div class="ttc" id="asrxl_8cpp_html_ada09a2691ec6c7ab346ff7a16e07684a"><div class="ttname"><a href="srxl_8cpp.html#ada09a2691ec6c7ab346ff7a16e07684a">channels</a></div><div class="ttdeci">static uint16_t channels[SRXL_MAX_CHANNELS]</div><div class="ttdef"><b>Definition</b> <a href="srxl_8cpp_source.html#l00060">srxl.cpp:60</a></div></div>
<div class="ttc" id="astructAP__Param_1_1GroupInfo_html"><div class="ttname"><a href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00199">AP_Param.h:199</a></div></div>
<div class="ttc" id="astructRallyLocation_html"><div class="ttname"><a href="structRallyLocation.html">RallyLocation</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Rally_8h_source.html#l00027">AP_Rally.h:27</a></div></div>
<div class="ttc" id="astructlog__Arm__Disarm_html"><div class="ttname"><a href="structlog__Arm__Disarm.html">log_Arm_Disarm</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_2LogStructure_8h_source.html#l00586">LogStructure.h:586</a></div></div>
<div class="ttc" id="astructmethod_html"><div class="ttname"><a href="structmethod.html">method</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Scripting_2generator_2src_2main_8c_source.html#l00345">main.c:345</a></div></div>
<div class="ttc" id="astructrange_html"><div class="ttname"><a href="structrange.html">range</a></div><div class="ttdef"><b>Definition</b> <a href="AP__RangeFinder__BBB__PRU_8h_source.html#l00017">AP_RangeFinder_BBB_PRU.h:17</a></div></div>
<div class="ttc" id="astructtype_html"><div class="ttname"><a href="structtype.html">type</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Scripting_2generator_2src_2main_8c_source.html#l00163">main.c:163</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 22 2024 16:14:13 for APM:Libraries by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
