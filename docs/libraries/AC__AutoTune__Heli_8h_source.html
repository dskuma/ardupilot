<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>APM:Libraries: libraries/AC_AutoTune/AC_AutoTune_Heli.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">APM:Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_e0c590d1e561ab822e9a3251e267ee24.html">AC_AutoTune</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">AC_AutoTune_Heli.h</div></div>
</div><!--header-->
<div class="contents">
<a href="AC__AutoTune__Heli_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">   This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">   it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">   the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">   (at your option) any later version.</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"></span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">   This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">   GNU General Public License for more details.</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment"></span> </div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">   You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">   along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"> */</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment">/*</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment">  support for autotune of helicopters</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment"> */</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="AC__AutoTune__config_8h.html">AC_AutoTune_config.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span> </div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#if AC_AUTOTUNE_ENABLED</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span> </div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="AC__AutoTune_8h.html">AC_AutoTune.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &lt;<a class="code" href="chirp_8h.html">AP_Math/chirp.h</a>&gt;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &lt;<a class="code" href="GCS_8h.html">GCS_MAVLink/GCS.h</a>&gt;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span> </div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Scheduler_8h.html">AP_Scheduler/AP_Scheduler.h</a>&gt;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="foldopen" id="foldopen00031" data-start="{" data-end="};">
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html">   31</a></span><span class="keyword">class </span><a class="code hl_class" href="classAC__AutoTune__Heli.html">AC_AutoTune_Heli</a> : <span class="keyword">public</span> <a class="code hl_class" href="classAC__AutoTune.html">AC_AutoTune</a></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>{</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    <span class="comment">// constructor</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>    <a class="code hl_function" href="classAC__AutoTune__Heli.html#a09f00689b08fa53dd8eab10d5ca7a4e9">AC_AutoTune_Heli</a>();</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span> </div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>    <span class="comment">// save gained, called on disarm</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a9a8d1a1fc00366d6964f01951767accd">save_tuning_gains</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span> </div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    <span class="comment">// var_info for holding Parameter information</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a> var_info[];</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span> </div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="keyword">protected</span>:</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span> </div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    <span class="comment">// methods to load and save gains</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span> </div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    <span class="comment">// backup original gains and prepare for start of tuning</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#afec312e9f685069bdc8742105dfcdf5a">backup_gains_and_initialise</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span> </div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    <span class="comment">// load gains</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#afaac46d8c9f2da88472d56bfae3fb8df">load_gain_set</a>(<a class="code hl_enumeration" href="classAC__AutoTune.html#a1081e97e5362430ac5432a3043f1e3f0">AxisType</a> s_axis, <span class="keywordtype">float</span> rate_p, <span class="keywordtype">float</span> rate_i, <span class="keywordtype">float</span> rate_d, <span class="keywordtype">float</span> rate_ff, <span class="keywordtype">float</span> angle_p, <span class="keywordtype">float</span> max_accel, <span class="keywordtype">float</span> rate_fltt, <span class="keywordtype">float</span> rate_flte, <span class="keywordtype">float</span> smax);</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span> </div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    <span class="comment">// switch to use original gains</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#ad84003c3e324eb94e02b478b0c26c931">load_orig_gains</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span> </div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    <span class="comment">// switch to gains found by last successful autotune</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a9c135efcd591da91b69b32cbdc37ed00">load_tuned_gains</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span> </div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <span class="comment">// load gains used between tests. called during testing mode&#39;s update-gains step to set gains ahead of return-to-level step</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a44b3391933543eacfcdad7abcf922157">load_intra_test_gains</a>() <span class="keyword">override</span>;</div>
<div class="foldopen" id="foldopen00063" data-start="{" data-end="};">
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a65df61266b1e07bfcee687db07fbbf92">   63</a></span> </div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>    <span class="comment">// load test gains</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#afc7e02c4e2098f2452baa507b780e71f">load_test_gains</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <span class="comment">// reset the test variables for heli</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a9733f5a3ee7c254d16b9883d7a4d4d76">reset_vehicle_test_variables</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span> </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    <span class="comment">// reset the update gain variables for heli</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a62d343838ecb85e1400e6d6770e6f6c9">reset_update_gain_variables</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span> </div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    <span class="comment">// initializes test</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#af6c010324c9ac265b7ab2728f03f954c">test_init</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span> </div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    <span class="comment">// runs test</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a581fd3200d08720e87bb6fb6fe7ee301">test_run</a>(<a class="code hl_enumeration" href="classAC__AutoTune.html#a1081e97e5362430ac5432a3043f1e3f0">AxisType</a> test_axis, <span class="keyword">const</span> <span class="keywordtype">float</span> dir_sign) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span> </div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    <span class="comment">// update gains for the rate p up tune type</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#ac4e59ecc5bb7fd291df5b8482b50e790">updating_rate_p_up_all</a>(<a class="code hl_enumeration" href="classAC__AutoTune.html#a1081e97e5362430ac5432a3043f1e3f0">AxisType</a> test_axis) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span> </div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    <span class="comment">// update gains for the rate d up tune type</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a67f9abab43ff7ebda72f334a46cc5ef9">updating_rate_d_up_all</a>(<a class="code hl_enumeration" href="classAC__AutoTune.html#a1081e97e5362430ac5432a3043f1e3f0">AxisType</a> test_axis) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span> </div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    <span class="comment">// update gains for the rate d down tune type</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a80a1b0cc09c9c3683c8d4381296689a3">   86</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a80a1b0cc09c9c3683c8d4381296689a3">updating_rate_d_down_all</a>(<a class="code hl_enumeration" href="classAC__AutoTune.html#a1081e97e5362430ac5432a3043f1e3f0">AxisType</a> test_axis)<span class="keyword"> override </span>{};</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span> </div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    <span class="comment">// update gains for the rate ff up tune type</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#aedbf8216f99bf2f47aa93726a4da1c7f">updating_rate_ff_up_all</a>(<a class="code hl_enumeration" href="classAC__AutoTune.html#a1081e97e5362430ac5432a3043f1e3f0">AxisType</a> test_axis) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span> </div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    <span class="comment">// update gains for the angle p up tune type</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a13997db00069868aa0e409e7799b60e8">updating_angle_p_up_all</a>(<a class="code hl_enumeration" href="classAC__AutoTune.html#a1081e97e5362430ac5432a3043f1e3f0">AxisType</a> test_axis) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span> </div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <span class="comment">// update gains for the angle p down tune type</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a43f1fe688f01fa1d19b0c1161efb881d">   95</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a43f1fe688f01fa1d19b0c1161efb881d">updating_angle_p_down_all</a>(<a class="code hl_enumeration" href="classAC__AutoTune.html#a1081e97e5362430ac5432a3043f1e3f0">AxisType</a> test_axis)<span class="keyword"> override </span>{};</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span> </div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    <span class="comment">// update gains for the max gain tune type</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a03fd4c5ca9e069d3b32ea046ad146611">updating_max_gains_all</a>(<a class="code hl_enumeration" href="classAC__AutoTune.html#a1081e97e5362430ac5432a3043f1e3f0">AxisType</a> test_axis) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span> </div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <span class="comment">// set gains post tune for the tune type</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a523d503e13a1e032d2bf063aef736093">set_gains_post_tune</a>(<a class="code hl_enumeration" href="classAC__AutoTune.html#a1081e97e5362430ac5432a3043f1e3f0">AxisType</a> test_axis) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span> </div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <span class="comment">// reverse direction for twitch test</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a8565600642cfee3a5b755726d9bc0f73">  104</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a8565600642cfee3a5b755726d9bc0f73">twitch_reverse_direction</a>()<span class="keyword"> override </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classAC__AutoTune.html#a28831c9aa3aa548bf93880161ab390bc">positive_direction</a>; }</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span> </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span><span class="preprocessor">#if HAL_LOGGING_ENABLED</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    <span class="comment">// methods to log autotune summary data</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    <span class="keywordtype">void</span> Log_AutoTune() <span class="keyword">override</span>;</div>
</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    <span class="keywordtype">void</span> Log_Write_AutoTune(uint8_t _axis, uint8_t tune_step, <span class="keywordtype">float</span> dwell_freq, <span class="keywordtype">float</span> meas_gain, <span class="keywordtype">float</span> meas_phase, <span class="keywordtype">float</span> new_gain_rff, <span class="keywordtype">float</span> new_gain_rp, <span class="keywordtype">float</span> new_gain_rd, <span class="keywordtype">float</span> new_gain_sp, <span class="keywordtype">float</span> max_accel);</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span> </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <span class="comment">// methods to log autotune time history results for command, angular rate, and attitude.</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    <span class="keywordtype">void</span> Log_AutoTuneDetails() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <span class="keywordtype">void</span> Log_Write_AutoTuneDetails(<span class="keywordtype">float</span> motor_cmd, <span class="keywordtype">float</span> tgt_rate_rads, <span class="keywordtype">float</span> rate_rads, <span class="keywordtype">float</span> tgt_ang_rad, <span class="keywordtype">float</span> ang_rad);</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span> </div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <span class="comment">// methods to log autotune frequency response results</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    <span class="keywordtype">void</span> Log_AutoTuneSweep() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="keywordtype">void</span> Log_Write_AutoTuneSweep(<span class="keywordtype">float</span> freq, <span class="keywordtype">float</span> gain, <span class="keywordtype">float</span> phase);</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span> </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <span class="comment">// send intermittent updates to user on status of tune</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a9c2606fa93c53ecb89b4aa4c26c8545a">do_gcs_announcements</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span> </div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    <span class="comment">// send post test updates to user</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a24c218fc3981df6c9ec22d67ad8af044">do_post_test_gcs_announcements</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span> </div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="comment">// report final gains for a given axis to GCS</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a896f9586792bdc0e368a2168e5b5b30a">report_final_gains</a>(<a class="code hl_enumeration" href="classAC__AutoTune.html#a1081e97e5362430ac5432a3043f1e3f0">AxisType</a> test_axis) <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span> </div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <span class="comment">// set the tuning test sequence</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#ac5f5fffe0e536b56f65f482d5673c541">set_tune_sequence</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span> </div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <span class="comment">// get_axis_bitmask accessor</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a6b7b42efb5710787ae36743918461945">  133</a></span>    uint8_t <a class="code hl_function" href="classAC__AutoTune__Heli.html#a6b7b42efb5710787ae36743918461945">get_axis_bitmask</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a85716fc1cd0464b617e3104f2db8b547">axis_bitmask</a>; }</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span> </div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="comment">// get_testing_step_timeout_ms accessor</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    uint32_t <a class="code hl_function" href="classAC__AutoTune__Heli.html#aae8c9ce7634d655193ed39695c237526">get_testing_step_timeout_ms</a>() <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span> </div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <span class="comment">// max_gain_data type stores information from the max gain test</span></div>
<div class="foldopen" id="foldopen00140" data-start="{" data-end="};">
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno"><a class="line" href="structAC__AutoTune__Heli_1_1max__gain__data.html">  140</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structAC__AutoTune__Heli_1_1max__gain__data.html">max_gain_data</a> {</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno"><a class="line" href="structAC__AutoTune__Heli_1_1max__gain__data.html#a2bccab984d51c08324af0e746777ffb7">  141</a></span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="structAC__AutoTune__Heli_1_1max__gain__data.html#a2bccab984d51c08324af0e746777ffb7">freq</a>;</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno"><a class="line" href="structAC__AutoTune__Heli_1_1max__gain__data.html#a8ba7d1071debf84aa62c22a2025b30d5">  142</a></span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="structAC__AutoTune__Heli_1_1max__gain__data.html#a8ba7d1071debf84aa62c22a2025b30d5">phase</a>;</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno"><a class="line" href="structAC__AutoTune__Heli_1_1max__gain__data.html#a61d9b776b5ae056952876b353fbe0948">  143</a></span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="structAC__AutoTune__Heli_1_1max__gain__data.html#a61d9b776b5ae056952876b353fbe0948">gain</a>;</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno"><a class="line" href="structAC__AutoTune__Heli_1_1max__gain__data.html#aa08e3395a3465bb4d7cbd750bbdc8706">  144</a></span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="structAC__AutoTune__Heli_1_1max__gain__data.html#aa08e3395a3465bb4d7cbd750bbdc8706">max_allowed</a>;</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    };</div>
</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span> </div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <span class="comment">// max gain data for rate p tuning</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a6e01d4c0893059b59d07cd812ba78fa4">  148</a></span>    <a class="code hl_struct" href="structAC__AutoTune__Heli_1_1max__gain__data.html">max_gain_data</a> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a6e01d4c0893059b59d07cd812ba78fa4">max_rate_p</a>;</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    <span class="comment">// max gain data for rate d tuning</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#ac315b67e53592aecab53d4d728733a5c">  150</a></span>    <a class="code hl_struct" href="structAC__AutoTune__Heli_1_1max__gain__data.html">max_gain_data</a> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#ac315b67e53592aecab53d4d728733a5c">max_rate_d</a>;</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span> </div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    <span class="comment">// dwell type identifies whether the dwell is ran on rate or angle</span></div>
<div class="foldopen" id="foldopen00153" data-start="{" data-end="};">
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a4fa5225d8f4bf529dd0be39a239cfdf8">  153</a></span>    <span class="keyword">enum</span> <a class="code hl_enumeration" href="classAC__AutoTune__Heli.html#a4fa5225d8f4bf529dd0be39a239cfdf8">DwellType</a> {</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a4fa5225d8f4bf529dd0be39a239cfdf8a3e218befbb32a6021da949706ff5c2b0">  154</a></span>        <a class="code hl_enumvalue" href="classAC__AutoTune__Heli.html#a4fa5225d8f4bf529dd0be39a239cfdf8a3e218befbb32a6021da949706ff5c2b0">RATE</a>    = 0,</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a4fa5225d8f4bf529dd0be39a239cfdf8afb37a88b8565cb3555252f256a16767f">  155</a></span>        <a class="code hl_enumvalue" href="classAC__AutoTune__Heli.html#a4fa5225d8f4bf529dd0be39a239cfdf8afb37a88b8565cb3555252f256a16767f">ANGLE</a>   = 1,</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a4fa5225d8f4bf529dd0be39a239cfdf8ab3ed8b9c4c34573b5ae256265e9c2517">  156</a></span>        <a class="code hl_enumvalue" href="classAC__AutoTune__Heli.html#a4fa5225d8f4bf529dd0be39a239cfdf8ab3ed8b9c4c34573b5ae256265e9c2517">DRB</a>     = 2,</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    };</div>
</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span> </div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    <span class="comment">// Feedforward test used to determine Rate FF gain</span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a3e1970bbf9d38685cd73fce245362812">rate_ff_test_init</a>();</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#ae4f0684ddb2081516f8bd34aea2f742f">rate_ff_test_run</a>(<span class="keywordtype">float</span> max_angle_cds, <span class="keywordtype">float</span> target_rate_cds, <span class="keywordtype">float</span> dir_sign);</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span> </div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="comment">// initialize dwell test or angle dwell test variables</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#aa330dc948b12cc0fc815d00e707454ba">dwell_test_init</a>(<span class="keywordtype">float</span> start_frq, <span class="keywordtype">float</span> stop_frq, <span class="keywordtype">float</span> filt_freq, <a class="code hl_enumeration" href="classAC__AutoTune__Heli.html#a4fa5225d8f4bf529dd0be39a239cfdf8">DwellType</a> dwell_type);</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span> </div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    <span class="comment">// dwell test used to perform frequency dwells for rate gains</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a0b4a5ef0f8e568e311198ec52770d1a9">dwell_test_run</a>(uint8_t freq_resp_input, <span class="keywordtype">float</span> start_frq, <span class="keywordtype">float</span> stop_frq, <span class="keywordtype">float</span> &amp;dwell_gain, <span class="keywordtype">float</span> &amp;dwell_phase, <a class="code hl_enumeration" href="classAC__AutoTune__Heli.html#a4fa5225d8f4bf529dd0be39a239cfdf8">DwellType</a> dwell_type);</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span> </div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <span class="comment">// updating_rate_ff_up - adjust FF to ensure the target is reached</span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    <span class="comment">// FF is adjusted until rate requested is achieved</span></div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#ad327db4a0ef1dfa5b7b2d29622d50921">updating_rate_ff_up</a>(<span class="keywordtype">float</span> &amp;tune_ff, <span class="keywordtype">float</span> rate_target, <span class="keywordtype">float</span> meas_rate, <span class="keywordtype">float</span> meas_command);</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span> </div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <span class="comment">// updating_rate_p_up - uses maximum allowable gain determined from max_gain test to determine rate p gain that does not exceed exceed max response gain</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a4277b5d67bc4cb8e7d8d421984849c0d">updating_rate_p_up</a>(<span class="keywordtype">float</span> &amp;tune_p, <span class="keywordtype">float</span> *freq, <span class="keywordtype">float</span> *gain, <span class="keywordtype">float</span> *phase, uint8_t &amp;frq_cnt, max_gain_data &amp;max_gain_p);</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span> </div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <span class="comment">// updating_rate_d_up - uses maximum allowable gain determined from max_gain test to determine rate d gain where the response gain is at a minimum</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#ad1a558eaab01d80c4e72377694696966">updating_rate_d_up</a>(<span class="keywordtype">float</span> &amp;tune_d, <span class="keywordtype">float</span> *freq, <span class="keywordtype">float</span> *gain, <span class="keywordtype">float</span> *phase, uint8_t &amp;frq_cnt, max_gain_data &amp;max_gain_d);</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span> </div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    <span class="comment">// updating_angle_p_up - determines maximum angle p gain for pitch and roll</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#aed51cbff4095a356bc6940f9de92b385">updating_angle_p_up</a>(<span class="keywordtype">float</span> &amp;tune_p, <span class="keywordtype">float</span> *freq, <span class="keywordtype">float</span> *gain, <span class="keywordtype">float</span> *phase, uint8_t &amp;frq_cnt);</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span> </div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>   <span class="comment">// updating_max_gains: use dwells at increasing frequency to determine gain at which instability will occur</span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#aa4f00efc813dcc08a7acc889441b5ba2">updating_max_gains</a>(<span class="keywordtype">float</span> *freq, <span class="keywordtype">float</span> *gain, <span class="keywordtype">float</span> *phase, uint8_t &amp;frq_cnt, max_gain_data &amp;max_gain_p, max_gain_data &amp;max_gain_d, <span class="keywordtype">float</span> &amp;tune_p, <span class="keywordtype">float</span> &amp;tune_d);</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span> </div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <span class="comment">// reset the max_gains update gain variables</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a0ff6782729ee915e99e2b3c3f3de258e">reset_maxgains_update_gain_variables</a>();</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span> </div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    <span class="comment">// reset the sweep variables</span></div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#ae42e6d198721a81bde8b8e2ec4f2c790">reset_sweep_variables</a>();</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span> </div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    <span class="comment">// exceeded_freq_range - ensures tuning remains inside frequency range</span></div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a7e9b39f876c3352326e32ad7cbf39063">exceeded_freq_range</a>(<span class="keywordtype">float</span> frequency);</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span> </div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <span class="comment">// report gain formatting helper</span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__Heli.html#a9f2738649bef4d4f186a5976c85a02f8">report_axis_gains</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classAC__AutoTune.html#ab408486b00a60d5a6e6b952287c14a29">axis_string</a>, <span class="keywordtype">float</span> rate_P, <span class="keywordtype">float</span> rate_I, <span class="keywordtype">float</span> rate_D, <span class="keywordtype">float</span> rate_ff, <span class="keywordtype">float</span> angle_P, <span class="keywordtype">float</span> max_accel) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span> </div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <span class="comment">// updating rate FF variables</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <span class="comment">// flag for completion of the initial direction for the feedforward test</span></div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a5f0e443c19b4a31608a0b14af12e7c1b">  199</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a5f0e443c19b4a31608a0b14af12e7c1b">first_dir_complete</a>;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <span class="comment">// feedforward gain resulting from testing in the initial direction</span></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#ad1937bd0fefb79633ece02d9f227bbd8">  201</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#ad1937bd0fefb79633ece02d9f227bbd8">first_dir_rff</a>;</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span> </div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    <span class="comment">// updating max gain variables</span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    <span class="comment">// flag for finding maximum p gain</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a68f21852a16d47a53995e8fa25f9d98b">  205</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a68f21852a16d47a53995e8fa25f9d98b">found_max_p</a>;</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    <span class="comment">// flag for finding maximum d gain</span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a83ba37c1cc37d6a8d6858b89d707f4fa">  207</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a83ba37c1cc37d6a8d6858b89d707f4fa">found_max_d</a>;</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    <span class="comment">// flag for interpolating to find max response gain</span></div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#ace7463c5fac4d440a80d330766686d7b">  209</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#ace7463c5fac4d440a80d330766686d7b">find_middle</a>;</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span> </div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    <span class="comment">// updating angle P up variables</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    <span class="comment">// track the maximum phase</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#ab9a2e58f767ac0346fd3c7fcb6becdc6">  213</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#ab9a2e58f767ac0346fd3c7fcb6becdc6">phase_max</a>;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    <span class="comment">// previous gain</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#af9f5092665c9ac67eac8b8ab0416ea66">  215</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#af9f5092665c9ac67eac8b8ab0416ea66">sp_prev_gain</a>;</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>    <span class="comment">// flag for finding the peak of the gain response</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#afb94eb4172fc6e04816afd2ad11e2181">  217</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#afb94eb4172fc6e04816afd2ad11e2181">find_peak</a>;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span> </div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    <span class="comment">// updating rate P up</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <span class="comment">// counter value of previous good frequency</span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a1ebf93793397d70df71b631f2aeb92a5">  221</a></span>    uint8_t <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a1ebf93793397d70df71b631f2aeb92a5">rp_prev_good_frq_cnt</a>;</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span> </div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <span class="comment">// updating rate D up</span></div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <span class="comment">// counter value of previous good frequency</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a34179f328be78eefae7e4037ddf46947">  225</a></span>    uint8_t <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a34179f328be78eefae7e4037ddf46947">rd_prev_good_frq_cnt</a>;</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    <span class="comment">// previous gain</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#aecda73b0ee09339ec38bbdd0c25bc967">  227</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#aecda73b0ee09339ec38bbdd0c25bc967">rd_prev_gain</a>;</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span> </div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#aef97f4a54680b2d22341ed06fa8d9b25">  229</a></span>    uint8_t  <a class="code hl_variable" href="classAC__AutoTune__Heli.html#aef97f4a54680b2d22341ed06fa8d9b25">ff_test_phase</a>;                         <span class="comment">// phase of feedforward test</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#ab3da60dce12d4fee034c3f29ae5095fb">  230</a></span>    <span class="keywordtype">float</span>    <a class="code hl_variable" href="classAC__AutoTune__Heli.html#ab3da60dce12d4fee034c3f29ae5095fb">test_command_filt</a>;                     <span class="comment">// filtered commanded output for FF test analysis</span></div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#ab2b658dcbc94930f7a0782ae3fd5143d">  231</a></span>    <span class="keywordtype">float</span>    <a class="code hl_variable" href="classAC__AutoTune__Heli.html#ab2b658dcbc94930f7a0782ae3fd5143d">test_rate_filt</a>;                        <span class="comment">// filtered rate output for FF test analysis</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#af113e87fc2057fc8d4434eb9620c0c98">  232</a></span>    <span class="keywordtype">float</span>    <a class="code hl_variable" href="classAC__AutoTune__Heli.html#af113e87fc2057fc8d4434eb9620c0c98">command_out</a>;                           <span class="comment">// test axis command output</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a7f893082b0d019ca085e6a1c4fa8c1fe">  233</a></span>    <span class="keywordtype">float</span>    <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a7f893082b0d019ca085e6a1c4fa8c1fe">test_tgt_rate_filt</a>;                    <span class="comment">// filtered target rate for FF test analysis</span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a45b5c903a96b471ad45dd972b8bed4b1">  234</a></span>    <span class="keywordtype">float</span>    <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a45b5c903a96b471ad45dd972b8bed4b1">filt_target_rate</a>;                      <span class="comment">// filtered target rate</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#ae8a16c31cfe575c9e7528b57430911df">  235</a></span>    <span class="keywordtype">float</span>    <a class="code hl_variable" href="classAC__AutoTune__Heli.html#ae8a16c31cfe575c9e7528b57430911df">test_gain</a>[20];                         <span class="comment">// frequency response gain for each dwell test iteration</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a6e55c7c00c27d6a697e8fbd65904e205">  236</a></span>    <span class="keywordtype">float</span>    <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a6e55c7c00c27d6a697e8fbd65904e205">test_freq</a>[20];                         <span class="comment">// frequency of each dwell test iteration</span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a59e4416f54d0a080f1c13b02ec50dd25">  237</a></span>    <span class="keywordtype">float</span>    <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a59e4416f54d0a080f1c13b02ec50dd25">test_phase</a>[20];                        <span class="comment">// frequency response phase for each dwell test iteration</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a17e7e2f554e944c6ddf018c0ddbf1d05">  238</a></span>    <span class="keywordtype">float</span>    <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a17e7e2f554e944c6ddf018c0ddbf1d05">dwell_start_time_ms</a>;                   <span class="comment">// start time in ms of dwell test</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#ad008a2b701b9e843bf782a42aafef441">  239</a></span>    uint8_t  <a class="code hl_variable" href="classAC__AutoTune__Heli.html#ad008a2b701b9e843bf782a42aafef441">freq_cnt_max</a>;                          <span class="comment">// counter number for frequency that produced max gain response</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span> </div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    <span class="comment">// sweep_info contains information about a specific test&#39;s sweep results</span></div>
<div class="foldopen" id="foldopen00242" data-start="{" data-end="};">
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno"><a class="line" href="structAC__AutoTune__Heli_1_1sweep__info.html">  242</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structAC__AutoTune__Heli_1_1sweep__info.html">sweep_info</a> {</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno"><a class="line" href="structAC__AutoTune__Heli_1_1sweep__info.html#a643bf699d19fdb54983810130b7a74a9">  243</a></span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="structAC__AutoTune__Heli_1_1sweep__info.html#a643bf699d19fdb54983810130b7a74a9">freq</a>;</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno"><a class="line" href="structAC__AutoTune__Heli_1_1sweep__info.html#ada2807bc147e5354d0d840746bf91d97">  244</a></span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="structAC__AutoTune__Heli_1_1sweep__info.html#ada2807bc147e5354d0d840746bf91d97">gain</a>;</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno"><a class="line" href="structAC__AutoTune__Heli_1_1sweep__info.html#a156dc2c69827a76b2aa7b9a2f493a12c">  245</a></span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="structAC__AutoTune__Heli_1_1sweep__info.html#a156dc2c69827a76b2aa7b9a2f493a12c">phase</a>;</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    };</div>
</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a91327bf1b46a22d7e04e23e9d205549e">  247</a></span>    <a class="code hl_struct" href="structAC__AutoTune__Heli_1_1sweep__info.html">sweep_info</a> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a91327bf1b46a22d7e04e23e9d205549e">curr_test</a>;</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span> </div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a12bc04b1d34f5e542b56fdc7533b7e57">  249</a></span>    <a class="code hl_class" href="classVector3.html">Vector3f</a> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a12bc04b1d34f5e542b56fdc7533b7e57">start_angles</a>;                          <span class="comment">// aircraft attitude at the start of test</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a81731ba9f596199d2693c5edda3a75bb">  250</a></span>    uint32_t <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a81731ba9f596199d2693c5edda3a75bb">settle_time</a>;                           <span class="comment">// time in ms for allowing aircraft to stabilize before initiating test</span></div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a3ba294c5dd5856c7802f2546541ebda1">  251</a></span>    uint32_t <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a3ba294c5dd5856c7802f2546541ebda1">phase_out_time</a>;                        <span class="comment">// time in ms to phase out response</span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#aed31e91d609992a7bc57c7deafe38586">  252</a></span>    <span class="keywordtype">float</span>    <a class="code hl_variable" href="classAC__AutoTune__Heli.html#aed31e91d609992a7bc57c7deafe38586">trim_pff_out</a>;                          <span class="comment">// trim output of the PID rate controller for P, I and FF terms</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a07306d20c585139fdcb82e8472800a20">  253</a></span>    <span class="keywordtype">float</span>    <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a07306d20c585139fdcb82e8472800a20">trim_meas_rate</a>;                        <span class="comment">// trim measured gyro rate</span></div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span> </div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>    <span class="comment">//variables from rate FF test</span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#aca584a7982e7bbf4c2eedf99f8157def">  256</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#aca584a7982e7bbf4c2eedf99f8157def">trim_command_reading</a>;</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a53e8234f8524721f85da0112878543d3">  257</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a53e8234f8524721f85da0112878543d3">trim_heading</a>;</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#acc0fba65e97d6ed65f99fc05286065f9">  258</a></span>    <a class="code hl_class" href="classLowPassFilter.html">LowPassFilterFloat</a> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#acc0fba65e97d6ed65f99fc05286065f9">rate_request_cds</a>;</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a3a9474e2033b2af4961355cf32a9280a">  259</a></span>    <a class="code hl_class" href="classLowPassFilter.html">LowPassFilterFloat</a> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a3a9474e2033b2af4961355cf32a9280a">angle_request_cd</a>;</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span> </div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    <span class="comment">// variables from dwell test</span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a367a87f708658774044f77a7987a25af">  262</a></span>    <a class="code hl_class" href="classLowPassFilter.html">LowPassFilterVector2f</a> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a367a87f708658774044f77a7987a25af">filt_pit_roll_cd</a>;         <span class="comment">// filtered pitch and roll attitude for dwell rate method</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#aea94968e29187b913750b53fc4d0383d">  263</a></span>    <a class="code hl_class" href="classLowPassFilter.html">LowPassFilterFloat</a> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#aea94968e29187b913750b53fc4d0383d">filt_heading_error_cd</a>;       <span class="comment">// filtered heading error for dwell rate method</span></div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a9b25734c4f9ab33da6f10fa258b792ed">  264</a></span>    <a class="code hl_class" href="classLowPassFilter.html">LowPassFilterVector2f</a> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a9b25734c4f9ab33da6f10fa258b792ed">filt_att_fdbk_from_velxy_cd</a>;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a166399159373f7f885562efc88d89bbf">  265</a></span>    <a class="code hl_class" href="classLowPassFilter.html">LowPassFilterFloat</a> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a166399159373f7f885562efc88d89bbf">filt_command_reading</a>;        <span class="comment">// filtered command reading to keep oscillation centered</span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#aa68cfb13c1b93811e6e59119fded6c90">  266</a></span>    <a class="code hl_class" href="classLowPassFilter.html">LowPassFilterFloat</a> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#aa68cfb13c1b93811e6e59119fded6c90">filt_gyro_reading</a>;           <span class="comment">// filtered gyro reading to keep oscillation centered</span></div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a03d240cbe0c90b562b1a2ae0f87a1c83">  267</a></span>    <a class="code hl_class" href="classLowPassFilter.html">LowPassFilterFloat</a> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a03d240cbe0c90b562b1a2ae0f87a1c83">filt_tgt_rate_reading</a>;       <span class="comment">// filtered target rate reading to keep oscillation centered</span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span> </div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    <span class="comment">// trim variables for determining trim state prior to test starting</span></div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#af6c811e7b1020a14e2d21cff2ed1f327">  270</a></span>    <a class="code hl_class" href="classVector3.html">Vector3f</a> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#af6c811e7b1020a14e2d21cff2ed1f327">trim_attitude_cd</a>;                      <span class="comment">// trim attitude before starting test</span></div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a0fb2e627a1c2c4f470b6b95289fe2d2a">  271</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a0fb2e627a1c2c4f470b6b95289fe2d2a">trim_command</a>;                             <span class="comment">// trim target yaw reading before starting test</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#ad6258ef563283b567ef4fe11fa4204e2">  272</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#ad6258ef563283b567ef4fe11fa4204e2">trim_yaw_tgt_reading</a>;                     <span class="comment">// trim target yaw reading before starting test</span></div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a9e4829910362301dae7313389c2f8e40">  273</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a9e4829910362301dae7313389c2f8e40">trim_yaw_heading_reading</a>;                 <span class="comment">// trim heading reading before starting test</span></div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span> </div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#acb64ba8b3acef9d9c21a0d5d65ea6873">  275</a></span>    <a class="code hl_class" href="classLowPassFilter.html">LowPassFilterFloat</a>  <a class="code hl_variable" href="classAC__AutoTune__Heli.html#acb64ba8b3acef9d9c21a0d5d65ea6873">command_filt</a>;               <span class="comment">// filtered command - filtering intended to remove noise</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a31dbce97518af5ccff61c551f04a136a">  276</a></span>    <a class="code hl_class" href="classLowPassFilter.html">LowPassFilterFloat</a>  <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a31dbce97518af5ccff61c551f04a136a">target_rate_filt</a>;           <span class="comment">// filtered target rate in radians/second - filtering intended to remove noise</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span> </div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    <span class="comment">// sweep_data tracks the overall characteristics in the response to the frequency sweep</span></div>
<div class="foldopen" id="foldopen00279" data-start="{" data-end="};">
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno"><a class="line" href="structAC__AutoTune__Heli_1_1sweep__data.html">  279</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structAC__AutoTune__Heli_1_1sweep__data.html">sweep_data</a> {</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno"><a class="line" href="structAC__AutoTune__Heli_1_1sweep__data.html#a7643351a6ef86e4251d7054e9bac3cd9">  280</a></span>        <a class="code hl_struct" href="structAC__AutoTune__Heli_1_1sweep__info.html">sweep_info</a> <a class="code hl_variable" href="structAC__AutoTune__Heli_1_1sweep__data.html#a7643351a6ef86e4251d7054e9bac3cd9">maxgain</a>;</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno"><a class="line" href="structAC__AutoTune__Heli_1_1sweep__data.html#a5262b184ca2313b8da3602fbe928fbee">  281</a></span>        <a class="code hl_struct" href="structAC__AutoTune__Heli_1_1sweep__info.html">sweep_info</a> <a class="code hl_variable" href="structAC__AutoTune__Heli_1_1sweep__data.html#a5262b184ca2313b8da3602fbe928fbee">ph180</a>;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno"><a class="line" href="structAC__AutoTune__Heli_1_1sweep__data.html#a531df29170bff692a4dbb2fffd1e72d2">  282</a></span>        <a class="code hl_struct" href="structAC__AutoTune__Heli_1_1sweep__info.html">sweep_info</a> <a class="code hl_variable" href="structAC__AutoTune__Heli_1_1sweep__data.html#a531df29170bff692a4dbb2fffd1e72d2">ph270</a>;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span> </div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno"><a class="line" href="structAC__AutoTune__Heli_1_1sweep__data.html#aff263592de6bdb2970108ec65aaee568">  284</a></span>        uint8_t  <a class="code hl_variable" href="structAC__AutoTune__Heli_1_1sweep__data.html#aff263592de6bdb2970108ec65aaee568">progress</a>;  <span class="comment">// set based on phase of frequency response.  0 - start; 1 - reached 180 deg; 2 - reached 270 deg;</span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    };</div>
</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a569f1d90be03dcc250a94b0d9a23545d">  286</a></span>    <a class="code hl_struct" href="structAC__AutoTune__Heli_1_1sweep__data.html">sweep_data</a> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a569f1d90be03dcc250a94b0d9a23545d">sweep</a>;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    <span class="comment">// fix the frequency sweep time to 23 seconds</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a4833595f5105f24a4c59a969bc34f39b">  289</a></span>    <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a4833595f5105f24a4c59a969bc34f39b">sweep_time_ms</a> = 23000;</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span> </div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span> </div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    <span class="comment">// parameters</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a85716fc1cd0464b617e3104f2db8b547">  293</a></span>    AP_Int8  <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a85716fc1cd0464b617e3104f2db8b547">axis_bitmask</a>;        <span class="comment">// axes to be tuned</span></div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#ae899df8b741061462117377d14ca2b5f">  294</a></span>    AP_Int8  <a class="code hl_variable" href="classAC__AutoTune__Heli.html#ae899df8b741061462117377d14ca2b5f">seq_bitmask</a>;       <span class="comment">// tuning sequence bitmask</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#ada556736f4a241a2c5eb963172c69df6">  295</a></span>    AP_Float <a class="code hl_variable" href="classAC__AutoTune__Heli.html#ada556736f4a241a2c5eb963172c69df6">min_sweep_freq</a>;    <span class="comment">// minimum sweep frequency</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a5e8232f165ceafd37564643f8296518a">  296</a></span>    AP_Float <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a5e8232f165ceafd37564643f8296518a">max_sweep_freq</a>;    <span class="comment">// maximum sweep frequency</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a4bfbb1905ef40efc766d51713e5792ff">  297</a></span>    AP_Float <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a4bfbb1905ef40efc766d51713e5792ff">max_resp_gain</a>;     <span class="comment">// maximum response gain</span></div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#aeca6f1a1af2da29008c56faddd9d647a">  298</a></span>    AP_Float <a class="code hl_variable" href="classAC__AutoTune__Heli.html#aeca6f1a1af2da29008c56faddd9d647a">vel_hold_gain</a>;     <span class="comment">// gain for velocity hold</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span> </div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>    <span class="comment">// freqresp object for the frequency response tests</span></div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a87c3fa7ae8c28c81f61318741b2cebf2">  301</a></span>    <a class="code hl_class" href="classAC__AutoTune__FreqResp.html">AC_AutoTune_FreqResp</a> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a87c3fa7ae8c28c81f61318741b2cebf2">freqresp</a>;</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span> </div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno"><a class="line" href="classAC__AutoTune__Heli.html#a760cc913abd3315fbd4fc42bee107c56">  303</a></span>    <a class="code hl_class" href="classChirp.html">Chirp</a> <a class="code hl_variable" href="classAC__AutoTune__Heli.html#a760cc913abd3315fbd4fc42bee107c56">chirp_input</a>;</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>};</div>
</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span> </div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span><span class="preprocessor">#endif  </span><span class="comment">// AC_AUTOTUNE_ENABLED</span></div>
<div class="ttc" id="aAC__AutoTune_8h_html"><div class="ttname"><a href="AC__AutoTune_8h.html">AC_AutoTune.h</a></div></div>
<div class="ttc" id="aAC__AutoTune__config_8h_html"><div class="ttname"><a href="AC__AutoTune__config_8h.html">AC_AutoTune_config.h</a></div></div>
<div class="ttc" id="aAP__Scheduler_8h_html"><div class="ttname"><a href="AP__Scheduler_8h.html">AP_Scheduler.h</a></div></div>
<div class="ttc" id="aGCS_8h_html"><div class="ttname"><a href="GCS_8h.html">GCS.h</a></div><div class="ttdoc">Interface definition for the various Ground Control System.</div></div>
<div class="ttc" id="achirp_8h_html"><div class="ttname"><a href="chirp_8h.html">chirp.h</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html">AC_AutoTune_FreqResp</a></div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00011">AC_AutoTune_FreqResp.h:11</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html"><div class="ttname"><a href="classAC__AutoTune__Heli.html">AC_AutoTune_Heli</a></div><div class="ttdef"><b>Definition</b> <a href="#l00031">AC_AutoTune_Heli.h:32</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a03d240cbe0c90b562b1a2ae0f87a1c83"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a03d240cbe0c90b562b1a2ae0f87a1c83">AC_AutoTune_Heli::filt_tgt_rate_reading</a></div><div class="ttdeci">LowPassFilterFloat filt_tgt_rate_reading</div><div class="ttdef"><b>Definition</b> <a href="#l00267">AC_AutoTune_Heli.h:267</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a03fd4c5ca9e069d3b32ea046ad146611"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a03fd4c5ca9e069d3b32ea046ad146611">AC_AutoTune_Heli::updating_max_gains_all</a></div><div class="ttdeci">void updating_max_gains_all(AxisType test_axis) override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l01285">AC_AutoTune_Heli.cpp:1285</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a07306d20c585139fdcb82e8472800a20"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a07306d20c585139fdcb82e8472800a20">AC_AutoTune_Heli::trim_meas_rate</a></div><div class="ttdeci">float trim_meas_rate</div><div class="ttdef"><b>Definition</b> <a href="#l00253">AC_AutoTune_Heli.h:253</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a09f00689b08fa53dd8eab10d5ca7a4e9"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a09f00689b08fa53dd8eab10d5ca7a4e9">AC_AutoTune_Heli::AC_AutoTune_Heli</a></div><div class="ttdeci">AC_AutoTune_Heli()</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l00111">AC_AutoTune_Heli.cpp:111</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a0b4a5ef0f8e568e311198ec52770d1a9"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a0b4a5ef0f8e568e311198ec52770d1a9">AC_AutoTune_Heli::dwell_test_run</a></div><div class="ttdeci">void dwell_test_run(uint8_t freq_resp_input, float start_frq, float stop_frq, float &amp;dwell_gain, float &amp;dwell_phase, DwellType dwell_type)</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l00950">AC_AutoTune_Heli.cpp:950</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a0fb2e627a1c2c4f470b6b95289fe2d2a"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a0fb2e627a1c2c4f470b6b95289fe2d2a">AC_AutoTune_Heli::trim_command</a></div><div class="ttdeci">float trim_command</div><div class="ttdef"><b>Definition</b> <a href="#l00271">AC_AutoTune_Heli.h:271</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a0ff6782729ee915e99e2b3c3f3de258e"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a0ff6782729ee915e99e2b3c3f3de258e">AC_AutoTune_Heli::reset_maxgains_update_gain_variables</a></div><div class="ttdeci">void reset_maxgains_update_gain_variables()</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l01884">AC_AutoTune_Heli.cpp:1884</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a12bc04b1d34f5e542b56fdc7533b7e57"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a12bc04b1d34f5e542b56fdc7533b7e57">AC_AutoTune_Heli::start_angles</a></div><div class="ttdeci">Vector3f start_angles</div><div class="ttdef"><b>Definition</b> <a href="#l00249">AC_AutoTune_Heli.h:249</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a13997db00069868aa0e409e7799b60e8"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a13997db00069868aa0e409e7799b60e8">AC_AutoTune_Heli::updating_angle_p_up_all</a></div><div class="ttdeci">void updating_angle_p_up_all(AxisType test_axis) override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l01266">AC_AutoTune_Heli.cpp:1266</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a166399159373f7f885562efc88d89bbf"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a166399159373f7f885562efc88d89bbf">AC_AutoTune_Heli::filt_command_reading</a></div><div class="ttdeci">LowPassFilterFloat filt_command_reading</div><div class="ttdef"><b>Definition</b> <a href="#l00265">AC_AutoTune_Heli.h:265</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a17e7e2f554e944c6ddf018c0ddbf1d05"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a17e7e2f554e944c6ddf018c0ddbf1d05">AC_AutoTune_Heli::dwell_start_time_ms</a></div><div class="ttdeci">float dwell_start_time_ms</div><div class="ttdef"><b>Definition</b> <a href="#l00238">AC_AutoTune_Heli.h:238</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a1ebf93793397d70df71b631f2aeb92a5"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a1ebf93793397d70df71b631f2aeb92a5">AC_AutoTune_Heli::rp_prev_good_frq_cnt</a></div><div class="ttdeci">uint8_t rp_prev_good_frq_cnt</div><div class="ttdef"><b>Definition</b> <a href="#l00221">AC_AutoTune_Heli.h:221</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a24c218fc3981df6c9ec22d67ad8af044"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a24c218fc3981df6c9ec22d67ad8af044">AC_AutoTune_Heli::do_post_test_gcs_announcements</a></div><div class="ttdeci">void do_post_test_gcs_announcements() override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l00323">AC_AutoTune_Heli.cpp:323</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a31dbce97518af5ccff61c551f04a136a"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a31dbce97518af5ccff61c551f04a136a">AC_AutoTune_Heli::target_rate_filt</a></div><div class="ttdeci">LowPassFilterFloat target_rate_filt</div><div class="ttdef"><b>Definition</b> <a href="#l00276">AC_AutoTune_Heli.h:276</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a34179f328be78eefae7e4037ddf46947"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a34179f328be78eefae7e4037ddf46947">AC_AutoTune_Heli::rd_prev_good_frq_cnt</a></div><div class="ttdeci">uint8_t rd_prev_good_frq_cnt</div><div class="ttdef"><b>Definition</b> <a href="#l00225">AC_AutoTune_Heli.h:225</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a367a87f708658774044f77a7987a25af"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a367a87f708658774044f77a7987a25af">AC_AutoTune_Heli::filt_pit_roll_cd</a></div><div class="ttdeci">LowPassFilterVector2f filt_pit_roll_cd</div><div class="ttdef"><b>Definition</b> <a href="#l00262">AC_AutoTune_Heli.h:262</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a3a9474e2033b2af4961355cf32a9280a"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a3a9474e2033b2af4961355cf32a9280a">AC_AutoTune_Heli::angle_request_cd</a></div><div class="ttdeci">LowPassFilterFloat angle_request_cd</div><div class="ttdef"><b>Definition</b> <a href="#l00259">AC_AutoTune_Heli.h:259</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a3ba294c5dd5856c7802f2546541ebda1"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a3ba294c5dd5856c7802f2546541ebda1">AC_AutoTune_Heli::phase_out_time</a></div><div class="ttdeci">uint32_t phase_out_time</div><div class="ttdef"><b>Definition</b> <a href="#l00251">AC_AutoTune_Heli.h:251</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a3e1970bbf9d38685cd73fce245362812"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a3e1970bbf9d38685cd73fce245362812">AC_AutoTune_Heli::rate_ff_test_init</a></div><div class="ttdeci">void rate_ff_test_init()</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l00694">AC_AutoTune_Heli.cpp:694</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a4277b5d67bc4cb8e7d8d421984849c0d"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a4277b5d67bc4cb8e7d8d421984849c0d">AC_AutoTune_Heli::updating_rate_p_up</a></div><div class="ttdeci">void updating_rate_p_up(float &amp;tune_p, float *freq, float *gain, float *phase, uint8_t &amp;frq_cnt, max_gain_data &amp;max_gain_p)</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l01406">AC_AutoTune_Heli.cpp:1406</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a43f1fe688f01fa1d19b0c1161efb881d"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a43f1fe688f01fa1d19b0c1161efb881d">AC_AutoTune_Heli::updating_angle_p_down_all</a></div><div class="ttdeci">void updating_angle_p_down_all(AxisType test_axis) override</div><div class="ttdef"><b>Definition</b> <a href="#l00095">AC_AutoTune_Heli.h:95</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a44b3391933543eacfcdad7abcf922157"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a44b3391933543eacfcdad7abcf922157">AC_AutoTune_Heli::load_intra_test_gains</a></div><div class="ttdeci">void load_intra_test_gains() override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l00487">AC_AutoTune_Heli.cpp:487</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a45b5c903a96b471ad45dd972b8bed4b1"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a45b5c903a96b471ad45dd972b8bed4b1">AC_AutoTune_Heli::filt_target_rate</a></div><div class="ttdeci">float filt_target_rate</div><div class="ttdef"><b>Definition</b> <a href="#l00234">AC_AutoTune_Heli.h:234</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a4833595f5105f24a4c59a969bc34f39b"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a4833595f5105f24a4c59a969bc34f39b">AC_AutoTune_Heli::sweep_time_ms</a></div><div class="ttdeci">const float sweep_time_ms</div><div class="ttdef"><b>Definition</b> <a href="#l00289">AC_AutoTune_Heli.h:289</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a4bfbb1905ef40efc766d51713e5792ff"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a4bfbb1905ef40efc766d51713e5792ff">AC_AutoTune_Heli::max_resp_gain</a></div><div class="ttdeci">AP_Float max_resp_gain</div><div class="ttdef"><b>Definition</b> <a href="#l00297">AC_AutoTune_Heli.h:297</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a4fa5225d8f4bf529dd0be39a239cfdf8"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a4fa5225d8f4bf529dd0be39a239cfdf8">AC_AutoTune_Heli::DwellType</a></div><div class="ttdeci">DwellType</div><div class="ttdef"><b>Definition</b> <a href="#l00153">AC_AutoTune_Heli.h:153</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a4fa5225d8f4bf529dd0be39a239cfdf8a3e218befbb32a6021da949706ff5c2b0"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a4fa5225d8f4bf529dd0be39a239cfdf8a3e218befbb32a6021da949706ff5c2b0">AC_AutoTune_Heli::RATE</a></div><div class="ttdeci">@ RATE</div><div class="ttdef"><b>Definition</b> <a href="#l00154">AC_AutoTune_Heli.h:154</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a4fa5225d8f4bf529dd0be39a239cfdf8ab3ed8b9c4c34573b5ae256265e9c2517"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a4fa5225d8f4bf529dd0be39a239cfdf8ab3ed8b9c4c34573b5ae256265e9c2517">AC_AutoTune_Heli::DRB</a></div><div class="ttdeci">@ DRB</div><div class="ttdef"><b>Definition</b> <a href="#l00156">AC_AutoTune_Heli.h:156</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a4fa5225d8f4bf529dd0be39a239cfdf8afb37a88b8565cb3555252f256a16767f"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a4fa5225d8f4bf529dd0be39a239cfdf8afb37a88b8565cb3555252f256a16767f">AC_AutoTune_Heli::ANGLE</a></div><div class="ttdeci">@ ANGLE</div><div class="ttdef"><b>Definition</b> <a href="#l00155">AC_AutoTune_Heli.h:155</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a523d503e13a1e032d2bf063aef736093"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a523d503e13a1e032d2bf063aef736093">AC_AutoTune_Heli::set_gains_post_tune</a></div><div class="ttdeci">void set_gains_post_tune(AxisType test_axis) override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l01309">AC_AutoTune_Heli.cpp:1309</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a53e8234f8524721f85da0112878543d3"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a53e8234f8524721f85da0112878543d3">AC_AutoTune_Heli::trim_heading</a></div><div class="ttdeci">float trim_heading</div><div class="ttdef"><b>Definition</b> <a href="#l00257">AC_AutoTune_Heli.h:257</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a569f1d90be03dcc250a94b0d9a23545d"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a569f1d90be03dcc250a94b0d9a23545d">AC_AutoTune_Heli::sweep</a></div><div class="ttdeci">sweep_data sweep</div><div class="ttdef"><b>Definition</b> <a href="#l00286">AC_AutoTune_Heli.h:286</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a581fd3200d08720e87bb6fb6fe7ee301"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a581fd3200d08720e87bb6fb6fe7ee301">AC_AutoTune_Heli::test_run</a></div><div class="ttdeci">void test_run(AxisType test_axis, const float dir_sign) override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l00234">AC_AutoTune_Heli.cpp:234</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a59e4416f54d0a080f1c13b02ec50dd25"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a59e4416f54d0a080f1c13b02ec50dd25">AC_AutoTune_Heli::test_phase</a></div><div class="ttdeci">float test_phase[20]</div><div class="ttdef"><b>Definition</b> <a href="#l00237">AC_AutoTune_Heli.h:237</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a5e8232f165ceafd37564643f8296518a"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a5e8232f165ceafd37564643f8296518a">AC_AutoTune_Heli::max_sweep_freq</a></div><div class="ttdeci">AP_Float max_sweep_freq</div><div class="ttdef"><b>Definition</b> <a href="#l00296">AC_AutoTune_Heli.h:296</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a5f0e443c19b4a31608a0b14af12e7c1b"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a5f0e443c19b4a31608a0b14af12e7c1b">AC_AutoTune_Heli::first_dir_complete</a></div><div class="ttdeci">bool first_dir_complete</div><div class="ttdef"><b>Definition</b> <a href="#l00199">AC_AutoTune_Heli.h:199</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a62d343838ecb85e1400e6d6770e6f6c9"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a62d343838ecb85e1400e6d6770e6f6c9">AC_AutoTune_Heli::reset_update_gain_variables</a></div><div class="ttdeci">void reset_update_gain_variables() override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l01860">AC_AutoTune_Heli.cpp:1860</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a67f9abab43ff7ebda72f334a46cc5ef9"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a67f9abab43ff7ebda72f334a46cc5ef9">AC_AutoTune_Heli::updating_rate_d_up_all</a></div><div class="ttdeci">void updating_rate_d_up_all(AxisType test_axis) override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l01228">AC_AutoTune_Heli.cpp:1228</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a68f21852a16d47a53995e8fa25f9d98b"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a68f21852a16d47a53995e8fa25f9d98b">AC_AutoTune_Heli::found_max_p</a></div><div class="ttdeci">bool found_max_p</div><div class="ttdef"><b>Definition</b> <a href="#l00205">AC_AutoTune_Heli.h:205</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a6b7b42efb5710787ae36743918461945"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a6b7b42efb5710787ae36743918461945">AC_AutoTune_Heli::get_axis_bitmask</a></div><div class="ttdeci">uint8_t get_axis_bitmask() const override</div><div class="ttdef"><b>Definition</b> <a href="#l00133">AC_AutoTune_Heli.h:133</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a6e01d4c0893059b59d07cd812ba78fa4"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a6e01d4c0893059b59d07cd812ba78fa4">AC_AutoTune_Heli::max_rate_p</a></div><div class="ttdeci">max_gain_data max_rate_p</div><div class="ttdef"><b>Definition</b> <a href="#l00148">AC_AutoTune_Heli.h:148</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a6e55c7c00c27d6a697e8fbd65904e205"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a6e55c7c00c27d6a697e8fbd65904e205">AC_AutoTune_Heli::test_freq</a></div><div class="ttdeci">float test_freq[20]</div><div class="ttdef"><b>Definition</b> <a href="#l00236">AC_AutoTune_Heli.h:236</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a760cc913abd3315fbd4fc42bee107c56"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a760cc913abd3315fbd4fc42bee107c56">AC_AutoTune_Heli::chirp_input</a></div><div class="ttdeci">Chirp chirp_input</div><div class="ttdef"><b>Definition</b> <a href="#l00303">AC_AutoTune_Heli.h:303</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a7e9b39f876c3352326e32ad7cbf39063"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a7e9b39f876c3352326e32ad7cbf39063">AC_AutoTune_Heli::exceeded_freq_range</a></div><div class="ttdeci">bool exceeded_freq_range(float frequency)</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l01944">AC_AutoTune_Heli.cpp:1944</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a7f893082b0d019ca085e6a1c4fa8c1fe"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a7f893082b0d019ca085e6a1c4fa8c1fe">AC_AutoTune_Heli::test_tgt_rate_filt</a></div><div class="ttdeci">float test_tgt_rate_filt</div><div class="ttdef"><b>Definition</b> <a href="#l00233">AC_AutoTune_Heli.h:233</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a80a1b0cc09c9c3683c8d4381296689a3"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a80a1b0cc09c9c3683c8d4381296689a3">AC_AutoTune_Heli::updating_rate_d_down_all</a></div><div class="ttdeci">void updating_rate_d_down_all(AxisType test_axis) override</div><div class="ttdef"><b>Definition</b> <a href="#l00086">AC_AutoTune_Heli.h:86</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a81731ba9f596199d2693c5edda3a75bb"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a81731ba9f596199d2693c5edda3a75bb">AC_AutoTune_Heli::settle_time</a></div><div class="ttdeci">uint32_t settle_time</div><div class="ttdef"><b>Definition</b> <a href="#l00250">AC_AutoTune_Heli.h:250</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a83ba37c1cc37d6a8d6858b89d707f4fa"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a83ba37c1cc37d6a8d6858b89d707f4fa">AC_AutoTune_Heli::found_max_d</a></div><div class="ttdeci">bool found_max_d</div><div class="ttdef"><b>Definition</b> <a href="#l00207">AC_AutoTune_Heli.h:207</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a8565600642cfee3a5b755726d9bc0f73"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a8565600642cfee3a5b755726d9bc0f73">AC_AutoTune_Heli::twitch_reverse_direction</a></div><div class="ttdeci">bool twitch_reverse_direction() override</div><div class="ttdef"><b>Definition</b> <a href="#l00104">AC_AutoTune_Heli.h:104</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a85716fc1cd0464b617e3104f2db8b547"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a85716fc1cd0464b617e3104f2db8b547">AC_AutoTune_Heli::axis_bitmask</a></div><div class="ttdeci">AP_Int8 axis_bitmask</div><div class="ttdef"><b>Definition</b> <a href="#l00293">AC_AutoTune_Heli.h:293</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a87c3fa7ae8c28c81f61318741b2cebf2"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a87c3fa7ae8c28c81f61318741b2cebf2">AC_AutoTune_Heli::freqresp</a></div><div class="ttdeci">AC_AutoTune_FreqResp freqresp</div><div class="ttdef"><b>Definition</b> <a href="#l00301">AC_AutoTune_Heli.h:301</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a896f9586792bdc0e368a2168e5b5b30a"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a896f9586792bdc0e368a2168e5b5b30a">AC_AutoTune_Heli::report_final_gains</a></div><div class="ttdeci">void report_final_gains(AxisType test_axis) const override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l00669">AC_AutoTune_Heli.cpp:669</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a91327bf1b46a22d7e04e23e9d205549e"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a91327bf1b46a22d7e04e23e9d205549e">AC_AutoTune_Heli::curr_test</a></div><div class="ttdeci">sweep_info curr_test</div><div class="ttdef"><b>Definition</b> <a href="#l00247">AC_AutoTune_Heli.h:247</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a9733f5a3ee7c254d16b9883d7a4d4d76"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a9733f5a3ee7c254d16b9883d7a4d4d76">AC_AutoTune_Heli::reset_vehicle_test_variables</a></div><div class="ttdeci">void reset_vehicle_test_variables() override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l01849">AC_AutoTune_Heli.cpp:1849</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a9a8d1a1fc00366d6964f01951767accd"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a9a8d1a1fc00366d6964f01951767accd">AC_AutoTune_Heli::save_tuning_gains</a></div><div class="ttdeci">void save_tuning_gains() override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l00595">AC_AutoTune_Heli.cpp:595</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a9b25734c4f9ab33da6f10fa258b792ed"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a9b25734c4f9ab33da6f10fa258b792ed">AC_AutoTune_Heli::filt_att_fdbk_from_velxy_cd</a></div><div class="ttdeci">LowPassFilterVector2f filt_att_fdbk_from_velxy_cd</div><div class="ttdef"><b>Definition</b> <a href="#l00264">AC_AutoTune_Heli.h:264</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a9c135efcd591da91b69b32cbdc37ed00"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a9c135efcd591da91b69b32cbdc37ed00">AC_AutoTune_Heli::load_tuned_gains</a></div><div class="ttdeci">void load_tuned_gains() override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l00465">AC_AutoTune_Heli.cpp:465</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a9c2606fa93c53ecb89b4aa4c26c8545a"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a9c2606fa93c53ecb89b4aa4c26c8545a">AC_AutoTune_Heli::do_gcs_announcements</a></div><div class="ttdeci">void do_gcs_announcements() override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l00291">AC_AutoTune_Heli.cpp:291</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a9e4829910362301dae7313389c2f8e40"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a9e4829910362301dae7313389c2f8e40">AC_AutoTune_Heli::trim_yaw_heading_reading</a></div><div class="ttdeci">float trim_yaw_heading_reading</div><div class="ttdef"><b>Definition</b> <a href="#l00273">AC_AutoTune_Heli.h:273</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_a9f2738649bef4d4f186a5976c85a02f8"><div class="ttname"><a href="classAC__AutoTune__Heli.html#a9f2738649bef4d4f186a5976c85a02f8">AC_AutoTune_Heli::report_axis_gains</a></div><div class="ttdeci">void report_axis_gains(const char *axis_string, float rate_P, float rate_I, float rate_D, float rate_ff, float angle_P, float max_accel) const</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l00686">AC_AutoTune_Heli.cpp:686</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_aa330dc948b12cc0fc815d00e707454ba"><div class="ttname"><a href="classAC__AutoTune__Heli.html#aa330dc948b12cc0fc815d00e707454ba">AC_AutoTune_Heli::dwell_test_init</a></div><div class="ttdeci">void dwell_test_init(float start_frq, float stop_frq, float filt_freq, DwellType dwell_type)</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l00890">AC_AutoTune_Heli.cpp:890</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_aa4f00efc813dcc08a7acc889441b5ba2"><div class="ttname"><a href="classAC__AutoTune__Heli.html#aa4f00efc813dcc08a7acc889441b5ba2">AC_AutoTune_Heli::updating_max_gains</a></div><div class="ttdeci">void updating_max_gains(float *freq, float *gain, float *phase, uint8_t &amp;frq_cnt, max_gain_data &amp;max_gain_p, max_gain_data &amp;max_gain_d, float &amp;tune_p, float &amp;tune_d)</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l01622">AC_AutoTune_Heli.cpp:1622</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_aa68cfb13c1b93811e6e59119fded6c90"><div class="ttname"><a href="classAC__AutoTune__Heli.html#aa68cfb13c1b93811e6e59119fded6c90">AC_AutoTune_Heli::filt_gyro_reading</a></div><div class="ttdeci">LowPassFilterFloat filt_gyro_reading</div><div class="ttdef"><b>Definition</b> <a href="#l00266">AC_AutoTune_Heli.h:266</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_aae8c9ce7634d655193ed39695c237526"><div class="ttname"><a href="classAC__AutoTune__Heli.html#aae8c9ce7634d655193ed39695c237526">AC_AutoTune_Heli::get_testing_step_timeout_ms</a></div><div class="ttdeci">uint32_t get_testing_step_timeout_ms() const override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l01938">AC_AutoTune_Heli.cpp:1938</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_ab2b658dcbc94930f7a0782ae3fd5143d"><div class="ttname"><a href="classAC__AutoTune__Heli.html#ab2b658dcbc94930f7a0782ae3fd5143d">AC_AutoTune_Heli::test_rate_filt</a></div><div class="ttdeci">float test_rate_filt</div><div class="ttdef"><b>Definition</b> <a href="#l00231">AC_AutoTune_Heli.h:231</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_ab3da60dce12d4fee034c3f29ae5095fb"><div class="ttname"><a href="classAC__AutoTune__Heli.html#ab3da60dce12d4fee034c3f29ae5095fb">AC_AutoTune_Heli::test_command_filt</a></div><div class="ttdeci">float test_command_filt</div><div class="ttdef"><b>Definition</b> <a href="#l00230">AC_AutoTune_Heli.h:230</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_ab9a2e58f767ac0346fd3c7fcb6becdc6"><div class="ttname"><a href="classAC__AutoTune__Heli.html#ab9a2e58f767ac0346fd3c7fcb6becdc6">AC_AutoTune_Heli::phase_max</a></div><div class="ttdeci">float phase_max</div><div class="ttdef"><b>Definition</b> <a href="#l00213">AC_AutoTune_Heli.h:213</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_ac315b67e53592aecab53d4d728733a5c"><div class="ttname"><a href="classAC__AutoTune__Heli.html#ac315b67e53592aecab53d4d728733a5c">AC_AutoTune_Heli::max_rate_d</a></div><div class="ttdeci">max_gain_data max_rate_d</div><div class="ttdef"><b>Definition</b> <a href="#l00150">AC_AutoTune_Heli.h:150</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_ac4e59ecc5bb7fd291df5b8482b50e790"><div class="ttname"><a href="classAC__AutoTune__Heli.html#ac4e59ecc5bb7fd291df5b8482b50e790">AC_AutoTune_Heli::updating_rate_p_up_all</a></div><div class="ttdeci">void updating_rate_p_up_all(AxisType test_axis) override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l01211">AC_AutoTune_Heli.cpp:1211</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_ac5f5fffe0e536b56f65f482d5673c541"><div class="ttname"><a href="classAC__AutoTune__Heli.html#ac5f5fffe0e536b56f65f482d5673c541">AC_AutoTune_Heli::set_tune_sequence</a></div><div class="ttdeci">void set_tune_sequence() override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l01905">AC_AutoTune_Heli.cpp:1905</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_aca584a7982e7bbf4c2eedf99f8157def"><div class="ttname"><a href="classAC__AutoTune__Heli.html#aca584a7982e7bbf4c2eedf99f8157def">AC_AutoTune_Heli::trim_command_reading</a></div><div class="ttdeci">float trim_command_reading</div><div class="ttdef"><b>Definition</b> <a href="#l00256">AC_AutoTune_Heli.h:256</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_acb64ba8b3acef9d9c21a0d5d65ea6873"><div class="ttname"><a href="classAC__AutoTune__Heli.html#acb64ba8b3acef9d9c21a0d5d65ea6873">AC_AutoTune_Heli::command_filt</a></div><div class="ttdeci">LowPassFilterFloat command_filt</div><div class="ttdef"><b>Definition</b> <a href="#l00275">AC_AutoTune_Heli.h:275</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_acc0fba65e97d6ed65f99fc05286065f9"><div class="ttname"><a href="classAC__AutoTune__Heli.html#acc0fba65e97d6ed65f99fc05286065f9">AC_AutoTune_Heli::rate_request_cds</a></div><div class="ttdeci">LowPassFilterFloat rate_request_cds</div><div class="ttdef"><b>Definition</b> <a href="#l00258">AC_AutoTune_Heli.h:258</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_ace7463c5fac4d440a80d330766686d7b"><div class="ttname"><a href="classAC__AutoTune__Heli.html#ace7463c5fac4d440a80d330766686d7b">AC_AutoTune_Heli::find_middle</a></div><div class="ttdeci">bool find_middle</div><div class="ttdef"><b>Definition</b> <a href="#l00209">AC_AutoTune_Heli.h:209</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_ad008a2b701b9e843bf782a42aafef441"><div class="ttname"><a href="classAC__AutoTune__Heli.html#ad008a2b701b9e843bf782a42aafef441">AC_AutoTune_Heli::freq_cnt_max</a></div><div class="ttdeci">uint8_t freq_cnt_max</div><div class="ttdef"><b>Definition</b> <a href="#l00239">AC_AutoTune_Heli.h:239</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_ad1937bd0fefb79633ece02d9f227bbd8"><div class="ttname"><a href="classAC__AutoTune__Heli.html#ad1937bd0fefb79633ece02d9f227bbd8">AC_AutoTune_Heli::first_dir_rff</a></div><div class="ttdeci">float first_dir_rff</div><div class="ttdef"><b>Definition</b> <a href="#l00201">AC_AutoTune_Heli.h:201</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_ad1a558eaab01d80c4e72377694696966"><div class="ttname"><a href="classAC__AutoTune__Heli.html#ad1a558eaab01d80c4e72377694696966">AC_AutoTune_Heli::updating_rate_d_up</a></div><div class="ttdeci">void updating_rate_d_up(float &amp;tune_d, float *freq, float *gain, float *phase, uint8_t &amp;frq_cnt, max_gain_data &amp;max_gain_d)</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l01458">AC_AutoTune_Heli.cpp:1458</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_ad327db4a0ef1dfa5b7b2d29622d50921"><div class="ttname"><a href="classAC__AutoTune__Heli.html#ad327db4a0ef1dfa5b7b2d29622d50921">AC_AutoTune_Heli::updating_rate_ff_up</a></div><div class="ttdeci">void updating_rate_ff_up(float &amp;tune_ff, float rate_target, float meas_rate, float meas_command)</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l01363">AC_AutoTune_Heli.cpp:1363</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_ad6258ef563283b567ef4fe11fa4204e2"><div class="ttname"><a href="classAC__AutoTune__Heli.html#ad6258ef563283b567ef4fe11fa4204e2">AC_AutoTune_Heli::trim_yaw_tgt_reading</a></div><div class="ttdeci">float trim_yaw_tgt_reading</div><div class="ttdef"><b>Definition</b> <a href="#l00272">AC_AutoTune_Heli.h:272</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_ad84003c3e324eb94e02b478b0c26c931"><div class="ttname"><a href="classAC__AutoTune__Heli.html#ad84003c3e324eb94e02b478b0c26c931">AC_AutoTune_Heli::load_orig_gains</a></div><div class="ttdeci">void load_orig_gains() override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l00450">AC_AutoTune_Heli.cpp:450</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_ada556736f4a241a2c5eb963172c69df6"><div class="ttname"><a href="classAC__AutoTune__Heli.html#ada556736f4a241a2c5eb963172c69df6">AC_AutoTune_Heli::min_sweep_freq</a></div><div class="ttdeci">AP_Float min_sweep_freq</div><div class="ttdef"><b>Definition</b> <a href="#l00295">AC_AutoTune_Heli.h:295</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_ae42e6d198721a81bde8b8e2ec4f2c790"><div class="ttname"><a href="classAC__AutoTune__Heli.html#ae42e6d198721a81bde8b8e2ec4f2c790">AC_AutoTune_Heli::reset_sweep_variables</a></div><div class="ttdeci">void reset_sweep_variables()</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l01895">AC_AutoTune_Heli.cpp:1895</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_ae4f0684ddb2081516f8bd34aea2f742f"><div class="ttname"><a href="classAC__AutoTune__Heli.html#ae4f0684ddb2081516f8bd34aea2f742f">AC_AutoTune_Heli::rate_ff_test_run</a></div><div class="ttdeci">void rate_ff_test_run(float max_angle_cds, float target_rate_cds, float dir_sign)</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l00715">AC_AutoTune_Heli.cpp:715</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_ae899df8b741061462117377d14ca2b5f"><div class="ttname"><a href="classAC__AutoTune__Heli.html#ae899df8b741061462117377d14ca2b5f">AC_AutoTune_Heli::seq_bitmask</a></div><div class="ttdeci">AP_Int8 seq_bitmask</div><div class="ttdef"><b>Definition</b> <a href="#l00294">AC_AutoTune_Heli.h:294</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_ae8a16c31cfe575c9e7528b57430911df"><div class="ttname"><a href="classAC__AutoTune__Heli.html#ae8a16c31cfe575c9e7528b57430911df">AC_AutoTune_Heli::test_gain</a></div><div class="ttdeci">float test_gain[20]</div><div class="ttdef"><b>Definition</b> <a href="#l00235">AC_AutoTune_Heli.h:235</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_aea94968e29187b913750b53fc4d0383d"><div class="ttname"><a href="classAC__AutoTune__Heli.html#aea94968e29187b913750b53fc4d0383d">AC_AutoTune_Heli::filt_heading_error_cd</a></div><div class="ttdeci">LowPassFilterFloat filt_heading_error_cd</div><div class="ttdef"><b>Definition</b> <a href="#l00263">AC_AutoTune_Heli.h:263</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_aeca6f1a1af2da29008c56faddd9d647a"><div class="ttname"><a href="classAC__AutoTune__Heli.html#aeca6f1a1af2da29008c56faddd9d647a">AC_AutoTune_Heli::vel_hold_gain</a></div><div class="ttdeci">AP_Float vel_hold_gain</div><div class="ttdef"><b>Definition</b> <a href="#l00298">AC_AutoTune_Heli.h:298</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_aecda73b0ee09339ec38bbdd0c25bc967"><div class="ttname"><a href="classAC__AutoTune__Heli.html#aecda73b0ee09339ec38bbdd0c25bc967">AC_AutoTune_Heli::rd_prev_gain</a></div><div class="ttdeci">float rd_prev_gain</div><div class="ttdef"><b>Definition</b> <a href="#l00227">AC_AutoTune_Heli.h:227</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_aed31e91d609992a7bc57c7deafe38586"><div class="ttname"><a href="classAC__AutoTune__Heli.html#aed31e91d609992a7bc57c7deafe38586">AC_AutoTune_Heli::trim_pff_out</a></div><div class="ttdeci">float trim_pff_out</div><div class="ttdef"><b>Definition</b> <a href="#l00252">AC_AutoTune_Heli.h:252</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_aed51cbff4095a356bc6940f9de92b385"><div class="ttname"><a href="classAC__AutoTune__Heli.html#aed51cbff4095a356bc6940f9de92b385">AC_AutoTune_Heli::updating_angle_p_up</a></div><div class="ttdeci">void updating_angle_p_up(float &amp;tune_p, float *freq, float *gain, float *phase, uint8_t &amp;frq_cnt)</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l01525">AC_AutoTune_Heli.cpp:1525</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_aedbf8216f99bf2f47aa93726a4da1c7f"><div class="ttname"><a href="classAC__AutoTune__Heli.html#aedbf8216f99bf2f47aa93726a4da1c7f">AC_AutoTune_Heli::updating_rate_ff_up_all</a></div><div class="ttdeci">void updating_rate_ff_up_all(AxisType test_axis) override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l01245">AC_AutoTune_Heli.cpp:1245</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_aef97f4a54680b2d22341ed06fa8d9b25"><div class="ttname"><a href="classAC__AutoTune__Heli.html#aef97f4a54680b2d22341ed06fa8d9b25">AC_AutoTune_Heli::ff_test_phase</a></div><div class="ttdeci">uint8_t ff_test_phase</div><div class="ttdef"><b>Definition</b> <a href="#l00229">AC_AutoTune_Heli.h:229</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_af113e87fc2057fc8d4434eb9620c0c98"><div class="ttname"><a href="classAC__AutoTune__Heli.html#af113e87fc2057fc8d4434eb9620c0c98">AC_AutoTune_Heli::command_out</a></div><div class="ttdeci">float command_out</div><div class="ttdef"><b>Definition</b> <a href="#l00232">AC_AutoTune_Heli.h:232</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_af6c010324c9ac265b7ab2728f03f954c"><div class="ttname"><a href="classAC__AutoTune__Heli.html#af6c010324c9ac265b7ab2728f03f954c">AC_AutoTune_Heli::test_init</a></div><div class="ttdeci">void test_init() override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l00118">AC_AutoTune_Heli.cpp:118</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_af6c811e7b1020a14e2d21cff2ed1f327"><div class="ttname"><a href="classAC__AutoTune__Heli.html#af6c811e7b1020a14e2d21cff2ed1f327">AC_AutoTune_Heli::trim_attitude_cd</a></div><div class="ttdeci">Vector3f trim_attitude_cd</div><div class="ttdef"><b>Definition</b> <a href="#l00270">AC_AutoTune_Heli.h:270</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_af9f5092665c9ac67eac8b8ab0416ea66"><div class="ttname"><a href="classAC__AutoTune__Heli.html#af9f5092665c9ac67eac8b8ab0416ea66">AC_AutoTune_Heli::sp_prev_gain</a></div><div class="ttdeci">float sp_prev_gain</div><div class="ttdef"><b>Definition</b> <a href="#l00215">AC_AutoTune_Heli.h:215</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_afaac46d8c9f2da88472d56bfae3fb8df"><div class="ttname"><a href="classAC__AutoTune__Heli.html#afaac46d8c9f2da88472d56bfae3fb8df">AC_AutoTune_Heli::load_gain_set</a></div><div class="ttdeci">void load_gain_set(AxisType s_axis, float rate_p, float rate_i, float rate_d, float rate_ff, float angle_p, float max_accel, float rate_fltt, float rate_flte, float smax)</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l00555">AC_AutoTune_Heli.cpp:555</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_afb94eb4172fc6e04816afd2ad11e2181"><div class="ttname"><a href="classAC__AutoTune__Heli.html#afb94eb4172fc6e04816afd2ad11e2181">AC_AutoTune_Heli::find_peak</a></div><div class="ttdeci">bool find_peak</div><div class="ttdef"><b>Definition</b> <a href="#l00217">AC_AutoTune_Heli.h:217</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_afc7e02c4e2098f2452baa507b780e71f"><div class="ttname"><a href="classAC__AutoTune__Heli.html#afc7e02c4e2098f2452baa507b780e71f">AC_AutoTune_Heli::load_test_gains</a></div><div class="ttdeci">void load_test_gains() override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l00505">AC_AutoTune_Heli.cpp:505</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__Heli_html_afec312e9f685069bdc8742105dfcdf5a"><div class="ttname"><a href="classAC__AutoTune__Heli.html#afec312e9f685069bdc8742105dfcdf5a">AC_AutoTune_Heli::backup_gains_and_initialise</a></div><div class="ttdeci">void backup_gains_and_initialise() override</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__Heli_8cpp_source.html#l00389">AC_AutoTune_Heli.cpp:389</a></div></div>
<div class="ttc" id="aclassAC__AutoTune_html"><div class="ttname"><a href="classAC__AutoTune.html">AC_AutoTune</a></div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune_8h_source.html#l00051">AC_AutoTune.h:52</a></div></div>
<div class="ttc" id="aclassAC__AutoTune_html_a1081e97e5362430ac5432a3043f1e3f0"><div class="ttname"><a href="classAC__AutoTune.html#a1081e97e5362430ac5432a3043f1e3f0">AC_AutoTune::AxisType</a></div><div class="ttdeci">AxisType</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune_8h_source.html#l00074">AC_AutoTune.h:74</a></div></div>
<div class="ttc" id="aclassAC__AutoTune_html_a28831c9aa3aa548bf93880161ab390bc"><div class="ttname"><a href="classAC__AutoTune.html#a28831c9aa3aa548bf93880161ab390bc">AC_AutoTune::positive_direction</a></div><div class="ttdeci">bool positive_direction</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune_8h_source.html#l00263">AC_AutoTune.h:263</a></div></div>
<div class="ttc" id="aclassAC__AutoTune_html_ab408486b00a60d5a6e6b952287c14a29"><div class="ttname"><a href="classAC__AutoTune.html#ab408486b00a60d5a6e6b952287c14a29">AC_AutoTune::axis_string</a></div><div class="ttdeci">const char * axis_string() const</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune_8cpp_source.html#l00172">AC_AutoTune.cpp:172</a></div></div>
<div class="ttc" id="aclassChirp_html"><div class="ttname"><a href="classChirp.html">Chirp</a></div><div class="ttdef"><b>Definition</b> <a href="chirp_8h_source.html#l00003">chirp.h:3</a></div></div>
<div class="ttc" id="aclassLowPassFilter_html"><div class="ttname"><a href="classLowPassFilter.html">LowPassFilter&lt; float &gt;</a></div></div>
<div class="ttc" id="aclassVector3_html"><div class="ttname"><a href="classVector3.html">Vector3&lt; float &gt;</a></div></div>
<div class="ttc" id="astructAC__AutoTune__Heli_1_1max__gain__data_html"><div class="ttname"><a href="structAC__AutoTune__Heli_1_1max__gain__data.html">AC_AutoTune_Heli::max_gain_data</a></div><div class="ttdef"><b>Definition</b> <a href="#l00140">AC_AutoTune_Heli.h:140</a></div></div>
<div class="ttc" id="astructAC__AutoTune__Heli_1_1max__gain__data_html_a2bccab984d51c08324af0e746777ffb7"><div class="ttname"><a href="structAC__AutoTune__Heli_1_1max__gain__data.html#a2bccab984d51c08324af0e746777ffb7">AC_AutoTune_Heli::max_gain_data::freq</a></div><div class="ttdeci">float freq</div><div class="ttdef"><b>Definition</b> <a href="#l00141">AC_AutoTune_Heli.h:141</a></div></div>
<div class="ttc" id="astructAC__AutoTune__Heli_1_1max__gain__data_html_a61d9b776b5ae056952876b353fbe0948"><div class="ttname"><a href="structAC__AutoTune__Heli_1_1max__gain__data.html#a61d9b776b5ae056952876b353fbe0948">AC_AutoTune_Heli::max_gain_data::gain</a></div><div class="ttdeci">float gain</div><div class="ttdef"><b>Definition</b> <a href="#l00143">AC_AutoTune_Heli.h:143</a></div></div>
<div class="ttc" id="astructAC__AutoTune__Heli_1_1max__gain__data_html_a8ba7d1071debf84aa62c22a2025b30d5"><div class="ttname"><a href="structAC__AutoTune__Heli_1_1max__gain__data.html#a8ba7d1071debf84aa62c22a2025b30d5">AC_AutoTune_Heli::max_gain_data::phase</a></div><div class="ttdeci">float phase</div><div class="ttdef"><b>Definition</b> <a href="#l00142">AC_AutoTune_Heli.h:142</a></div></div>
<div class="ttc" id="astructAC__AutoTune__Heli_1_1max__gain__data_html_aa08e3395a3465bb4d7cbd750bbdc8706"><div class="ttname"><a href="structAC__AutoTune__Heli_1_1max__gain__data.html#aa08e3395a3465bb4d7cbd750bbdc8706">AC_AutoTune_Heli::max_gain_data::max_allowed</a></div><div class="ttdeci">float max_allowed</div><div class="ttdef"><b>Definition</b> <a href="#l00144">AC_AutoTune_Heli.h:144</a></div></div>
<div class="ttc" id="astructAC__AutoTune__Heli_1_1sweep__data_html"><div class="ttname"><a href="structAC__AutoTune__Heli_1_1sweep__data.html">AC_AutoTune_Heli::sweep_data</a></div><div class="ttdef"><b>Definition</b> <a href="#l00279">AC_AutoTune_Heli.h:279</a></div></div>
<div class="ttc" id="astructAC__AutoTune__Heli_1_1sweep__data_html_a5262b184ca2313b8da3602fbe928fbee"><div class="ttname"><a href="structAC__AutoTune__Heli_1_1sweep__data.html#a5262b184ca2313b8da3602fbe928fbee">AC_AutoTune_Heli::sweep_data::ph180</a></div><div class="ttdeci">sweep_info ph180</div><div class="ttdef"><b>Definition</b> <a href="#l00281">AC_AutoTune_Heli.h:281</a></div></div>
<div class="ttc" id="astructAC__AutoTune__Heli_1_1sweep__data_html_a531df29170bff692a4dbb2fffd1e72d2"><div class="ttname"><a href="structAC__AutoTune__Heli_1_1sweep__data.html#a531df29170bff692a4dbb2fffd1e72d2">AC_AutoTune_Heli::sweep_data::ph270</a></div><div class="ttdeci">sweep_info ph270</div><div class="ttdef"><b>Definition</b> <a href="#l00282">AC_AutoTune_Heli.h:282</a></div></div>
<div class="ttc" id="astructAC__AutoTune__Heli_1_1sweep__data_html_a7643351a6ef86e4251d7054e9bac3cd9"><div class="ttname"><a href="structAC__AutoTune__Heli_1_1sweep__data.html#a7643351a6ef86e4251d7054e9bac3cd9">AC_AutoTune_Heli::sweep_data::maxgain</a></div><div class="ttdeci">sweep_info maxgain</div><div class="ttdef"><b>Definition</b> <a href="#l00280">AC_AutoTune_Heli.h:280</a></div></div>
<div class="ttc" id="astructAC__AutoTune__Heli_1_1sweep__data_html_aff263592de6bdb2970108ec65aaee568"><div class="ttname"><a href="structAC__AutoTune__Heli_1_1sweep__data.html#aff263592de6bdb2970108ec65aaee568">AC_AutoTune_Heli::sweep_data::progress</a></div><div class="ttdeci">uint8_t progress</div><div class="ttdef"><b>Definition</b> <a href="#l00284">AC_AutoTune_Heli.h:284</a></div></div>
<div class="ttc" id="astructAC__AutoTune__Heli_1_1sweep__info_html"><div class="ttname"><a href="structAC__AutoTune__Heli_1_1sweep__info.html">AC_AutoTune_Heli::sweep_info</a></div><div class="ttdef"><b>Definition</b> <a href="#l00242">AC_AutoTune_Heli.h:242</a></div></div>
<div class="ttc" id="astructAC__AutoTune__Heli_1_1sweep__info_html_a156dc2c69827a76b2aa7b9a2f493a12c"><div class="ttname"><a href="structAC__AutoTune__Heli_1_1sweep__info.html#a156dc2c69827a76b2aa7b9a2f493a12c">AC_AutoTune_Heli::sweep_info::phase</a></div><div class="ttdeci">float phase</div><div class="ttdef"><b>Definition</b> <a href="#l00245">AC_AutoTune_Heli.h:245</a></div></div>
<div class="ttc" id="astructAC__AutoTune__Heli_1_1sweep__info_html_a643bf699d19fdb54983810130b7a74a9"><div class="ttname"><a href="structAC__AutoTune__Heli_1_1sweep__info.html#a643bf699d19fdb54983810130b7a74a9">AC_AutoTune_Heli::sweep_info::freq</a></div><div class="ttdeci">float freq</div><div class="ttdef"><b>Definition</b> <a href="#l00243">AC_AutoTune_Heli.h:243</a></div></div>
<div class="ttc" id="astructAC__AutoTune__Heli_1_1sweep__info_html_ada2807bc147e5354d0d840746bf91d97"><div class="ttname"><a href="structAC__AutoTune__Heli_1_1sweep__info.html#ada2807bc147e5354d0d840746bf91d97">AC_AutoTune_Heli::sweep_info::gain</a></div><div class="ttdeci">float gain</div><div class="ttdef"><b>Definition</b> <a href="#l00244">AC_AutoTune_Heli.h:244</a></div></div>
<div class="ttc" id="astructAP__Param_1_1GroupInfo_html"><div class="ttname"><a href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00199">AP_Param.h:199</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 22 2024 16:14:13 for APM:Libraries by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
