<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>APM:Libraries: libraries/AP_Airspeed/AP_Airspeed.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">APM:Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_f0f1373a5071732c20e016b31c47ef93.html">AP_Airspeed</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">AP_Airspeed.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="AP__Airspeed_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">   This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">   it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">   the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">   (at your option) any later version.</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">   </span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">   This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">   GNU General Public License for more details.</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">   </span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">   You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">   along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"> */</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment">/*</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment"> *   AP_Airspeed.cpp - airspeed (pitot) driver</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment"> */</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__config_8h.html">AP_Airspeed_config.h</a>&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#if AP_AIRSPEED_ENABLED</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span> </div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed_8h.html">AP_Airspeed.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span> </div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Vehicle__Type_8h.html">AP_Vehicle/AP_Vehicle_Type.h</a>&gt;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span> </div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="comment">// Dummy the AP_Airspeed class to allow building Airspeed only for plane, rover, sub, and copter &amp; heli 2MB boards</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="comment">// This could be removed once the build system allows for APM_BUILD_TYPE in header files</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="comment">// Note that this is also defined in AP_Airspeed_Params.cpp</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#ifndef AP_AIRSPEED_DUMMY_METHODS_ENABLED</span></div>
<div class="foldopen" id="foldopen00031" data-start="" data-end="">
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno"><a class="line" href="AP__Airspeed_8cpp.html#a1618c8c14d5926adbc4564c7768bf4ab">   31</a></span><span class="preprocessor">#define AP_AIRSPEED_DUMMY_METHODS_ENABLED ((APM_BUILD_COPTER_OR_HELI &amp;&amp; BOARD_FLASH_SIZE &lt;= 1024) || \</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">                                            APM_BUILD_TYPE(APM_BUILD_AntennaTracker) || APM_BUILD_TYPE(APM_BUILD_Blimp))</span></div>
</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span> </div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#if !AP_AIRSPEED_DUMMY_METHODS_ENABLED</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span> </div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Common_8h.html">AP_Common/AP_Common.h</a>&gt;</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#include &lt;<a class="code" href="AP__HAL_8h.html">AP_HAL/AP_HAL.h</a>&gt;</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#include &lt;<a class="code" href="AP__HAL_2I2CDevice_8h.html">AP_HAL/I2CDevice.h</a>&gt;</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Math_8h.html">AP_Math/AP_Math.h</a>&gt;</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="preprocessor">#include &lt;<a class="code" href="GCS_8h.html">GCS_MAVLink/GCS.h</a>&gt;</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="preprocessor">#include &lt;<a class="code" href="SRV__Channel_8h.html">SRV_Channel/SRV_Channel.h</a>&gt;</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Logger_8h.html">AP_Logger/AP_Logger.h</a>&gt;</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__MS4525_8h.html">AP_Airspeed_MS4525.h</a>&quot;</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__MS5525_8h.html">AP_Airspeed_MS5525.h</a>&quot;</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__SDP3X_8h.html">AP_Airspeed_SDP3X.h</a>&quot;</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__DLVR_8h.html">AP_Airspeed_DLVR.h</a>&quot;</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__analog_8h.html">AP_Airspeed_analog.h</a>&quot;</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__ASP5033_8h.html">AP_Airspeed_ASP5033.h</a>&quot;</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__Backend_8h.html">AP_Airspeed_Backend.h</a>&quot;</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__DroneCAN_8h.html">AP_Airspeed_DroneCAN.h</a>&quot;</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__NMEA_8h.html">AP_Airspeed_NMEA.h</a>&quot;</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__MSP_8h.html">AP_Airspeed_MSP.h</a>&quot;</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__External_8h.html">AP_Airspeed_External.h</a>&quot;</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__SITL_8h.html">AP_Airspeed_SITL.h</a>&quot;</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="keyword">extern</span> <span class="keyword">const</span> <a class="code hl_class" href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a> &amp;<a class="code hl_variable" href="AP__Airspeed_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="preprocessor">#include &lt;<a class="code" href="AP__FixedWing_8h.html">AP_Vehicle/AP_FixedWing.h</a>&gt;</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span> </div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="preprocessor">#ifdef HAL_AIRSPEED_TYPE_DEFAULT</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="preprocessor"> #define ARSPD_DEFAULT_TYPE HAL_AIRSPEED_TYPE_DEFAULT</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="preprocessor"> #ifndef ARSPD_DEFAULT_PIN</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="preprocessor"> #define ARSPD_DEFAULT_PIN 1</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="preprocessor"> #endif</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="preprocessor">#elif APM_BUILD_TYPE(APM_BUILD_ArduPlane)</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span> <span class="comment">// The HAL_BOARD_SITL setting is required because of current probe process for MS4525 will</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span> <span class="comment">// connect and find the SIM_DLVR sensors &amp; fault as there is no way to tell them apart</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="preprocessor"> #if CONFIG_HAL_BOARD == HAL_BOARD_SITL</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="preprocessor">  #define ARSPD_DEFAULT_TYPE TYPE_ANALOG</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><span class="preprocessor">  #define ARSPD_DEFAULT_PIN 1</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span><span class="preprocessor"> #else</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span><span class="preprocessor">  #define ARSPD_DEFAULT_TYPE TYPE_I2C_MS4525</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span><span class="preprocessor">  #ifdef HAL_DEFAULT_AIRSPEED_PIN</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><span class="preprocessor">      #define ARSPD_DEFAULT_PIN HAL_DEFAULT_AIRSPEED_PIN</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="preprocessor">  #else</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span><span class="preprocessor">     #define ARSPD_DEFAULT_PIN 15</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><span class="preprocessor">  #endif</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="preprocessor"> #endif </span><span class="comment">//CONFIG_HAL_BOARD</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="preprocessor">#else   </span><span class="comment">// All Other Vehicle Types</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno"><a class="line" href="AP__Airspeed_8cpp.html#a9053ed1dcbc482203ed6f3331b373feb">   81</a></span><span class="preprocessor"> #define ARSPD_DEFAULT_TYPE TYPE_NONE</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="AP__Airspeed_8cpp.html#a131dd3a1aba6cbae5d330c5161ccfe9e">   82</a></span><span class="preprocessor"> #define ARSPD_DEFAULT_PIN 15</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span> </div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span><span class="preprocessor">#ifndef HAL_AIRSPEED_BUS_DEFAULT</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno"><a class="line" href="AP__Airspeed_8cpp.html#a377009f4985fcdc2969d2bf887b0e555">   86</a></span><span class="preprocessor">#define HAL_AIRSPEED_BUS_DEFAULT 1</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span> </div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno"><a class="line" href="AP__Airspeed_8cpp.html#ac89232e447b6bfab4f1cdd92259b5348">   89</a></span><span class="preprocessor">#define OPTIONS_DEFAULT AP_Airspeed::OptionsMask::ON_FAILURE_AHRS_WIND_MAX_DO_DISABLE | AP_Airspeed::OptionsMask::ON_FAILURE_AHRS_WIND_MAX_RECOVERY_DO_REENABLE | AP_Airspeed::OptionsMask::USE_EKF_CONSISTENCY</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span> </div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno"><a class="line" href="AP__Airspeed_8cpp.html#ab19ec8ab84dd9d2beb14abc066383563">   91</a></span><span class="preprocessor">#define ENABLE_PARAMETER !(APM_BUILD_TYPE(APM_BUILD_ArduPlane) || defined(HAL_BUILD_AP_PERIPH))</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span> </div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><span class="comment">// table of user settable parameters</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span><span class="keyword">const</span> <a class="code hl_struct" href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a> <a class="code hl_variable" href="classAP__Airspeed.html#af399a129f73b4b75e7c453bdb51358a3">AP_Airspeed::var_info</a>[] = {</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span> </div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span><span class="preprocessor">#if ENABLE_PARAMETER</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    <span class="comment">// @Param: _ENABLE</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="comment">// @DisplayName: Airspeed Enable</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    <span class="comment">// @Description: Enable airspeed sensor support</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <span class="comment">// @Values: 0:Disable, 1:Enable</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <a class="code hl_define" href="AP__Param_8h.html#ac24e2eb16c2194e975d27e47ddcb7f1c">AP_GROUPINFO_FLAGS</a>(<span class="stringliteral">&quot;_ENABLE&quot;</span>, 30, <a class="code hl_class" href="classAP__Airspeed.html">AP_Airspeed</a>, _enable, 0, <a class="code hl_define" href="AP__Param_8h.html#ae25c1c7495435989f8be5781c86be078">AP_PARAM_FLAG_ENABLE</a>),</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    <span class="comment">// slots 0-9 (and 63) were previously used by params before being refactored into AP_Airspeed_Params</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span> </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    <span class="comment">// @Param: _TUBE_ORDER</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    <span class="comment">// @DisplayName: Control pitot tube order</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    <span class="comment">// @Description: This parameter allows you to control whether the order in which the tubes are attached to your pitot tube matters. If you set this to 0 then the first (often the top) connector on the sensor needs to be the stagnation pressure (the pressure at the tip of the pitot tube). If set to 1 then the second (often the bottom) connector needs to be the stagnation pressure. If set to 2 (the default) then the airspeed driver will accept either order. The reason you may wish to specify the order is it will allow your airspeed sensor to detect if the aircraft is receiving excessive pressure on the static port compared to the stagnation port such as during a stall, which would otherwise be seen as a positive airspeed.</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <span class="comment">// @Values: 0:Normal,1:Swapped,2:Auto Detect</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span> </div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    <span class="comment">// tube order param had to be shortened so is not preserved in per group descriptions </span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span> </div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span><span class="preprocessor">#if AIRSPEED_MAX_SENSORS &gt; 1</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <span class="comment">// @Param: _PRIMARY</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    <span class="comment">// @DisplayName: Primary airspeed sensor</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="comment">// @Description: This selects which airspeed sensor will be the primary if multiple sensors are found</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    <span class="comment">// @Values: 0:FirstSensor,1:2ndSensor</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_PRIMARY&quot;</span>, 10, <a class="code hl_class" href="classAP__Airspeed.html">AP_Airspeed</a>, primary_sensor, 0),</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span> </div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    <span class="comment">// 11-20 were previously used by second sensor params before being refactored into AP_Airspeed_Params</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span> </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span><span class="preprocessor">#ifndef HAL_BUILD_AP_PERIPH</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="comment">// @Param: _OPTIONS</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <span class="comment">// @DisplayName: Airspeed options bitmask</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <span class="comment">// @Description: Bitmask of options to use with airspeed. 0:Disable use based on airspeed/groundspeed mismatch (see ARSPD_WIND_MAX), 1:Automatically reenable use based on airspeed/groundspeed mismatch recovery (see ARSPD_WIND_MAX) 2:Disable voltage correction, 3:Check that the airspeed is statistically consistent with the navigation EKF vehicle and wind velocity estimates using EKF3 (requires AHRS_EKF_TYPE = 3)</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <span class="comment">// @Description{Copter, Blimp, Rover, Sub}: This parameter and function is not used by this vehicle. Always set to 0.</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <span class="comment">// @Bitmask: 0:SpeedMismatchDisable, 1:AllowSpeedMismatchRecovery, 2:DisableVoltageCorrection, 3:UseEkf3Consistency</span></div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_OPTIONS&quot;</span>, 21, <a class="code hl_class" href="classAP__Airspeed.html">AP_Airspeed</a>, _options, <a class="code hl_define" href="AP__Airspeed_8cpp.html#ac89232e447b6bfab4f1cdd92259b5348">OPTIONS_DEFAULT</a>),</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="comment">// @Param: _WIND_MAX</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="comment">// @DisplayName: Maximum airspeed and ground speed difference</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="comment">// @Description: If the difference between airspeed and ground speed is greater than this value the sensor will be marked unhealthy. Using ARSPD_OPTION this health value can be used to disable the sensor.</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <span class="comment">// @Description{Copter, Blimp, Rover, Sub}: This parameter and function is not used by this vehicle. Always set to 0.</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <span class="comment">// @Units: m/s</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_WIND_MAX&quot;</span>, 22, <a class="code hl_class" href="classAP__Airspeed.html">AP_Airspeed</a>, _wind_max, 0),</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span> </div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <span class="comment">// @Param: _WIND_WARN</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <span class="comment">// @DisplayName: Airspeed and GPS speed difference that gives a warning</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="comment">// @Description: If the difference between airspeed and GPS speed is greater than this value the sensor will issue a warning. If 0 ARSPD_WIND_MAX is used.</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <span class="comment">// @Description{Copter, Blimp, Rover, Sub}: This parameter and function is not used by this vehicle. Always set to 0.</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <span class="comment">// @Units: m/s</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_WIND_WARN&quot;</span>, 23, <a class="code hl_class" href="classAP__Airspeed.html">AP_Airspeed</a>, _wind_warn, 0),</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span> </div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <span class="comment">// @Param: _WIND_GATE</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    <span class="comment">// @DisplayName: Re-enable Consistency Check Gate Size</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    <span class="comment">// @Description: Number of standard deviations applied to the re-enable EKF consistency check that is used when ARSPD_OPTIONS bit position 3 is set. Larger values will make the re-enabling of the airspeed sensor faster, but increase the likelihood of re-enabling a degraded sensor. The value can be tuned by using the ARSP.TR log message by setting ARSPD_WIND_GATE to a value that is higher than the value for ARSP.TR observed with a healthy airspeed sensor. Occasional transients in ARSP.TR above the value set by ARSPD_WIND_GATE can be tolerated provided they are less than 5 seconds in duration and less than 10% duty cycle.</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    <span class="comment">// @Description{Copter, Blimp, Rover, Sub}: This parameter and function is not used by this vehicle.</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    <span class="comment">// @Range: 0.0 10.0</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_WIND_GATE&quot;</span>, 26, <a class="code hl_class" href="classAP__Airspeed.html">AP_Airspeed</a>, _wind_gate, 5.0f),</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    </div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <span class="comment">// @Param: _OFF_PCNT</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    <span class="comment">// @DisplayName: Maximum offset cal speed error </span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <span class="comment">// @Description: The maximum percentage speed change in airspeed reports that is allowed due to offset changes between calibrations before a warning is issued. This potential speed error is in percent of ASPD_FBW_MIN. 0 disables. Helps warn of calibrations without pitot being covered.</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <span class="comment">// @Range: 0.0 10.0</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    <span class="comment">// @Units: %</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <a class="code hl_define" href="AP__Param_8h.html#a752a6a1d27589c64a386ab2818e7057d">AP_GROUPINFO_FRAME</a>(<span class="stringliteral">&quot;_OFF_PCNT&quot;</span>, 27, <a class="code hl_class" href="classAP__Airspeed.html">AP_Airspeed</a>, max_speed_pcnt, 0, <a class="code hl_define" href="AP__Param_8h.html#a5def49b63b71690b19ea5a19ee3b4788">AP_PARAM_FRAME_PLANE</a>),    </div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span> </div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span> </div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <span class="comment">// @Group: _</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <span class="comment">// @Path: AP_Airspeed_Params.cpp</span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    <a class="code hl_define" href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a>(<a class="code hl_variable" href="nmea__output_8cpp.html#a3c21c2f710a8376a0b5dbc5154540738">param</a>[0], <span class="stringliteral">&quot;_&quot;</span>, 28, <a class="code hl_class" href="classAP__Airspeed.html">AP_Airspeed</a>, <a class="code hl_class" href="classAP__Airspeed__Params.html">AP_Airspeed_Params</a>),</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span> </div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span><span class="preprocessor">#if AIRSPEED_MAX_SENSORS &gt; 1</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <span class="comment">// @Group: 2_</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <span class="comment">// @Path: AP_Airspeed_Params.cpp</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <a class="code hl_define" href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a>(<a class="code hl_variable" href="nmea__output_8cpp.html#a3c21c2f710a8376a0b5dbc5154540738">param</a>[1], <span class="stringliteral">&quot;2_&quot;</span>, 29, <a class="code hl_class" href="classAP__Airspeed.html">AP_Airspeed</a>, <a class="code hl_class" href="classAP__Airspeed__Params.html">AP_Airspeed_Params</a>),</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    <span class="comment">// index 30 is used by enable at the top of the table</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span> </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <a class="code hl_define" href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>};</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span> </div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span><span class="comment">/*</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span><span class="comment">  this scaling factor converts from the old system where we used a</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span><span class="comment">  0 to 4095 raw ADC value for 0-5V to the new system which gets the</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span><span class="comment">  voltage in volts directly from the ADC driver</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span><span class="comment"> */</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno"><a class="line" href="AP__Airspeed_8cpp.html#aac6646b1879de350161c105ea856c2c3">  188</a></span><span class="preprocessor">#define SCALING_OLD_CALIBRATION 819 </span><span class="comment">// 4095/5</span></div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span> </div>
<div class="foldopen" id="foldopen00190" data-start="{" data-end="}">
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#ab3f44b666b8fd9389ea97a868139d1a7">  190</a></span><a class="code hl_function" href="classAP__Airspeed.html#ab3f44b666b8fd9389ea97a868139d1a7">AP_Airspeed::AP_Airspeed</a>()</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>{</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    <a class="code hl_function" href="classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a>(<span class="keyword">this</span>, var_info);</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span> </div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <span class="comment">// Setup defaults that only apply to first sensor</span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[0].<a class="code hl_variable" href="classAP__Airspeed__Params.html#a5854aabf6b7df18ae8cb3f409ad6925a">type</a>.set_default(<a class="code hl_define" href="AP__Airspeed_8cpp.html#a9053ed1dcbc482203ed6f3331b373feb">ARSPD_DEFAULT_TYPE</a>);</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span><span class="preprocessor">#ifndef HAL_BUILD_AP_PERIPH</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[0].<a class="code hl_variable" href="classAP__Airspeed__Params.html#a75240ad6d627751ccea8e099e58a562a">bus</a>.set_default(<a class="code hl_define" href="AP__Airspeed_8cpp.html#a377009f4985fcdc2969d2bf887b0e555">HAL_AIRSPEED_BUS_DEFAULT</a>);</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[0].<a class="code hl_variable" href="classAP__Airspeed__Params.html#a3c86f7c7a468b4cf164c4d836b008f7f">pin</a>.set_default(<a class="code hl_define" href="AP__Airspeed_8cpp.html#a131dd3a1aba6cbae5d330c5161ccfe9e">ARSPD_DEFAULT_PIN</a>);</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span> </div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#ae5e13883f8e997681a969b213cbad4e9">_singleton</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>        <a class="code hl_function" href="namespaceAP__HAL.html#a52edeef7d5ffaa365e1229b87c170307">AP_HAL::panic</a>(<span class="stringliteral">&quot;AP_Airspeed must be singleton&quot;</span>);</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    }</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    <a class="code hl_variable" href="classAP__Airspeed.html#ae5e13883f8e997681a969b213cbad4e9">_singleton</a> = <span class="keyword">this</span>;</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>}</div>
</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span> </div>
<div class="foldopen" id="foldopen00207" data-start="{" data-end="}">
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#a341abf569fd3f03f96ef792a992c2fd1">  207</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__Airspeed.html#a341abf569fd3f03f96ef792a992c2fd1">AP_Airspeed::set_fixedwing_parameters</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structAP__FixedWing.html">AP_FixedWing</a> *_fixed_wing_parameters)</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>{</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>    <a class="code hl_variable" href="classAP__Airspeed.html#a66e50c03fea9586cc259e68f6870d3de">fixed_wing_parameters</a> = _fixed_wing_parameters;</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>}</div>
</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span> </div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span><span class="comment">// macro for use by HAL_INS_PROBE_LIST</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno"><a class="line" href="AP__Airspeed_8cpp.html#a1d1ca2e01f4d02fdb3e3e66c46739c02">  213</a></span><span class="preprocessor">#define GET_I2C_DEVICE(bus, address) hal.i2c_mgr-&gt;get_device(bus, address)</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span> </div>
<div class="foldopen" id="foldopen00215" data-start="{" data-end="}">
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#a46530aeab7b4604a07bfbd14a948d13c">  215</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Airspeed.html#a46530aeab7b4604a07bfbd14a948d13c">AP_Airspeed::add_backend</a>(<a class="code hl_class" href="classAP__Airspeed__Backend.html">AP_Airspeed_Backend</a> *backend)</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>{</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    <span class="keywordflow">if</span> (!backend) {</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    }</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#a891e28450f972899afe3c4af4d3cd664">num_sensors</a> &gt;= <a class="code hl_define" href="AP__Airspeed__config_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>) {</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>        <a class="code hl_function" href="namespaceAP__HAL.html#a52edeef7d5ffaa365e1229b87c170307">AP_HAL::panic</a>(<span class="stringliteral">&quot;Too many airspeed drivers&quot;</span>);</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    }</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <span class="keyword">const</span> uint8_t i = <a class="code hl_variable" href="classAP__Airspeed.html#a891e28450f972899afe3c4af4d3cd664">num_sensors</a>;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[<a class="code hl_variable" href="classAP__Airspeed.html#a891e28450f972899afe3c4af4d3cd664">num_sensors</a>++] = backend;</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]-&gt;<a class="code hl_function" href="classAP__Airspeed.html#a7499575104f24c6502e1148c353d9637">init</a>()) {</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>        <a class="code hl_define" href="GCS_8h.html#a266bfe8eda675e1092f045e93932b4a6">GCS_SEND_TEXT</a>(MAV_SEVERITY_ERROR, <span class="stringliteral">&quot;Airspeed %u init failed&quot;</span>, i+1);</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>        <span class="keyword">delete</span> <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i];</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>        <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    }</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>}</div>
</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span> </div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span><span class="comment">/*</span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span><span class="comment">  macro to add a backend with check for too many sensors</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span><span class="comment">  We don&#39;t try to start more than the maximum allowed</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span><span class="comment"> */</span></div>
<div class="foldopen" id="foldopen00237" data-start="" data-end="">
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno"><a class="line" href="AP__Airspeed_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">  237</a></span><span class="preprocessor">#define ADD_BACKEND(backend) \</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span><span class="preprocessor">    do { add_backend(backend);     \</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span><span class="preprocessor">    if (num_sensors == AIRSPEED_MAX_SENSORS) { return; } \</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span><span class="preprocessor">    } while (0)</span></div>
</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span> </div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span> </div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span><span class="comment">// convet params to per instance param table</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span><span class="comment">// PARAMETER_CONVERSION - Added: Dec-2022</span></div>
<div class="foldopen" id="foldopen00245" data-start="{" data-end="}">
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#ab8bcd187bf41538705278aaa92889328">  245</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__Airspeed.html#ab8bcd187bf41538705278aaa92889328">AP_Airspeed::convert_per_instance</a>()</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>{</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    <a class="code hl_struct" href="structAP__Param_1_1ConversionInfo.html">AP_Param::ConversionInfo</a> info;</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span><span class="preprocessor">#ifndef HAL_BUILD_AP_PERIPH</span></div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    <span class="comment">// Vehicle conversion</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Param.html#ae37c408fb6a06737f2010ef54f7df704">AP_Param::find_key_by_pointer</a>(<span class="keyword">this</span>, info.<a class="code hl_variable" href="structAP__Param_1_1ConversionInfo.html#a75ff5c9be71f27763a405bb41e0c0aff">old_key</a>)) {</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>    }</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span> </div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span>convert_table {</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>        uint32_t element[2];</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>        <a class="code hl_enumeration" href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9a">ap_var_type</a> <a class="code hl_variable" href="TransferFunctionCheck_8cpp.html#ab84905254d7d9db8e55931846bcf06ea">type</a>;</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="BusTest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>;</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    }  <a class="code hl_variable" href="test__sim__ms5525_8cpp.html#a69a196abd38e72e63573b3f418ca9e09">conversion_table</a>[] = {</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>        { {4042, 714}, <a class="code hl_enumvalue" href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9aae846a3e359a88214fe754f3862bc9347">AP_PARAM_INT8</a>, <span class="stringliteral">&quot;TYPE&quot;</span> },      <span class="comment">// ARSPD_TYPE, ARSPD2_TYPE</span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>        { {74, 778}, <a class="code hl_enumvalue" href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9aae846a3e359a88214fe754f3862bc9347">AP_PARAM_INT8</a>, <span class="stringliteral">&quot;USE&quot;</span> },        <span class="comment">// ARSPD_USE, ARSPD2_USE</span></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>        { {138, 842}, <a class="code hl_enumvalue" href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9aa6b298bc938d9667ff3d25c0e8b94c349">AP_PARAM_FLOAT</a>, <span class="stringliteral">&quot;OFFSET&quot;</span> },    <span class="comment">// ARSPD_OFFSET, ARSPD2_OFFSET</span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>        { {202, 906}, <a class="code hl_enumvalue" href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9aa6b298bc938d9667ff3d25c0e8b94c349">AP_PARAM_FLOAT</a>, <span class="stringliteral">&quot;RATIO&quot;</span> },     <span class="comment">// ARSPD_RATIO, ARSPD2_RATIO</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>        { {266, 970}, <a class="code hl_enumvalue" href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9aae846a3e359a88214fe754f3862bc9347">AP_PARAM_INT8</a>, <span class="stringliteral">&quot;PIN&quot;</span> },        <span class="comment">// ARSPD_PIN, ARSPD2_PIN</span></div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span><span class="preprocessor">#if AP_AIRSPEED_AUTOCAL_ENABLE</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>        { {330, 1034}, <a class="code hl_enumvalue" href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9aae846a3e359a88214fe754f3862bc9347">AP_PARAM_INT8</a>, <span class="stringliteral">&quot;AUTOCAL&quot;</span> },    <span class="comment">// ARSPD_AUTOCAL, ARSPD2_AUTOCAL</span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>        { {394, 1098}, <a class="code hl_enumvalue" href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9aae846a3e359a88214fe754f3862bc9347">AP_PARAM_INT8</a>, <span class="stringliteral">&quot;TUBE_ORDR&quot;</span> },  <span class="comment">// ARSPD_TUBE_ORDER, ARSPD2_TUBE_ORDR</span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>        { {458, 1162}, <a class="code hl_enumvalue" href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9aae846a3e359a88214fe754f3862bc9347">AP_PARAM_INT8</a>, <span class="stringliteral">&quot;SKIP_CAL&quot;</span> },   <span class="comment">// ARSPD_SKIP_CAL, ARSPD2_SKIP_CAL</span></div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>        { {522, 1226}, <a class="code hl_enumvalue" href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9aa6b298bc938d9667ff3d25c0e8b94c349">AP_PARAM_FLOAT</a>, <span class="stringliteral">&quot;PSI_RANGE&quot;</span> }, <span class="comment">// ARSPD_PSI_RANGE, ARSPD2_PSI_RANGE</span></div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>        { {586, 1290}, <a class="code hl_enumvalue" href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9aae846a3e359a88214fe754f3862bc9347">AP_PARAM_INT8</a>, <span class="stringliteral">&quot;BUS&quot;</span> },        <span class="comment">// ARSPD_BUS, ARSPD2_BUS</span></div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>        { {1546, 1610}, <a class="code hl_enumvalue" href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9aa4cc8155d0281f24ea7d8069ad6004395">AP_PARAM_INT32</a>, <span class="stringliteral">&quot;DEVID&quot;</span> },    <span class="comment">// ARSPD_DEVID, ARSPD2_DEVID</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    };</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span> </div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    <span class="comment">// Periph conversion</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Param.html#a97a7b5f898c84c99cb57c76d4ddc870c">AP_Param::find_top_level_key_by_pointer</a>(<span class="keyword">this</span>, info.<a class="code hl_variable" href="structAP__Param_1_1ConversionInfo.html#a75ff5c9be71f27763a405bb41e0c0aff">old_key</a>)) {</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    }</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <span class="keyword">const</span> <span class="keyword">struct </span>convert_table {</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>        uint32_t element[2];</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>        <a class="code hl_enumeration" href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9a">ap_var_type</a> <a class="code hl_variable" href="TransferFunctionCheck_8cpp.html#ab84905254d7d9db8e55931846bcf06ea">type</a>;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="BusTest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    }  <a class="code hl_variable" href="test__sim__ms5525_8cpp.html#a69a196abd38e72e63573b3f418ca9e09">conversion_table</a>[] = {</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>        { {0, 11}, <a class="code hl_enumvalue" href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9aae846a3e359a88214fe754f3862bc9347">AP_PARAM_INT8</a>, <span class="stringliteral">&quot;TYPE&quot;</span> },      <span class="comment">// ARSPD_TYPE, ARSPD2_TYPE</span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span><span class="preprocessor">#if AP_AIRSPEED_AUTOCAL_ENABLE</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>        { {5, 16}, <a class="code hl_enumvalue" href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9aae846a3e359a88214fe754f3862bc9347">AP_PARAM_INT8</a>, <span class="stringliteral">&quot;AUTOCAL&quot;</span> },    <span class="comment">// ARSPD_AUTOCAL, ARSPD2_AUTOCAL</span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>        { {8, 19}, <a class="code hl_enumvalue" href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9aa6b298bc938d9667ff3d25c0e8b94c349">AP_PARAM_FLOAT</a>, <span class="stringliteral">&quot;PSI_RANGE&quot;</span> }, <span class="comment">// ARSPD_PSI_RANGE, ARSPD2_PSI_RANGE</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>        { {24, 25}, <a class="code hl_enumvalue" href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9aa4cc8155d0281f24ea7d8069ad6004395">AP_PARAM_INT32</a>, <span class="stringliteral">&quot;DEVID&quot;</span> },    <span class="comment">// ARSPD_DEVID, ARSPD2_DEVID</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    };</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span> </div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    <span class="keywordtype">char</span> param_name[17] {};</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>    info.<a class="code hl_variable" href="structAP__Param_1_1ConversionInfo.html#aa376577857a1ea9b08066301d807110c">new_name</a> = param_name;</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span> </div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : <a class="code hl_variable" href="test__sim__ms5525_8cpp.html#a69a196abd38e72e63573b3f418ca9e09">conversion_table</a>) {</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>        info.<a class="code hl_variable" href="structAP__Param_1_1ConversionInfo.html#aefe1f37268bb6e4cdb0920db26127a7f">type</a> = elem.type;</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>        <span class="keywordflow">for</span> (uint8_t i=0; i &lt; <a class="code hl_define" href="monocypher_8cpp.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a>(<a class="code hl_define" href="AP__Airspeed__config_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>,2); i++) {</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>            info.<a class="code hl_variable" href="structAP__Param_1_1ConversionInfo.html#ac734a9afbd723a353dd23e05006c8f90">old_group_element</a> = elem.element[i];</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>            <span class="keywordflow">if</span> (i == 0) {</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>                <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">snprintf</a>(param_name, <span class="keyword">sizeof</span>(param_name), <span class="stringliteral">&quot;ARSPD_%s&quot;</span>,  elem.name);</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>                <a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">snprintf</a>(param_name, <span class="keyword">sizeof</span>(param_name), <span class="stringliteral">&quot;ARSPD%i_%s&quot;</span>, i+1,  elem.name);</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>            }</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>            <a class="code hl_function" href="classAP__Param.html#a654a77016ef0dadc5426cbeda0c70662">AP_Param::convert_old_parameter</a>(&amp;info, 1.0, 0);</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        }</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>    }</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>}</div>
</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span> </div>
<div class="foldopen" id="foldopen00310" data-start="{" data-end="}">
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#a7499575104f24c6502e1148c353d9637">  310</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__Airspeed.html#a7499575104f24c6502e1148c353d9637">AP_Airspeed::init</a>()</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>{</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span> </div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>    <a class="code hl_function" href="classAP__Airspeed.html#ab8bcd187bf41538705278aaa92889328">convert_per_instance</a>();</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span> </div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span><span class="preprocessor">#if ENABLE_PARAMETER</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    <span class="comment">// if either type is set then enable if not manually set</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classAP__Airspeed.html#a7cc75e190d3bf25aceeeb29f536659ff">_enable</a>.configured() &amp;&amp; ((<a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[0].<a class="code hl_variable" href="classAP__Airspeed__Params.html#a5854aabf6b7df18ae8cb3f409ad6925a">type</a>.get() != <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74addc8ea54d6633d54192f428bb33aa104">TYPE_NONE</a>) || (<a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[1].<a class="code hl_variable" href="classAP__Airspeed__Params.html#a5854aabf6b7df18ae8cb3f409ad6925a">type</a>.get() != <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74addc8ea54d6633d54192f428bb33aa104">TYPE_NONE</a>))) {</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>        <a class="code hl_variable" href="classAP__Airspeed.html#a7cc75e190d3bf25aceeeb29f536659ff">_enable</a>.set_and_save(1);</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>    }</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span> </div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <span class="comment">// Check if enabled</span></div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Airspeed.html#ab77effd1e8538594b0d10180d027ba2f">lib_enabled</a>()) {</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>    }</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span> </div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(0)) {</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>        <a class="code hl_function" href="classAP__Airspeed.html#a79e1c8c2181a403fd1d99a5669fc4795">allocate</a>();</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>    }</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>}</div>
</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span> </div>
<div class="foldopen" id="foldopen00332" data-start="{" data-end="}">
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#a79e1c8c2181a403fd1d99a5669fc4795">  332</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__Airspeed.html#a79e1c8c2181a403fd1d99a5669fc4795">AP_Airspeed::allocate</a>()</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>{</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[0] != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>        <span class="comment">// already initialised, periph may call allocate several times to allow CAN detection</span></div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    }</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span> </div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span><span class="preprocessor">#ifdef HAL_AIRSPEED_PROBE_LIST</span></div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    <span class="comment">// load sensors via a list from hwdef.dat</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    HAL_AIRSPEED_PROBE_LIST;</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    <span class="comment">// look for sensors based on type parameters</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code hl_define" href="AP__Airspeed__config_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>; i++) {</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span><span class="preprocessor">#if AP_AIRSPEED_AUTOCAL_ENABLE</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a9550b60a046ce012f82d3cb3692f139e">calibration</a>.<a class="code hl_function" href="classAirspeed__Calibration.html#ae88c0e8719c02f942e6cafeb7cf46d1e">init</a>(<a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].ratio);</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#adbd658333460e82b02fdda13d2b73229">last_saved_ratio</a> = <a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].<a class="code hl_variable" href="classAP__Airspeed__Params.html#a472564ee0edb0b9182a5e5d2d4ee42a8">ratio</a>;</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span> </div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>        <span class="comment">// Set the enable automatically to false and set the probability that the airspeed is healhy to start with</span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a33efc829209e8664f23c5314dd180d0b">failures</a>.<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#ab3dd7fce5e539f71bc905c0c91803623">health_probability</a> = 1.0f;</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span> </div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>        <span class="keywordflow">switch</span> ((<span class="keyword">enum</span> <a class="code hl_enumeration" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74">airspeed_type</a>)<a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].<a class="code hl_struct" href="structtype.html">type</a>.get()) {</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74addc8ea54d6633d54192f428bb33aa104">TYPE_NONE</a>:</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>            <span class="comment">// nothing to do</span></div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a0975db540d936db370d698708553feea">TYPE_I2C_MS4525</a>:</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span><span class="preprocessor">#if AP_AIRSPEED_MS4525_ENABLED</span></div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> <a class="code hl_class" href="classAP__Airspeed__MS4525.html">AP_Airspeed_MS4525</a>(*<span class="keyword">this</span>, i);</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74aad1c87db7281851520c07f83d743c540">TYPE_SITL</a>:</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span><span class="preprocessor">#if AP_AIRSPEED_SITL_ENABLED</span></div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> AP_Airspeed_SITL(*<span class="keyword">this</span>, i);</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74acd1a6c66bf16056b667197aaf48c32bf">TYPE_ANALOG</a>:</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span><span class="preprocessor">#if AP_AIRSPEED_ANALOG_ENABLED</span></div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> <a class="code hl_class" href="classAP__Airspeed__Analog.html">AP_Airspeed_Analog</a>(*<span class="keyword">this</span>, i);</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74ad8362365edb40fd6c8b6c4d63f1c3f97">TYPE_I2C_MS5525</a>:</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span><span class="preprocessor">#if AP_AIRSPEED_MS5525_ENABLED</span></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> <a class="code hl_class" href="classAP__Airspeed__MS5525.html">AP_Airspeed_MS5525</a>(*<span class="keyword">this</span>, i, <a class="code hl_enumvalue" href="classAP__Airspeed__MS5525.html#aed5ee11db487795d796f8a6c940898e7ad0fdadd4338e9bc54ca86eee4054275d">AP_Airspeed_MS5525::MS5525_ADDR_AUTO</a>);</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a41e13c618d983e15e669d1868394a250">TYPE_I2C_MS5525_ADDRESS_1</a>:</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span><span class="preprocessor">#if AP_AIRSPEED_MS5525_ENABLED</span></div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> <a class="code hl_class" href="classAP__Airspeed__MS5525.html">AP_Airspeed_MS5525</a>(*<span class="keyword">this</span>, i, <a class="code hl_enumvalue" href="classAP__Airspeed__MS5525.html#aed5ee11db487795d796f8a6c940898e7a8a501e87a16c8e40f988f9b705b4b4af">AP_Airspeed_MS5525::MS5525_ADDR_1</a>);</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74af161b354bbcb00f55934ddada42c724e">TYPE_I2C_MS5525_ADDRESS_2</a>:</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span><span class="preprocessor">#if AP_AIRSPEED_MS5525_ENABLED</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> <a class="code hl_class" href="classAP__Airspeed__MS5525.html">AP_Airspeed_MS5525</a>(*<span class="keyword">this</span>, i, <a class="code hl_enumvalue" href="classAP__Airspeed__MS5525.html#aed5ee11db487795d796f8a6c940898e7a060d41a05143cf2a08cd2b6720784845">AP_Airspeed_MS5525::MS5525_ADDR_2</a>);</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a076a654ca4145911f7d3e1a0ab4d5c33">TYPE_I2C_SDP3X</a>:</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span><span class="preprocessor">#if AP_AIRSPEED_SDP3X_ENABLED</span></div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> <a class="code hl_class" href="classAP__Airspeed__SDP3X.html">AP_Airspeed_SDP3X</a>(*<span class="keyword">this</span>, i);</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74ab759906368a717c8fc931a60e78050b2">TYPE_I2C_DLVR_5IN</a>:</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span><span class="preprocessor">#if AP_AIRSPEED_DLVR_ENABLED</span></div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> <a class="code hl_class" href="classAP__Airspeed__DLVR.html">AP_Airspeed_DLVR</a>(*<span class="keyword">this</span>, i, 5);</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74ad6f0cd62402784c987785a490e3744c6">TYPE_I2C_DLVR_10IN</a>:</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span><span class="preprocessor">#if AP_AIRSPEED_DLVR_ENABLED</span></div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> <a class="code hl_class" href="classAP__Airspeed__DLVR.html">AP_Airspeed_DLVR</a>(*<span class="keyword">this</span>, i, 10);</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a5c76413fcd37d4908c36c78b176d3006">TYPE_I2C_DLVR_20IN</a>:</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span><span class="preprocessor">#if AP_AIRSPEED_DLVR_ENABLED</span></div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> <a class="code hl_class" href="classAP__Airspeed__DLVR.html">AP_Airspeed_DLVR</a>(*<span class="keyword">this</span>, i, 20);</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74aca4effcf13abf30571a8f2af626729ba">TYPE_I2C_DLVR_30IN</a>:</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span><span class="preprocessor">#if AP_AIRSPEED_DLVR_ENABLED</span></div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> <a class="code hl_class" href="classAP__Airspeed__DLVR.html">AP_Airspeed_DLVR</a>(*<span class="keyword">this</span>, i, 30);</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74adbc5b5322d96fcc6b0114af28906bd7b">TYPE_I2C_DLVR_60IN</a>:</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span><span class="preprocessor">#if AP_AIRSPEED_DLVR_ENABLED</span></div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> <a class="code hl_class" href="classAP__Airspeed__DLVR.html">AP_Airspeed_DLVR</a>(*<span class="keyword">this</span>, i, 60);</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span><span class="preprocessor">#endif  </span><span class="comment">// AP_AIRSPEED_DLVR_ENABLED</span></div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a60cab921f380a206b8fc17b7b2494c6e">TYPE_I2C_ASP5033</a>:</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span><span class="preprocessor">#if AP_AIRSPEED_ASP5033_ENABLED</span></div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> <a class="code hl_class" href="classAP__Airspeed__ASP5033.html">AP_Airspeed_ASP5033</a>(*<span class="keyword">this</span>, i);</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a3760a1d6437b135960501e24ef257499">TYPE_UAVCAN</a>:</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span><span class="preprocessor">#if AP_AIRSPEED_DRONECAN_ENABLED</span></div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = AP_Airspeed_DroneCAN::probe(*<span class="keyword">this</span>, i, uint32_t(<a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].bus_id.get()));</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a0690146c56f88ec20259aabe4f803d5b">TYPE_NMEA_WATER</a>:</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span><span class="preprocessor">#if AP_AIRSPEED_NMEA_ENABLED</span></div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span><span class="preprocessor">#if APM_BUILD_TYPE(APM_BUILD_Rover) || APM_BUILD_TYPE(APM_BUILD_ArduSub) </span></div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> <a class="code hl_class" href="classAP__Airspeed__NMEA.html">AP_Airspeed_NMEA</a>(*<span class="keyword">this</span>, i);</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a52d05d041b9f3ee37086100ded8facef">TYPE_MSP</a>:</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span><span class="preprocessor">#if AP_AIRSPEED_MSP_ENABLED</span></div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> AP_Airspeed_MSP(*<span class="keyword">this</span>, i, 0);</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a3ecc8b03f65d6e4346b7d596b14fc590">TYPE_EXTERNAL</a>:</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span><span class="preprocessor">#if AP_AIRSPEED_EXTERNAL_ENABLED</span></div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> AP_Airspeed_External(*<span class="keyword">this</span>, i);</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>        }</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] &amp;&amp; !<a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]-&gt;<a class="code hl_function" href="classAP__Airspeed.html#a7499575104f24c6502e1148c353d9637">init</a>()) {</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>            <a class="code hl_define" href="GCS_8h.html#a266bfe8eda675e1092f045e93932b4a6">GCS_SEND_TEXT</a>(MAV_SEVERITY_ERROR, <span class="stringliteral">&quot;Airspeed %u init failed&quot;</span>, i + 1);</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>            <span class="keyword">delete</span> <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i];</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>        }</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>            <a class="code hl_variable" href="classAP__Airspeed.html#a891e28450f972899afe3c4af4d3cd664">num_sensors</a> = i+1;</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>        }</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>    }</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span> </div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span><span class="preprocessor">#if AP_AIRSPEED_DRONECAN_ENABLED</span></div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>    <span class="comment">// we need a 2nd pass for DroneCAN sensors so we can match order by DEVID</span></div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>    <span class="comment">// the 2nd pass accepts any devid</span></div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code hl_define" href="AP__Airspeed__config_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>; i++) {</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] == <span class="keyword">nullptr</span> &amp;&amp; (<span class="keyword">enum</span> <a class="code hl_enumeration" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74">airspeed_type</a>)<a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].<a class="code hl_struct" href="structtype.html">type</a>.get() == <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a3760a1d6437b135960501e24ef257499">TYPE_UAVCAN</a>) {</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = AP_Airspeed_DroneCAN::probe(*<span class="keyword">this</span>, i, 0);</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>                <a class="code hl_variable" href="classAP__Airspeed.html#a891e28450f972899afe3c4af4d3cd664">num_sensors</a> = i+1;</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>            }</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>        }</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>    }</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span><span class="preprocessor">#endif </span><span class="comment">// AP_AIRSPEED_DRONECAN_ENABLED</span></div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span><span class="preprocessor">#endif </span><span class="comment">// HAL_AIRSPEED_PROBE_LIST</span></div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span> </div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>    <span class="comment">// set DEVID to zero for any sensors not found. This allows backends to order</span></div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>    <span class="comment">// based on previous value of DEVID. This allows for swapping out sensors</span></div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code hl_define" href="AP__Airspeed__config_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>; i++) {</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>            <span class="comment">// note we use set() not set_and_save() to allow a sensor to be temporarily</span></div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>            <span class="comment">// removed for one boot without losing its slot</span></div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>            <a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].<a class="code hl_variable" href="classAP__Airspeed__Params.html#a6f2c0f99b5653b9f6cb7e5aa4118027f">bus_id</a>.set(0);</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>        }</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>    }</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>}</div>
</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span> </div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span><span class="comment">// read the airspeed sensor</span></div>
<div class="foldopen" id="foldopen00481" data-start="{" data-end="}">
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#aceb60f7d07316739d276a0a29e9fe991">  481</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAP__Airspeed.html#aceb60f7d07316739d276a0a29e9fe991">AP_Airspeed::get_pressure</a>(uint8_t i)</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>{</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i)) {</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>    }</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>    <span class="keywordtype">float</span> pressure = 0;</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]) {</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#ab4575a74762035c3dd4b6537ab9917ff">healthy</a> = <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]-&gt;<a class="code hl_function" href="classAP__Airspeed__Backend.html#ab240679cb0ed94c70730cd4cb76382ec">get_differential_pressure</a>(pressure);</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>    }</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>    <span class="keywordflow">return</span> pressure;</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>}</div>
</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span> </div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span><span class="comment">// get a temperature reading if possible</span></div>
<div class="foldopen" id="foldopen00494" data-start="{" data-end="}">
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#ab4d2d1dadc9036ad57cfadb93d3b4c2a">  494</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Airspeed.html#ab4d2d1dadc9036ad57cfadb93d3b4c2a">AP_Airspeed::get_temperature</a>(uint8_t i, <span class="keywordtype">float</span> &amp;<a class="code hl_variable" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>)</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>{</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i)) {</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>    }</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]) {</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]-&gt;<a class="code hl_function" href="classAP__Airspeed__Backend.html#ab0e4ed6819fefd4da1c7a8e30a595186">get_temperature</a>(<a class="code hl_variable" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>);</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>    }</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>}</div>
</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span> </div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span><span class="comment">// calibrate the zero offset for the airspeed. This must be called at</span></div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span><span class="comment">// least once before the get_airspeed() interface can be used</span></div>
<div class="foldopen" id="foldopen00507" data-start="{" data-end="}">
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#afb7c91590b3efc00ee2d72cc6bcc856f">  507</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__Airspeed.html#afb7c91590b3efc00ee2d72cc6bcc856f">AP_Airspeed::calibrate</a>(<span class="keywordtype">bool</span> in_startup)</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>{</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span><span class="preprocessor">#ifndef HAL_BUILD_AP_PERIPH</span></div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Airspeed.html#ab77effd1e8538594b0d10180d027ba2f">lib_enabled</a>()) {</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>    }</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#a19cbaa06e0e8804d1669deacf5ad6081">was_watchdog_reset</a>()) {</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>        <a class="code hl_define" href="GCS_8h.html#a266bfe8eda675e1092f045e93932b4a6">GCS_SEND_TEXT</a>(MAV_SEVERITY_INFO,<span class="stringliteral">&quot;Airspeed: skipping cal&quot;</span>);</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>    }</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code hl_define" href="AP__Airspeed__config_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>; i++) {</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i)) {</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>        }</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].use_zero_offset) {</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>            <a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].<a class="code hl_variable" href="classAP__Airspeed__Params.html#a6bd46fe2c6a834f9191d3cdad0429cdd">offset</a>.set(0);</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>        }</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>        <span class="keywordflow">if</span> (in_startup &amp;&amp; <a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].skip_cal) {</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>        }</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>            <a class="code hl_define" href="GCS_8h.html#a266bfe8eda675e1092f045e93932b4a6">GCS_SEND_TEXT</a>(MAV_SEVERITY_ERROR, <span class="stringliteral">&quot;Airspeed %u not initalized, cannot cal&quot;</span>, i+1);</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>        }</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a63ab2475ebc4dd0b95f5a9fe332552d4">cal</a>.<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a2afd446690534d4a7d424af385923345">start_ms</a> = <a class="code hl_function" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a63ab2475ebc4dd0b95f5a9fe332552d4">cal</a>.<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a50a7d083228cf5cb0eee16f0ff0ddfca">count</a> = 0;</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a63ab2475ebc4dd0b95f5a9fe332552d4">cal</a>.<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a097e7a915727dd0907b4ce79de836ffd">sum</a> = 0;</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a63ab2475ebc4dd0b95f5a9fe332552d4">cal</a>.<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a3fc35b948e101bcbabb5840023c61f39">read_count</a> = 0;</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>        <a class="code hl_variable" href="classAP__Airspeed.html#a53609e78d3a3f38684c040911164c4c8">calibration_state</a>[i] = <a class="code hl_enumvalue" href="classAP__Airspeed.html#a387f7254276f51f1b6a323da979971aaaca69f96c768067fbff6c911ca87bccc9">CalibrationState::IN_PROGRESS</a>;</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>        <a class="code hl_define" href="GCS_8h.html#a266bfe8eda675e1092f045e93932b4a6">GCS_SEND_TEXT</a>(MAV_SEVERITY_INFO,<span class="stringliteral">&quot;Airspeed %u calibration started&quot;</span>, i+1);</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>    }</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span><span class="preprocessor">#endif </span><span class="comment">// HAL_BUILD_AP_PERIPH</span></div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>}</div>
</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span> </div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span><span class="comment">/*</span></div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span><span class="comment">  update async airspeed zero offset calibration</span></div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00545" data-start="{" data-end="}">
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#a4fcbb494a95e1043ef3242d7524cce90">  545</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__Airspeed.html#ac6be10dda7f4ce96b0e9fd6d30ea9c85">AP_Airspeed::update_calibration</a>(uint8_t i, <span class="keywordtype">float</span> raw_pressure)</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>{</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span><span class="preprocessor">#ifndef HAL_BUILD_AP_PERIPH</span></div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i) || <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="CompassCalibrator__index__test_8cpp.html#a21c9253fe2e2baa59acc05a4ba2d99b5">cal</a>.start_ms == 0) {</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>    }</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>    </div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>    <span class="comment">// consider calibration complete when we have at least 15 samples</span></div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>    <span class="comment">// over at least 1 second</span></div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>() - <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="CompassCalibrator__index__test_8cpp.html#a21c9253fe2e2baa59acc05a4ba2d99b5">cal</a>.start_ms &gt;= 1000 &amp;&amp;</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a63ab2475ebc4dd0b95f5a9fe332552d4">cal</a>.<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a3fc35b948e101bcbabb5840023c61f39">read_count</a> &gt; 15) {</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="CompassCalibrator__index__test_8cpp.html#a21c9253fe2e2baa59acc05a4ba2d99b5">cal</a>.count == 0) {</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>            <a class="code hl_define" href="GCS_8h.html#a266bfe8eda675e1092f045e93932b4a6">GCS_SEND_TEXT</a>(MAV_SEVERITY_WARNING, <span class="stringliteral">&quot;Airspeed %u unhealthy&quot;</span>, i + 1);</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>            <a class="code hl_variable" href="classAP__Airspeed.html#a53609e78d3a3f38684c040911164c4c8">calibration_state</a>[i] = <a class="code hl_enumvalue" href="classAP__Airspeed.html#a387f7254276f51f1b6a323da979971aaab9e14d9b2886bcff408b85aefa780419">CalibrationState::FAILED</a>;</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>            <a class="code hl_define" href="GCS_8h.html#a266bfe8eda675e1092f045e93932b4a6">GCS_SEND_TEXT</a>(MAV_SEVERITY_INFO, <span class="stringliteral">&quot;Airspeed %u calibrated&quot;</span>, i + 1);</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>            <span class="keywordtype">float</span> calibrated_offset = <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a63ab2475ebc4dd0b95f5a9fe332552d4">cal</a>.<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a097e7a915727dd0907b4ce79de836ffd">sum</a> / <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a63ab2475ebc4dd0b95f5a9fe332552d4">cal</a>.<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a50a7d083228cf5cb0eee16f0ff0ddfca">count</a>;</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>            <span class="comment">// check if new offset differs too greatly from last calibration, indicating pitot uncovered in wind</span></div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#a66e50c03fea9586cc259e68f6870d3de">fixed_wing_parameters</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>                <span class="keywordtype">float</span> airspeed_min = <a class="code hl_variable" href="classAP__Airspeed.html#a66e50c03fea9586cc259e68f6870d3de">fixed_wing_parameters</a>-&gt;<a class="code hl_variable" href="structAP__FixedWing.html#a2077bf8bbf9fc486c81be9b3f5b84500">airspeed_min</a>.get();</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>                <span class="comment">// use percentage of AIRSPEED_MIN as criteria for max allowed change in offset</span></div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>                <span class="keywordtype">float</span> max_change = 0.5*(<a class="code hl_function" href="AP__Math_8h.html#a34f41fcf2bc527b1728ae04423dfba46">sq</a>((1 + (<a class="code hl_variable" href="classAP__Airspeed.html#aeff64f2b0e0e1312d85720fbc9cd7166">max_speed_pcnt</a> * 0.01))*airspeed_min) - <a class="code hl_function" href="AP__Math_8h.html#a34f41fcf2bc527b1728ae04423dfba46">sq</a>(airspeed_min));</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#aeff64f2b0e0e1312d85720fbc9cd7166">max_speed_pcnt</a> &gt; 0 &amp;&amp; (abs(calibrated_offset-<a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].offset) &gt; max_change) &amp;&amp; (abs(<a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].offset) &gt; 0)) {</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>                    <a class="code hl_define" href="GCS_8h.html#a266bfe8eda675e1092f045e93932b4a6">GCS_SEND_TEXT</a>(MAV_SEVERITY_WARNING, <span class="stringliteral">&quot;Arspd %d offset change large;cover and recal&quot;</span>, i +1);</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>                }</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>            }</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>            <a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].<a class="code hl_variable" href="classAP__Airspeed__Params.html#a6bd46fe2c6a834f9191d3cdad0429cdd">offset</a>.set_and_save(calibrated_offset);</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>            <a class="code hl_variable" href="classAP__Airspeed.html#a53609e78d3a3f38684c040911164c4c8">calibration_state</a>[i] = <a class="code hl_enumvalue" href="classAP__Airspeed.html#a387f7254276f51f1b6a323da979971aaad0749aaba8b833466dfcbb0428e4f89c">CalibrationState::SUCCESS</a>;</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>        }</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a63ab2475ebc4dd0b95f5a9fe332552d4">cal</a>.<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a2afd446690534d4a7d424af385923345">start_ms</a> = 0;</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>    }</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>    <span class="comment">// we discard the first 5 samples</span></div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_function" href="classAP__Airspeed.html#a8aa12f7192b881def04e782ae04835a9">healthy</a> &amp;&amp; <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="CompassCalibrator__index__test_8cpp.html#a21c9253fe2e2baa59acc05a4ba2d99b5">cal</a>.read_count &gt; 5) {</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a63ab2475ebc4dd0b95f5a9fe332552d4">cal</a>.<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a097e7a915727dd0907b4ce79de836ffd">sum</a> += raw_pressure;</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a63ab2475ebc4dd0b95f5a9fe332552d4">cal</a>.<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a50a7d083228cf5cb0eee16f0ff0ddfca">count</a>++;</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>    }</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>    <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a63ab2475ebc4dd0b95f5a9fe332552d4">cal</a>.<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a3fc35b948e101bcbabb5840023c61f39">read_count</a>++;</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span><span class="preprocessor">#endif </span><span class="comment">// HAL_BUILD_AP_PERIPH</span></div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>}</div>
</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span> </div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span><span class="comment">// get aggregate calibration state for the Airspeed library:</span></div>
<div class="foldopen" id="foldopen00587" data-start="{" data-end="}">
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#a4bd2b71e32fa79eed03ff26744c94803">  587</a></span><a class="code hl_enumeration" href="classAP__Airspeed.html#a387f7254276f51f1b6a323da979971aa">AP_Airspeed::CalibrationState</a> <a class="code hl_function" href="classAP__Airspeed.html#a4bd2b71e32fa79eed03ff26744c94803">AP_Airspeed::get_calibration_state</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code hl_define" href="AP__Airspeed__config_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>; i++) {</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>        <span class="keywordflow">switch</span> (<a class="code hl_variable" href="classAP__Airspeed.html#a53609e78d3a3f38684c040911164c4c8">calibration_state</a>[i]) {</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a387f7254276f51f1b6a323da979971aaad0749aaba8b833466dfcbb0428e4f89c">CalibrationState::SUCCESS</a>:</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a387f7254276f51f1b6a323da979971aaa06972acc3aafeb3a65dbd996c8dedc73">CalibrationState::NOT_STARTED</a>:</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a387f7254276f51f1b6a323da979971aaaca69f96c768067fbff6c911ca87bccc9">CalibrationState::IN_PROGRESS</a>:</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a387f7254276f51f1b6a323da979971aaaca69f96c768067fbff6c911ca87bccc9">CalibrationState::IN_PROGRESS</a>;</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a387f7254276f51f1b6a323da979971aaab9e14d9b2886bcff408b85aefa780419">CalibrationState::FAILED</a>:</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a387f7254276f51f1b6a323da979971aaab9e14d9b2886bcff408b85aefa780419">CalibrationState::FAILED</a>;</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>        }</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>    }</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a387f7254276f51f1b6a323da979971aaad0749aaba8b833466dfcbb0428e4f89c">CalibrationState::SUCCESS</a>;</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>}</div>
</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span> </div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span><span class="comment">// read one airspeed sensor</span></div>
<div class="foldopen" id="foldopen00604" data-start="{" data-end="}">
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#acccc2efc4ab9b5dbcf4932fb422cbae7">  604</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__Airspeed.html#acccc2efc4ab9b5dbcf4932fb422cbae7">AP_Airspeed::read</a>(uint8_t i)</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>{</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i) || !<a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]) {</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>    }</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>    <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a802afce0a22cdc6d44030dcd936c5949">last_update_ms</a> = <a class="code hl_function" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span> </div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>    <span class="comment">// try and get a direct reading of airspeed</span></div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]-&gt;has_airspeed()) {</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#ab4575a74762035c3dd4b6537ab9917ff">healthy</a> = <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]-&gt;<a class="code hl_function" href="classAP__Airspeed__Backend.html#a80325707842252be140a6add3362e52f">get_airspeed</a>(<a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a>);</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a00f4fdf99fd2a1d6221972499288bb96">raw_airspeed</a> = <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#ad2cc8c12b0340c55fbe473a96bfb1e4f">airspeed</a>;  <span class="comment">// for logging</span></div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>    }</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span> </div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span><span class="preprocessor">#ifndef HAL_BUILD_AP_PERIPH</span></div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span><span class="comment">      get the healthy state before we call get_pressure() as</span></div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span><span class="comment">      get_pressure() overwrites the healthy state</span></div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span><span class="comment">     */</span></div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>    <span class="keywordtype">bool</span> prev_healthy = <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#ab4575a74762035c3dd4b6537ab9917ff">healthy</a>;</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span> </div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>    <span class="keywordtype">float</span> raw_pressure = <a class="code hl_function" href="classAP__Airspeed.html#aceb60f7d07316739d276a0a29e9fe991">get_pressure</a>(i);</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>    <span class="keywordtype">float</span> airspeed_pressure = raw_pressure - <a class="code hl_function" href="classAP__Airspeed.html#aa1d987e4060ba1751e6be89f7f51a9b5">get_offset</a>(i);</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span> </div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>    <span class="comment">// remember raw pressure for logging</span></div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>    <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a6d6006e0bb1e0f6ed506bc1c8b770bb8">corrected_pressure</a> = airspeed_pressure;</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span> </div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span><span class="preprocessor">#ifndef HAL_BUILD_AP_PERIPH</span></div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="CompassCalibrator__index__test_8cpp.html#a21c9253fe2e2baa59acc05a4ba2d99b5">cal</a>.start_ms != 0) {</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>        <a class="code hl_function" href="classAP__Airspeed.html#ac6be10dda7f4ce96b0e9fd6d30ea9c85">update_calibration</a>(i, raw_pressure);</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>    }</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span> </div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>    <span class="comment">// filter before clamping positive</span></div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>    <span class="keywordflow">if</span> (!prev_healthy) {</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>        <span class="comment">// if the previous state was not healthy then we should not</span></div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>        <span class="comment">// use an IIR filter, otherwise a bad reading will last for</span></div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>        <span class="comment">// some time after the sensor becomes healthy again</span></div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#aa163aff2dd334bf57806d26018d8e5a7">filtered_pressure</a> = airspeed_pressure;</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#aa163aff2dd334bf57806d26018d8e5a7">filtered_pressure</a> = 0.7f * <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#aa163aff2dd334bf57806d26018d8e5a7">filtered_pressure</a> + 0.3f * airspeed_pressure;</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>    }</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span> </div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span><span class="comment">      we support different pitot tube setups so user can choose if</span></div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span><span class="comment">      they want to be able to detect pressure on the static port</span></div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span><span class="comment">     */</span></div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>    <span class="keywordflow">switch</span> ((<span class="keyword">enum</span> <a class="code hl_enumeration" href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79">pitot_tube_order</a>)<a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].tube_order.get()) {</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79a5f6870ea399dc3d3893009a212282aa9">PITOT_TUBE_ORDER_NEGATIVE</a>:</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a522b04f07cc6928cc9ef262ac4f70052">last_pressure</a>  = -airspeed_pressure;</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a00f4fdf99fd2a1d6221972499288bb96">raw_airspeed</a>   = sqrtf(<a class="code hl_define" href="monocypher_8cpp.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(-airspeed_pressure, 0) * <a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].ratio);</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#ad2cc8c12b0340c55fbe473a96bfb1e4f">airspeed</a>       = sqrtf(<a class="code hl_define" href="monocypher_8cpp.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(-<a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].filtered_pressure, 0) * <a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].ratio);</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79aab15a46a527e1bf4889bddc31332222a">PITOT_TUBE_ORDER_POSITIVE</a>:</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a522b04f07cc6928cc9ef262ac4f70052">last_pressure</a>  = airspeed_pressure;</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a00f4fdf99fd2a1d6221972499288bb96">raw_airspeed</a>   = sqrtf(<a class="code hl_define" href="monocypher_8cpp.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(airspeed_pressure, 0) * <a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].ratio);</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#ad2cc8c12b0340c55fbe473a96bfb1e4f">airspeed</a>       = sqrtf(<a class="code hl_define" href="monocypher_8cpp.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(<a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].filtered_pressure, 0) * <a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].ratio);</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79aadd488c9906fa816a58feefd09aab8b2">PITOT_TUBE_ORDER_AUTO</a>:</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a522b04f07cc6928cc9ef262ac4f70052">last_pressure</a>  = fabsf(airspeed_pressure);</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a00f4fdf99fd2a1d6221972499288bb96">raw_airspeed</a>   = sqrtf(fabsf(airspeed_pressure) * <a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].ratio);</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>        <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#ad2cc8c12b0340c55fbe473a96bfb1e4f">airspeed</a>       = sqrtf(fabsf(<a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].filtered_pressure) * <a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].ratio);</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>    }</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span><span class="preprocessor">#endif </span><span class="comment">// HAL_BUILD_AP_PERIPH</span></div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>}</div>
</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span> </div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span><span class="comment">// read all airspeed sensors</span></div>
<div class="foldopen" id="foldopen00673" data-start="{" data-end="}">
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#a694a19befdc15d84bccbbae3c348f52d">  673</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__Airspeed.html#a694a19befdc15d84bccbbae3c348f52d">AP_Airspeed::update</a>()</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>{</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Airspeed.html#ab77effd1e8538594b0d10180d027ba2f">lib_enabled</a>()) {</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>    }</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span> </div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code hl_define" href="AP__Airspeed__config_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>; i++) {</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>        <a class="code hl_function" href="classAP__Airspeed.html#acccc2efc4ab9b5dbcf4932fb422cbae7">read</a>(i);</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>    }</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span> </div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span><span class="preprocessor">#if HAL_GCS_ENABLED</span></div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>    <span class="comment">// debugging until we get MAVLink support for 2nd airspeed sensor</span></div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(1)) {</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>        <a class="code hl_function" href="GCS_8h.html#ab53f292b698f9a6a3f029dfdbd5a43de">gcs</a>().<a class="code hl_function" href="classGCS.html#a36bac57d1573fce99894d56aef0f7c59">send_named_float</a>(<span class="stringliteral">&quot;AS2&quot;</span>, <a class="code hl_function" href="classAP__Airspeed.html#ab82c0541f8a638719b255bc3c973df80">get_airspeed</a>(1));</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>    }</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span> </div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span><span class="preprocessor">#if HAL_LOGGING_ENABLED</span></div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>    <span class="keyword">const</span> uint8_t old_primary = <a class="code hl_variable" href="classAP__Airspeed.html#a1e2e1e0de2732a77b04ba358d58c1a45">primary</a>;</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span> </div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>    <span class="comment">// setup primary</span></div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Airspeed.html#a8aa12f7192b881def04e782ae04835a9">healthy</a>(<a class="code hl_variable" href="classAP__Airspeed.html#aa4ac5108744a4b04eb11043acd6d4bbf">primary_sensor</a>.get())) {</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>        <a class="code hl_variable" href="classAP__Airspeed.html#a1e2e1e0de2732a77b04ba358d58c1a45">primary</a> = <a class="code hl_variable" href="classAP__Airspeed.html#aa4ac5108744a4b04eb11043acd6d4bbf">primary_sensor</a>.get();</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>        <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code hl_define" href="AP__Airspeed__config_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>; i++) {</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Airspeed.html#a8aa12f7192b881def04e782ae04835a9">healthy</a>(i)) {</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>                <a class="code hl_variable" href="classAP__Airspeed.html#a1e2e1e0de2732a77b04ba358d58c1a45">primary</a> = i;</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>            }</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>        }</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>    }</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span> </div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>    <a class="code hl_function" href="classAP__Airspeed.html#a454316cc394033c2f636a5e86f9f49f8">check_sensor_failures</a>();</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span> </div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span><span class="preprocessor">#if HAL_LOGGING_ENABLED</span></div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#a1e2e1e0de2732a77b04ba358d58c1a45">primary</a> != old_primary) {</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>        <a class="code hl_function" href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a>().<a class="code hl_function" href="classAP__Logger.html#acc819f09dd35b615500c4dec658519d2">Write_Event</a>(<a class="code hl_enumvalue" href="AP__Logger_8h.html#abfb7fdeeabd95c90488508e20c5ea981ad73f32c55c46f4f0cd3f0a485c089bfa">LogEvent::AIRSPEED_PRIMARY_CHANGED</a>);</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>    }</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#ac5e344d640297f0567d4a208a273b3c5">_log_bit</a> != (uint32_t)-1 &amp;&amp; <a class="code hl_function" href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a>().should_log(<a class="code hl_variable" href="classAP__Airspeed.html#ac5e344d640297f0567d4a208a273b3c5">_log_bit</a>)) {</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>        <a class="code hl_function" href="classAP__Airspeed.html#ac4301d128dccde68d647bc3c191d6461">Log_Airspeed</a>();</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>    }</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>}</div>
</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span> </div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span><span class="preprocessor">#if AP_AIRSPEED_MSP_ENABLED</span></div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span><span class="comment">/*</span></div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span><span class="comment">  handle MSP airspeed data</span></div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span><span class="comment"> */</span></div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span><span class="keywordtype">void</span> AP_Airspeed::handle_msp(<span class="keyword">const</span> <a class="code hl_struct" href="structMSP_1_1PACKED.html">MSP::msp_airspeed_data_message_t</a> &amp;pkt)</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>{</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Airspeed.html#ab77effd1e8538594b0d10180d027ba2f">lib_enabled</a>()) {</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>    }</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span> </div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>    <span class="keywordflow">if</span> (pkt.<a class="code hl_variable" href="structMSP_1_1PACKED.html#a863be8e04d31a445030fe6100f587589">instance</a> &gt; 1) {</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>        <span class="keywordflow">return</span>; <span class="comment">//supporting 2 airspeed sensors at most</span></div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>    }</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span> </div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code hl_define" href="AP__Airspeed__config_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>; i++) {</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]) {</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]-&gt;<a class="code hl_function" href="classAP__Airspeed__Backend.html#a669905425db7a26691423a20b33efa80">handle_msp</a>(pkt);</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>        }</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>    }</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>}</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span><span class="preprocessor">#endif </span></div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span> </div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span><span class="preprocessor">#if AP_AIRSPEED_EXTERNAL_ENABLED</span></div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span><span class="comment">/*</span></div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span><span class="comment">  handle airspeed airspeed data</span></div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span><span class="comment"> */</span></div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span><span class="keywordtype">void</span> AP_Airspeed::handle_external(<span class="keyword">const</span> AP_ExternalAHRS::airspeed_data_message_t &amp;pkt)</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>{</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Airspeed.html#ab77effd1e8538594b0d10180d027ba2f">lib_enabled</a>()) {</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>    }</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span> </div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code hl_define" href="AP__Airspeed__config_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>; i++) {</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].<a class="code hl_struct" href="structtype.html">type</a> == <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a3ecc8b03f65d6e4346b7d596b14fc590">TYPE_EXTERNAL</a> &amp;&amp; <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]) {</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>            <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]-&gt;handle_external(pkt);</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>        }</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>    }</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>}</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span><span class="preprocessor">#endif </span></div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span> </div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span><span class="preprocessor">#if HAL_LOGGING_ENABLED</span></div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span><span class="comment">// @LoggerMessage: HYGR</span></div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span><span class="comment">// @Description: Hygrometer data</span></div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span><span class="comment">// @Field: TimeUS: Time since system startup</span></div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span><span class="comment">// @Field: Id: sensor ID</span></div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span><span class="comment">// @Field: Humidity: percentage humidity</span></div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span><span class="comment">// @Field: Temp: temperature in degrees C</span></div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span> </div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__Airspeed.html#ac4301d128dccde68d647bc3c191d6461">AP_Airspeed::Log_Airspeed</a>()</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>{</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>    <span class="keyword">const</span> uint64_t now = <a class="code hl_function" href="namespaceAP__HAL.html#a7aa0ce7625c9680e30ff4a99940907a5">AP_HAL::micros64</a>();</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code hl_define" href="AP__Airspeed__config_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>; i++) {</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i) || <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>        }</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>;</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Airspeed.html#ab4d2d1dadc9036ad57cfadb93d3b4c2a">get_temperature</a>(i, <a class="code hl_variable" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>)) {</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>            <a class="code hl_variable" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a> = 0;</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>        }</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structlog__ARSP.html">log_ARSP</a> pkt{</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>            <a class="code hl_define" href="AP__Logger_2LogStructure_8h.html#abca6b52da10346c72b10dd04698e4420">LOG_PACKET_HEADER_INIT</a>(<a class="code hl_enumvalue" href="AP__Logger_2LogStructure_8h.html#aec1abc8a4fd0e25bbcf703a19b991a05ae3521e6ecc7612aeb21978bfcd41d162">LOG_ARSP_MSG</a>),</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>            time_us       : now,</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>            <a class="code hl_variable" href="AP__InternalError_8cpp.html#a02ad7a50d04e0dbf28c6c90a183a0579">instance</a>      : i,</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>            <a class="code hl_variable" href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a>      : get_raw_airspeed(i),</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>            diffpressure  : get_differential_pressure(i),</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>            <a class="code hl_variable" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>   : (int16_t)(<a class="code hl_variable" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a> * 100.0f),</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>            rawpressure   : get_corrected_pressure(i),</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>            offset        : get_offset(i),</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>            use           : use(i),</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>            healthy       : healthy(i),</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>            health_prob   : get_health_probability(i),</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>            test_ratio    : get_test_ratio(i),</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>            primary       : get_primary()</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>        };</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>        <a class="code hl_function" href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a>().<a class="code hl_function" href="classAP__Logger.html#ada8172473eb14aabbf121c20ef6ad76b">WriteBlock</a>(&amp;pkt, <span class="keyword">sizeof</span>(pkt));</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span> </div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span><span class="preprocessor">#if AP_AIRSPEED_HYGROMETER_ENABLE</span></div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>        <span class="keyword">struct </span>{</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>            uint32_t sample_ms;</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>            <span class="keywordtype">float</span> <a class="code hl_variable" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>;</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>            <span class="keywordtype">float</span> humidity;</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>        } hygrometer;</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]-&gt;get_hygrometer(hygrometer.sample_ms, hygrometer.temperature, hygrometer.humidity) &amp;&amp;</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>            hygrometer.sample_ms != <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].last_hygrometer_log_ms) {</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>            <a class="code hl_function" href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a>().<a class="code hl_function" href="classAP__Logger.html#abab7cb26825a8dfb1e5e92cf7fcf4152">WriteStreaming</a>(<span class="stringliteral">&quot;HYGR&quot;</span>,</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>                                        <span class="stringliteral">&quot;TimeUS,Id,Humidity,Temp&quot;</span>,</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>                                        <span class="stringliteral">&quot;s#%O&quot;</span>,</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>                                        <span class="stringliteral">&quot;F---&quot;</span>,</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>                                        <span class="stringliteral">&quot;QBff&quot;</span>,</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>                                        <a class="code hl_function" href="namespaceAP__HAL.html#a7aa0ce7625c9680e30ff4a99940907a5">AP_HAL::micros64</a>(),</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>                                        i,</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>                                        hygrometer.humidity,</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>                                        hygrometer.temperature);</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>            <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].last_hygrometer_log_ms = hygrometer.sample_ms;</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>        }</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>    }</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>}</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span> </div>
<div class="foldopen" id="foldopen00818" data-start="{" data-end="}">
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#aaf33aa667bfae26a81099a47e41212ce">  818</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Airspeed.html#a81cc77a3b3c952151261b53fc4467443">AP_Airspeed::use</a>(uint8_t i)<span class="keyword"> const</span></div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span><span class="preprocessor">#ifndef HAL_BUILD_AP_PERIPH</span></div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Airspeed.html#ab77effd1e8538594b0d10180d027ba2f">lib_enabled</a>()) {</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>    }</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#a55bb3c0d9c379be14922a721659a256e">_force_disable_use</a>) {</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>    }</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i) || !<a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].<a class="code hl_function" href="classAP__Airspeed.html#a81cc77a3b3c952151261b53fc4467443">use</a>) {</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>    }</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].<a class="code hl_function" href="classAP__Airspeed.html#a81cc77a3b3c952151261b53fc4467443">use</a> == 2 &amp;&amp; !<a class="code hl_function" href="AP__Math_8h.html#a2a12cce483e9b870da70d30406d82c60">is_zero</a>(<a class="code hl_function" href="classSRV__Channels.html#abd70bd7df5b7206952247f9cae658250">SRV_Channels::get_output_scaled</a>(<a class="code hl_enumvalue" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a>))) {</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>        <span class="comment">// special case for gliders with airspeed sensors behind the</span></div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>        <span class="comment">// propeller. Allow airspeed to be disabled when throttle is</span></div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>        <span class="comment">// running</span></div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>    }</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span><span class="preprocessor">#endif </span><span class="comment">// HAL_BUILD_AP_PERIPH</span></div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>}</div>
</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span> </div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span><span class="comment">/*</span></div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span><span class="comment">  return true if all enabled sensors are healthy</span></div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span><span class="comment"> */</span></div>
<div class="foldopen" id="foldopen00845" data-start="{" data-end="}">
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#a026632eec4016aa6508389cd8ccf385d">  845</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Airspeed.html#a026632eec4016aa6508389cd8ccf385d">AP_Airspeed::all_healthy</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code hl_define" href="AP__Airspeed__config_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>; i++) {</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i) &amp;&amp; !<a class="code hl_function" href="classAP__Airspeed.html#a8aa12f7192b881def04e782ae04835a9">healthy</a>(i)) {</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>        }</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>    }</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>}</div>
</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span> </div>
<div class="foldopen" id="foldopen00855" data-start="{" data-end="}">
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#ab77effd1e8538594b0d10180d027ba2f">  855</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Airspeed.html#ab77effd1e8538594b0d10180d027ba2f">AP_Airspeed::lib_enabled</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span><span class="preprocessor">#if ENABLE_PARAMETER</span></div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classAP__Airspeed.html#a7cc75e190d3bf25aceeeb29f536659ff">_enable</a> &gt; 0;</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>}</div>
</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span> </div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span><span class="comment">// return true if airspeed is enabled</span></div>
<div class="foldopen" id="foldopen00863" data-start="{" data-end="}">
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#aa17de10e34d65c132353ddc6373f0e99">  863</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">AP_Airspeed::enabled</a>(uint8_t i)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Airspeed.html#ab77effd1e8538594b0d10180d027ba2f">lib_enabled</a>()) {</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>    }</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>    <span class="keywordflow">if</span> (i &lt; <a class="code hl_define" href="AP__Airspeed__config_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>) {</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].<a class="code hl_variable" href="classAP__Airspeed__Params.html#a5854aabf6b7df18ae8cb3f409ad6925a">type</a>.get() != <a class="code hl_enumvalue" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74addc8ea54d6633d54192f428bb33aa104">TYPE_NONE</a>;</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>    }</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>}</div>
</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span> </div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span><span class="comment">// return health status of sensor</span></div>
<div class="foldopen" id="foldopen00874" data-start="{" data-end="}">
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#a1f93ae84c30efc1375765b835004e7a9">  874</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Airspeed.html#a8aa12f7192b881def04e782ae04835a9">AP_Airspeed::healthy</a>(uint8_t i)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    <span class="keywordtype">bool</span> ok = <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#ab4575a74762035c3dd4b6537ab9917ff">healthy</a> &amp;&amp; <a class="code hl_function" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i) &amp;&amp; <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] != <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span><span class="preprocessor">#ifndef HAL_BUILD_AP_PERIPH</span></div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>    <span class="comment">// sanity check the offset parameter.  Zero is permitted if we are skipping calibration.</span></div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>    ok &amp;= (fabsf(<a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].offset) &gt; 0 || <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#aa31fd40bcdde69011b3ad3f43a5ddd97">use_zero_offset</a> || <a class="code hl_variable" href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">param</a>[i].<a class="code hl_variable" href="classAP__Airspeed__Params.html#a4c7e21c2d194b76dee274680208dacea">skip_cal</a>);</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>    <span class="keywordflow">return</span> ok;</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>}</div>
</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span> </div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span><span class="comment">// return the current airspeed in m/s</span></div>
<div class="foldopen" id="foldopen00884" data-start="{" data-end="}">
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#a02885c320f3cedbc08c02bc8894aba04">  884</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAP__Airspeed.html#ab82c0541f8a638719b255bc3c973df80">AP_Airspeed::get_airspeed</a>(uint8_t i)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i)) {</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>        <span class="comment">// we can&#39;t have negative airspeed so sending an obviously invalid value</span></div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>        <span class="keywordflow">return</span> -1.0;</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>    }</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#ad2cc8c12b0340c55fbe473a96bfb1e4f">airspeed</a>;</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>}</div>
</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span> </div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span><span class="comment">// return the unfiltered airspeed in m/s</span></div>
<div class="foldopen" id="foldopen00893" data-start="{" data-end="}">
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#af5df43c2989bfc8fb20a3099eef726e5">  893</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAP__Airspeed.html#ab94424cff1556776d75bda1f86fc2051">AP_Airspeed::get_raw_airspeed</a>(uint8_t i)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i)) {</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>        <span class="comment">// we can&#39;t have negative airspeed so sending an obviously invalid value</span></div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>        <span class="keywordflow">return</span> -1.0;</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>    }</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a00f4fdf99fd2a1d6221972499288bb96">raw_airspeed</a>;</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>}</div>
</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span> </div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span><span class="comment">// return the differential pressure in Pascal for the last airspeed reading</span></div>
<div class="foldopen" id="foldopen00902" data-start="{" data-end="}">
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#ae49f4cf8da709c27d7a713eaa7f1eefa">  902</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAP__Airspeed.html#a0786aed3054f8798262803767d7d4ced">AP_Airspeed::get_differential_pressure</a>(uint8_t i)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i)) {</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>    }</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a522b04f07cc6928cc9ef262ac4f70052">last_pressure</a>;</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>}</div>
</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span> </div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span><span class="comment">// return the current corrected pressure</span></div>
<div class="foldopen" id="foldopen00910" data-start="{" data-end="}">
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#afd418b54591fe4b46fec540fa740b8cb">  910</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAP__Airspeed.html#ad726cb155dae53f791866de0a6e7efc5">AP_Airspeed::get_corrected_pressure</a>(uint8_t i)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i)) {</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>    }</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">state</a>[i].<a class="code hl_variable" href="structAP__Airspeed_1_1airspeed__state.html#a6d6006e0bb1e0f6ed506bc1c8b770bb8">corrected_pressure</a>;</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>}</div>
</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span> </div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span><span class="preprocessor">#if AP_AIRSPEED_HYGROMETER_ENABLE</span></div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span><span class="keywordtype">bool</span> AP_Airspeed::get_hygrometer(uint8_t i, uint32_t &amp;last_sample_ms, <span class="keywordtype">float</span> &amp;<a class="code hl_variable" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>, <span class="keywordtype">float</span> &amp;humidity)<span class="keyword"> const</span></div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i) || <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>    }</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]-&gt;get_hygrometer(last_sample_ms, <a class="code hl_variable" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>, humidity);</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>}</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span><span class="preprocessor">#endif </span><span class="comment">// AP_AIRSPEED_HYGROMETER_ENABLE</span></div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span> </div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span><span class="preprocessor">#else  </span><span class="comment">// build type is not appropriate; provide a dummy implementation:</span></div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span><span class="keyword">const</span> <a class="code hl_struct" href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a> <a class="code hl_variable" href="classAP__Airspeed.html#af399a129f73b4b75e7c453bdb51358a3">AP_Airspeed::var_info</a>[] = { <a class="code hl_define" href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a> };</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span> </div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__Airspeed.html#a694a19befdc15d84bccbbae3c348f52d">AP_Airspeed::update</a>() {};</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Airspeed.html#ab4d2d1dadc9036ad57cfadb93d3b4c2a">AP_Airspeed::get_temperature</a>(uint8_t i, <span class="keywordtype">float</span> &amp;<a class="code hl_variable" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__Airspeed.html#afb7c91590b3efc00ee2d72cc6bcc856f">AP_Airspeed::calibrate</a>(<span class="keywordtype">bool</span> in_startup) {}</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span><a class="code hl_enumeration" href="classAP__Airspeed.html#a387f7254276f51f1b6a323da979971aa">AP_Airspeed::CalibrationState</a> <a class="code hl_function" href="classAP__Airspeed.html#a4bd2b71e32fa79eed03ff26744c94803">AP_Airspeed::get_calibration_state</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classAP__Airspeed.html#a387f7254276f51f1b6a323da979971aaa06972acc3aafeb3a65dbd996c8dedc73">CalibrationState::NOT_STARTED</a>; }</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Airspeed.html#a81cc77a3b3c952151261b53fc4467443">AP_Airspeed::use</a>(uint8_t i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">AP_Airspeed::enabled</a>(uint8_t i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Airspeed.html#a8aa12f7192b881def04e782ae04835a9">AP_Airspeed::healthy</a>(uint8_t i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span><span class="keywordtype">float</span> <a class="code hl_function" href="classAP__Airspeed.html#ab82c0541f8a638719b255bc3c973df80">AP_Airspeed::get_airspeed</a>(uint8_t i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> 0.0; }</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span><span class="keywordtype">float</span> <a class="code hl_function" href="classAP__Airspeed.html#a0786aed3054f8798262803767d7d4ced">AP_Airspeed::get_differential_pressure</a>(uint8_t i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> 0.0; }</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span> </div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span><span class="preprocessor">#if AP_AIRSPEED_MSP_ENABLED</span></div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span><span class="keywordtype">void</span> AP_Airspeed::handle_msp(<span class="keyword">const</span> <a class="code hl_struct" href="structMSP_1_1PACKED.html">MSP::msp_airspeed_data_message_t</a> &amp;pkt) {}</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span> </div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__Airspeed.html#a026632eec4016aa6508389cd8ccf385d">AP_Airspeed::all_healthy</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__Airspeed.html#a7499575104f24c6502e1148c353d9637">AP_Airspeed::init</a>(<span class="keywordtype">void</span>) {};</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span><a class="code hl_function" href="classAP__Airspeed.html#ab3f44b666b8fd9389ea97a868139d1a7">AP_Airspeed::AP_Airspeed</a>() {}</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span> </div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span><span class="preprocessor">#endif </span><span class="comment">// #if AP_AIRSPEED_DUMMY_METHODS_ENABLED</span></div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span> </div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span><span class="comment">// singleton instance</span></div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span><a class="code hl_class" href="classAP__Airspeed.html">AP_Airspeed</a> *<a class="code hl_variable" href="classAP__Airspeed.html#ae5e13883f8e997681a969b213cbad4e9">AP_Airspeed::_singleton</a>;</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span> </div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespaceAP.html">AP</a> {</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span> </div>
<div class="foldopen" id="foldopen00955" data-start="{" data-end="}">
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno"><a class="line" href="namespaceAP.html#a8d01caed65921a37d8d68f70ac255aa5">  955</a></span><a class="code hl_class" href="classAP__Airspeed.html">AP_Airspeed</a> *<a class="code hl_function" href="namespaceAP.html#a8d01caed65921a37d8d68f70ac255aa5">airspeed</a>()</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>{</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classAP__Airspeed.html#af8fe29e897226fc9e3f797c67e4c31fa">AP_Airspeed::get_singleton</a>();</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>}</div>
</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span> </div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>};</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span> </div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span><span class="preprocessor">#endif  </span><span class="comment">// AP_AIRSPEED_ENABLED</span></div>
<div class="ttc" id="aAC__AttitudeControl_8cpp_html_a240c1a4ae2a70d1855f91e4a0b1ac938"><div class="ttname"><a href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a></div><div class="ttdeci">const AP_HAL::HAL &amp; hal</div><div class="ttdef"><b>Definition</b> <a href="AP__Compass__AK09916_8cpp_source.html#l00059">AP_Compass_AK09916.cpp:59</a></div></div>
<div class="ttc" id="aAP__Airspeed_8cpp_html_a131dd3a1aba6cbae5d330c5161ccfe9e"><div class="ttname"><a href="AP__Airspeed_8cpp.html#a131dd3a1aba6cbae5d330c5161ccfe9e">ARSPD_DEFAULT_PIN</a></div><div class="ttdeci">#define ARSPD_DEFAULT_PIN</div><div class="ttdef"><b>Definition</b> <a href="#l00082">AP_Airspeed.cpp:82</a></div></div>
<div class="ttc" id="aAP__Airspeed_8cpp_html_a377009f4985fcdc2969d2bf887b0e555"><div class="ttname"><a href="AP__Airspeed_8cpp.html#a377009f4985fcdc2969d2bf887b0e555">HAL_AIRSPEED_BUS_DEFAULT</a></div><div class="ttdeci">#define HAL_AIRSPEED_BUS_DEFAULT</div><div class="ttdef"><b>Definition</b> <a href="#l00086">AP_Airspeed.cpp:86</a></div></div>
<div class="ttc" id="aAP__Airspeed_8cpp_html_a9053ed1dcbc482203ed6f3331b373feb"><div class="ttname"><a href="AP__Airspeed_8cpp.html#a9053ed1dcbc482203ed6f3331b373feb">ARSPD_DEFAULT_TYPE</a></div><div class="ttdeci">#define ARSPD_DEFAULT_TYPE</div><div class="ttdef"><b>Definition</b> <a href="#l00081">AP_Airspeed.cpp:81</a></div></div>
<div class="ttc" id="aAP__Airspeed_8cpp_html_ac89232e447b6bfab4f1cdd92259b5348"><div class="ttname"><a href="AP__Airspeed_8cpp.html#ac89232e447b6bfab4f1cdd92259b5348">OPTIONS_DEFAULT</a></div><div class="ttdeci">#define OPTIONS_DEFAULT</div><div class="ttdef"><b>Definition</b> <a href="#l00089">AP_Airspeed.cpp:89</a></div></div>
<div class="ttc" id="aAP__Airspeed_8cpp_html_ae08c3ca4ba26b63cda0bb3e3c6c02785"><div class="ttname"><a href="AP__Airspeed_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a></div><div class="ttdeci">const AP_HAL::HAL &amp; hal</div><div class="ttdef"><b>Definition</b> <a href="AC__PID__test_8cpp_source.html#l00021">AC_PID_test.cpp:21</a></div></div>
<div class="ttc" id="aAP__Airspeed_8h_html"><div class="ttname"><a href="AP__Airspeed_8h.html">AP_Airspeed.h</a></div></div>
<div class="ttc" id="aAP__Airspeed__ASP5033_8h_html"><div class="ttname"><a href="AP__Airspeed__ASP5033_8h.html">AP_Airspeed_ASP5033.h</a></div></div>
<div class="ttc" id="aAP__Airspeed__Backend_8h_html"><div class="ttname"><a href="AP__Airspeed__Backend_8h.html">AP_Airspeed_Backend.h</a></div></div>
<div class="ttc" id="aAP__Airspeed__DLVR_8h_html"><div class="ttname"><a href="AP__Airspeed__DLVR_8h.html">AP_Airspeed_DLVR.h</a></div></div>
<div class="ttc" id="aAP__Airspeed__DroneCAN_8h_html"><div class="ttname"><a href="AP__Airspeed__DroneCAN_8h.html">AP_Airspeed_DroneCAN.h</a></div></div>
<div class="ttc" id="aAP__Airspeed__External_8h_html"><div class="ttname"><a href="AP__Airspeed__External_8h.html">AP_Airspeed_External.h</a></div></div>
<div class="ttc" id="aAP__Airspeed__MS4525_8h_html"><div class="ttname"><a href="AP__Airspeed__MS4525_8h.html">AP_Airspeed_MS4525.h</a></div></div>
<div class="ttc" id="aAP__Airspeed__MS5525_8h_html"><div class="ttname"><a href="AP__Airspeed__MS5525_8h.html">AP_Airspeed_MS5525.h</a></div></div>
<div class="ttc" id="aAP__Airspeed__MSP_8h_html"><div class="ttname"><a href="AP__Airspeed__MSP_8h.html">AP_Airspeed_MSP.h</a></div></div>
<div class="ttc" id="aAP__Airspeed__NMEA_8h_html"><div class="ttname"><a href="AP__Airspeed__NMEA_8h.html">AP_Airspeed_NMEA.h</a></div></div>
<div class="ttc" id="aAP__Airspeed__SDP3X_8h_html"><div class="ttname"><a href="AP__Airspeed__SDP3X_8h.html">AP_Airspeed_SDP3X.h</a></div></div>
<div class="ttc" id="aAP__Airspeed__SITL_8h_html"><div class="ttname"><a href="AP__Airspeed__SITL_8h.html">AP_Airspeed_SITL.h</a></div></div>
<div class="ttc" id="aAP__Airspeed__analog_8h_html"><div class="ttname"><a href="AP__Airspeed__analog_8h.html">AP_Airspeed_analog.h</a></div></div>
<div class="ttc" id="aAP__Airspeed__config_8h_html"><div class="ttname"><a href="AP__Airspeed__config_8h.html">AP_Airspeed_config.h</a></div></div>
<div class="ttc" id="aAP__Airspeed__config_8h_html_a093927e601750464a5455025b142a7ce"><div class="ttname"><a href="AP__Airspeed__config_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a></div><div class="ttdeci">#define AIRSPEED_MAX_SENSORS</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed__config_8h_source.html#l00060">AP_Airspeed_config.h:60</a></div></div>
<div class="ttc" id="aAP__Common_8h_html"><div class="ttname"><a href="AP__Common_8h.html">AP_Common.h</a></div><div class="ttdoc">Common definitions and utility routines for the ArduPilot libraries.</div></div>
<div class="ttc" id="aAP__FixedWing_8h_html"><div class="ttname"><a href="AP__FixedWing_8h.html">AP_FixedWing.h</a></div></div>
<div class="ttc" id="aAP__HAL_2I2CDevice_8h_html"><div class="ttname"><a href="AP__HAL_2I2CDevice_8h.html">I2CDevice.h</a></div></div>
<div class="ttc" id="aAP__HAL_8h_html"><div class="ttname"><a href="AP__HAL_8h.html">AP_HAL.h</a></div></div>
<div class="ttc" id="aAP__InternalError_8cpp_html_a02ad7a50d04e0dbf28c6c90a183a0579"><div class="ttname"><a href="AP__InternalError_8cpp.html#a02ad7a50d04e0dbf28c6c90a183a0579">instance</a></div><div class="ttdeci">static AP_InternalError instance</div><div class="ttdef"><b>Definition</b> <a href="AP__InternalError_8cpp_source.html#l00015">AP_InternalError.cpp:15</a></div></div>
<div class="ttc" id="aAP__Logger_2LogStructure_8h_html_abca6b52da10346c72b10dd04698e4420"><div class="ttname"><a href="AP__Logger_2LogStructure_8h.html#abca6b52da10346c72b10dd04698e4420">LOG_PACKET_HEADER_INIT</a></div><div class="ttdeci">#define LOG_PACKET_HEADER_INIT(id)</div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_2LogStructure_8h_source.html#l00116">LogStructure.h:116</a></div></div>
<div class="ttc" id="aAP__Logger_2LogStructure_8h_html_aec1abc8a4fd0e25bbcf703a19b991a05ae3521e6ecc7612aeb21978bfcd41d162"><div class="ttname"><a href="AP__Logger_2LogStructure_8h.html#aec1abc8a4fd0e25bbcf703a19b991a05ae3521e6ecc7612aeb21978bfcd41d162">LOG_ARSP_MSG</a></div><div class="ttdeci">@ LOG_ARSP_MSG</div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_2LogStructure_8h_source.html#l01347">LogStructure.h:1347</a></div></div>
<div class="ttc" id="aAP__Logger_8h_html"><div class="ttname"><a href="AP__Logger_8h.html">AP_Logger.h</a></div></div>
<div class="ttc" id="aAP__Logger_8h_html_abfb7fdeeabd95c90488508e20c5ea981ad73f32c55c46f4f0cd3f0a485c089bfa"><div class="ttname"><a href="AP__Logger_8h.html#abfb7fdeeabd95c90488508e20c5ea981ad73f32c55c46f4f0cd3f0a485c089bfa">LogEvent::AIRSPEED_PRIMARY_CHANGED</a></div><div class="ttdeci">@ AIRSPEED_PRIMARY_CHANGED</div></div>
<div class="ttc" id="aAP__Math_8h_html"><div class="ttname"><a href="AP__Math_8h.html">AP_Math.h</a></div></div>
<div class="ttc" id="aAP__Math_8h_html_a2a12cce483e9b870da70d30406d82c60"><div class="ttname"><a href="AP__Math_8h.html#a2a12cce483e9b870da70d30406d82c60">is_zero</a></div><div class="ttdeci">bool is_zero(const T fVal1)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00053">AP_Math.h:53</a></div></div>
<div class="ttc" id="aAP__Math_8h_html_a34f41fcf2bc527b1728ae04423dfba46"><div class="ttname"><a href="AP__Math_8h.html#a34f41fcf2bc527b1728ae04423dfba46">sq</a></div><div class="ttdeci">ftype sq(const T val)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00225">AP_Math.h:225</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a0f9acb038a5283b964b862aea8cc5051"><div class="ttname"><a href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div><div class="ttdeci">#define AP_GROUPEND</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00163">AP_Param.h:163</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a16c360358c5d6a08d34f60921fd916a9"><div class="ttname"><a href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a></div><div class="ttdeci">#define AP_SUBGROUPINFO(element, name, idx, thisclazz, elclazz)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00152">AP_Param.h:152</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a5def49b63b71690b19ea5a19ee3b4788"><div class="ttname"><a href="AP__Param_8h.html#a5def49b63b71690b19ea5a19ee3b4788">AP_PARAM_FRAME_PLANE</a></div><div class="ttdeci">#define AP_PARAM_FRAME_PLANE</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00118">AP_Param.h:118</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a752a6a1d27589c64a386ab2818e7057d"><div class="ttname"><a href="AP__Param_8h.html#a752a6a1d27589c64a386ab2818e7057d">AP_GROUPINFO_FRAME</a></div><div class="ttdeci">#define AP_GROUPINFO_FRAME(name, idx, clazz, element, def, frame_flags)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00136">AP_Param.h:136</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a78a408c84f2a1bafde256ac650142e4d"><div class="ttname"><a href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a></div><div class="ttdeci">#define AP_GROUPINFO(name, idx, clazz, element, def)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00145">AP_Param.h:145</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_ac24e2eb16c2194e975d27e47ddcb7f1c"><div class="ttname"><a href="AP__Param_8h.html#ac24e2eb16c2194e975d27e47ddcb7f1c">AP_GROUPINFO_FLAGS</a></div><div class="ttdeci">#define AP_GROUPINFO_FLAGS(name, idx, clazz, element, def, flags)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00133">AP_Param.h:133</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_ad9ca22a1e508dceea20feda89a344f9a"><div class="ttname"><a href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9a">ap_var_type</a></div><div class="ttdeci">ap_var_type</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00178">AP_Param.h:178</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_ad9ca22a1e508dceea20feda89a344f9aa4cc8155d0281f24ea7d8069ad6004395"><div class="ttname"><a href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9aa4cc8155d0281f24ea7d8069ad6004395">AP_PARAM_INT32</a></div><div class="ttdeci">@ AP_PARAM_INT32</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00182">AP_Param.h:182</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_ad9ca22a1e508dceea20feda89a344f9aa6b298bc938d9667ff3d25c0e8b94c349"><div class="ttname"><a href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9aa6b298bc938d9667ff3d25c0e8b94c349">AP_PARAM_FLOAT</a></div><div class="ttdeci">@ AP_PARAM_FLOAT</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00183">AP_Param.h:183</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_ad9ca22a1e508dceea20feda89a344f9aae846a3e359a88214fe754f3862bc9347"><div class="ttname"><a href="AP__Param_8h.html#ad9ca22a1e508dceea20feda89a344f9aae846a3e359a88214fe754f3862bc9347">AP_PARAM_INT8</a></div><div class="ttdeci">@ AP_PARAM_INT8</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00180">AP_Param.h:180</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_ae25c1c7495435989f8be5781c86be078"><div class="ttname"><a href="AP__Param_8h.html#ae25c1c7495435989f8be5781c86be078">AP_PARAM_FLAG_ENABLE</a></div><div class="ttdeci">#define AP_PARAM_FLAG_ENABLE</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00087">AP_Param.h:87</a></div></div>
<div class="ttc" id="aAP__Vehicle__Type_8h_html"><div class="ttname"><a href="AP__Vehicle__Type_8h.html">AP_Vehicle_Type.h</a></div></div>
<div class="ttc" id="aAirspeed_8cpp_html_abfed87a61c42e885ee14d5222b47583f"><div class="ttname"><a href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a></div><div class="ttdeci">AP_Airspeed airspeed</div><div class="ttdef"><b>Definition</b> <a href="Airspeed_8cpp_source.html#l00038">Airspeed.cpp:38</a></div></div>
<div class="ttc" id="aAirspeed_8cpp_html_afc1d28cfbce795d6ea954ebe725241f5"><div class="ttname"><a href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a></div><div class="ttdeci">float temperature</div><div class="ttdef"><b>Definition</b> <a href="Airspeed_8cpp_source.html#l00032">Airspeed.cpp:32</a></div></div>
<div class="ttc" id="aBusTest_8cpp_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="BusTest_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition</b> <a href="BusTest_8cpp_source.html#l00011">BusTest.cpp:11</a></div></div>
<div class="ttc" id="aCompassCalibrator__index__test_8cpp_html_a21c9253fe2e2baa59acc05a4ba2d99b5"><div class="ttname"><a href="CompassCalibrator__index__test_8cpp.html#a21c9253fe2e2baa59acc05a4ba2d99b5">cal</a></div><div class="ttdeci">CompassCalibratorAccess cal</div><div class="ttdef"><b>Definition</b> <a href="CompassCalibrator__index__test_8cpp_source.html#l00032">CompassCalibrator_index_test.cpp:32</a></div></div>
<div class="ttc" id="aGCS_8h_html"><div class="ttname"><a href="GCS_8h.html">GCS.h</a></div><div class="ttdoc">Interface definition for the various Ground Control System.</div></div>
<div class="ttc" id="aGCS_8h_html_a266bfe8eda675e1092f045e93932b4a6"><div class="ttname"><a href="GCS_8h.html#a266bfe8eda675e1092f045e93932b4a6">GCS_SEND_TEXT</a></div><div class="ttdeci">#define GCS_SEND_TEXT(severity, format, args...)</div><div class="ttdef"><b>Definition</b> <a href="GCS_8h_source.html#l01349">GCS.h:1349</a></div></div>
<div class="ttc" id="aGCS_8h_html_ab53f292b698f9a6a3f029dfdbd5a43de"><div class="ttname"><a href="GCS_8h.html#ab53f292b698f9a6a3f029dfdbd5a43de">gcs</a></div><div class="ttdeci">GCS &amp; gcs()</div><div class="ttdef"><b>Definition</b> <a href="GCS__Common_8cpp_source.html#l06846">GCS_Common.cpp:6846</a></div></div>
<div class="ttc" id="aSRV__Channel_8h_html"><div class="ttname"><a href="SRV__Channel_8h.html">SRV_Channel.h</a></div></div>
<div class="ttc" id="aTransferFunctionCheck_8cpp_html_ab84905254d7d9db8e55931846bcf06ea"><div class="ttname"><a href="TransferFunctionCheck_8cpp.html#ab84905254d7d9db8e55931846bcf06ea">type</a></div><div class="ttdeci">enum filter_type type</div></div>
<div class="ttc" id="aclassAP__Airspeed__ASP5033_html"><div class="ttname"><a href="classAP__Airspeed__ASP5033.html">AP_Airspeed_ASP5033</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed__ASP5033_8h_source.html#l00026">AP_Airspeed_ASP5033.h:27</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__Analog_html"><div class="ttname"><a href="classAP__Airspeed__Analog.html">AP_Airspeed_Analog</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed__analog_8h_source.html#l00011">AP_Airspeed_analog.h:12</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__Backend_html"><div class="ttname"><a href="classAP__Airspeed__Backend.html">AP_Airspeed_Backend</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed__Backend_8h_source.html#l00031">AP_Airspeed_Backend.h:31</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__Backend_html_a669905425db7a26691423a20b33efa80"><div class="ttname"><a href="classAP__Airspeed__Backend.html#a669905425db7a26691423a20b33efa80">AP_Airspeed_Backend::handle_msp</a></div><div class="ttdeci">virtual void handle_msp(const MSP::msp_airspeed_data_message_t &amp;pkt)</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed__Backend_8h_source.html#l00051">AP_Airspeed_Backend.h:51</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__Backend_html_a80325707842252be140a6add3362e52f"><div class="ttname"><a href="classAP__Airspeed__Backend.html#a80325707842252be140a6add3362e52f">AP_Airspeed_Backend::get_airspeed</a></div><div class="ttdeci">virtual bool get_airspeed(float &amp;airspeed)</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed__Backend_8h_source.html#l00049">AP_Airspeed_Backend.h:49</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__Backend_html_ab0e4ed6819fefd4da1c7a8e30a595186"><div class="ttname"><a href="classAP__Airspeed__Backend.html#ab0e4ed6819fefd4da1c7a8e30a595186">AP_Airspeed_Backend::get_temperature</a></div><div class="ttdeci">virtual bool get_temperature(float &amp;temperature)=0</div></div>
<div class="ttc" id="aclassAP__Airspeed__Backend_html_ab240679cb0ed94c70730cd4cb76382ec"><div class="ttname"><a href="classAP__Airspeed__Backend.html#ab240679cb0ed94c70730cd4cb76382ec">AP_Airspeed_Backend::get_differential_pressure</a></div><div class="ttdeci">virtual bool get_differential_pressure(float &amp;pressure)</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed__Backend_8h_source.html#l00040">AP_Airspeed_Backend.h:40</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__DLVR_html"><div class="ttname"><a href="classAP__Airspeed__DLVR.html">AP_Airspeed_DLVR</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed__DLVR_8h_source.html#l00031">AP_Airspeed_DLVR.h:32</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__MS4525_html"><div class="ttname"><a href="classAP__Airspeed__MS4525.html">AP_Airspeed_MS4525</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed__MS4525_8h_source.html#l00032">AP_Airspeed_MS4525.h:33</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__MS5525_html"><div class="ttname"><a href="classAP__Airspeed__MS5525.html">AP_Airspeed_MS5525</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed__MS5525_8h_source.html#l00032">AP_Airspeed_MS5525.h:33</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__MS5525_html_aed5ee11db487795d796f8a6c940898e7a060d41a05143cf2a08cd2b6720784845"><div class="ttname"><a href="classAP__Airspeed__MS5525.html#aed5ee11db487795d796f8a6c940898e7a060d41a05143cf2a08cd2b6720784845">AP_Airspeed_MS5525::MS5525_ADDR_2</a></div><div class="ttdeci">@ MS5525_ADDR_2</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed__MS5525_8h_source.html#l00037">AP_Airspeed_MS5525.h:37</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__MS5525_html_aed5ee11db487795d796f8a6c940898e7a8a501e87a16c8e40f988f9b705b4b4af"><div class="ttname"><a href="classAP__Airspeed__MS5525.html#aed5ee11db487795d796f8a6c940898e7a8a501e87a16c8e40f988f9b705b4b4af">AP_Airspeed_MS5525::MS5525_ADDR_1</a></div><div class="ttdeci">@ MS5525_ADDR_1</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed__MS5525_8h_source.html#l00036">AP_Airspeed_MS5525.h:36</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__MS5525_html_aed5ee11db487795d796f8a6c940898e7ad0fdadd4338e9bc54ca86eee4054275d"><div class="ttname"><a href="classAP__Airspeed__MS5525.html#aed5ee11db487795d796f8a6c940898e7ad0fdadd4338e9bc54ca86eee4054275d">AP_Airspeed_MS5525::MS5525_ADDR_AUTO</a></div><div class="ttdeci">@ MS5525_ADDR_AUTO</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed__MS5525_8h_source.html#l00038">AP_Airspeed_MS5525.h:38</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__NMEA_html"><div class="ttname"><a href="classAP__Airspeed__NMEA.html">AP_Airspeed_NMEA</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed__NMEA_8h_source.html#l00010">AP_Airspeed_NMEA.h:11</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__Params_html"><div class="ttname"><a href="classAP__Airspeed__Params.html">AP_Airspeed_Params</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00019">AP_Airspeed.h:19</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__Params_html_a3c86f7c7a468b4cf164c4d836b008f7f"><div class="ttname"><a href="classAP__Airspeed__Params.html#a3c86f7c7a468b4cf164c4d836b008f7f">AP_Airspeed_Params::pin</a></div><div class="ttdeci">AP_Int8 pin</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00033">AP_Airspeed.h:33</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__Params_html_a472564ee0edb0b9182a5e5d2d4ee42a8"><div class="ttname"><a href="classAP__Airspeed__Params.html#a472564ee0edb0b9182a5e5d2d4ee42a8">AP_Airspeed_Params::ratio</a></div><div class="ttdeci">AP_Float ratio</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00028">AP_Airspeed.h:28</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__Params_html_a4c7e21c2d194b76dee274680208dacea"><div class="ttname"><a href="classAP__Airspeed__Params.html#a4c7e21c2d194b76dee274680208dacea">AP_Airspeed_Params::skip_cal</a></div><div class="ttdeci">AP_Int8 skip_cal</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00034">AP_Airspeed.h:34</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__Params_html_a5854aabf6b7df18ae8cb3f409ad6925a"><div class="ttname"><a href="classAP__Airspeed__Params.html#a5854aabf6b7df18ae8cb3f409ad6925a">AP_Airspeed_Params::type</a></div><div class="ttdeci">AP_Int8 type</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00037">AP_Airspeed.h:37</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__Params_html_a6bd46fe2c6a834f9191d3cdad0429cdd"><div class="ttname"><a href="classAP__Airspeed__Params.html#a6bd46fe2c6a834f9191d3cdad0429cdd">AP_Airspeed_Params::offset</a></div><div class="ttdeci">AP_Float offset</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00027">AP_Airspeed.h:27</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__Params_html_a6f2c0f99b5653b9f6cb7e5aa4118027f"><div class="ttname"><a href="classAP__Airspeed__Params.html#a6f2c0f99b5653b9f6cb7e5aa4118027f">AP_Airspeed_Params::bus_id</a></div><div class="ttdeci">AP_Int32 bus_id</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00025">AP_Airspeed.h:25</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__Params_html_a75240ad6d627751ccea8e099e58a562a"><div class="ttname"><a href="classAP__Airspeed__Params.html#a75240ad6d627751ccea8e099e58a562a">AP_Airspeed_Params::bus</a></div><div class="ttdeci">AP_Int8 bus</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00038">AP_Airspeed.h:38</a></div></div>
<div class="ttc" id="aclassAP__Airspeed__SDP3X_html"><div class="ttname"><a href="classAP__Airspeed__SDP3X.html">AP_Airspeed_SDP3X</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed__SDP3X_8h_source.html#l00037">AP_Airspeed_SDP3X.h:38</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html"><div class="ttname"><a href="classAP__Airspeed.html">AP_Airspeed</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00069">AP_Airspeed.h:70</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a026632eec4016aa6508389cd8ccf385d"><div class="ttname"><a href="classAP__Airspeed.html#a026632eec4016aa6508389cd8ccf385d">AP_Airspeed::all_healthy</a></div><div class="ttdeci">bool all_healthy(void) const</div><div class="ttdef"><b>Definition</b> <a href="#l00845">AP_Airspeed.cpp:845</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a0786aed3054f8798262803767d7d4ced"><div class="ttname"><a href="classAP__Airspeed.html#a0786aed3054f8798262803767d7d4ced">AP_Airspeed::get_differential_pressure</a></div><div class="ttdeci">float get_differential_pressure(void) const</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00143">AP_Airspeed.h:143</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a1e2e1e0de2732a77b04ba358d58c1a45"><div class="ttname"><a href="classAP__Airspeed.html#a1e2e1e0de2732a77b04ba358d58c1a45">AP_Airspeed::primary</a></div><div class="ttdeci">uint8_t primary</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00288">AP_Airspeed.h:288</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74">AP_Airspeed::airspeed_type</a></div><div class="ttdeci">airspeed_type</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00176">AP_Airspeed.h:176</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74a0690146c56f88ec20259aabe4f803d5b"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a0690146c56f88ec20259aabe4f803d5b">AP_Airspeed::TYPE_NMEA_WATER</a></div><div class="ttdeci">@ TYPE_NMEA_WATER</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00190">AP_Airspeed.h:190</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74a076a654ca4145911f7d3e1a0ab4d5c33"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a076a654ca4145911f7d3e1a0ab4d5c33">AP_Airspeed::TYPE_I2C_SDP3X</a></div><div class="ttdeci">@ TYPE_I2C_SDP3X</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00183">AP_Airspeed.h:183</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74a0975db540d936db370d698708553feea"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a0975db540d936db370d698708553feea">AP_Airspeed::TYPE_I2C_MS4525</a></div><div class="ttdeci">@ TYPE_I2C_MS4525</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00178">AP_Airspeed.h:178</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74a3760a1d6437b135960501e24ef257499"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a3760a1d6437b135960501e24ef257499">AP_Airspeed::TYPE_UAVCAN</a></div><div class="ttdeci">@ TYPE_UAVCAN</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00185">AP_Airspeed.h:185</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74a3ecc8b03f65d6e4346b7d596b14fc590"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a3ecc8b03f65d6e4346b7d596b14fc590">AP_Airspeed::TYPE_EXTERNAL</a></div><div class="ttdeci">@ TYPE_EXTERNAL</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00193">AP_Airspeed.h:193</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74a41e13c618d983e15e669d1868394a250"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a41e13c618d983e15e669d1868394a250">AP_Airspeed::TYPE_I2C_MS5525_ADDRESS_1</a></div><div class="ttdeci">@ TYPE_I2C_MS5525_ADDRESS_1</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00181">AP_Airspeed.h:181</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74a52d05d041b9f3ee37086100ded8facef"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a52d05d041b9f3ee37086100ded8facef">AP_Airspeed::TYPE_MSP</a></div><div class="ttdeci">@ TYPE_MSP</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00191">AP_Airspeed.h:191</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74a5c76413fcd37d4908c36c78b176d3006"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a5c76413fcd37d4908c36c78b176d3006">AP_Airspeed::TYPE_I2C_DLVR_20IN</a></div><div class="ttdeci">@ TYPE_I2C_DLVR_20IN</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00187">AP_Airspeed.h:187</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74a60cab921f380a206b8fc17b7b2494c6e"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a60cab921f380a206b8fc17b7b2494c6e">AP_Airspeed::TYPE_I2C_ASP5033</a></div><div class="ttdeci">@ TYPE_I2C_ASP5033</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00192">AP_Airspeed.h:192</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74aad1c87db7281851520c07f83d743c540"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74aad1c87db7281851520c07f83d743c540">AP_Airspeed::TYPE_SITL</a></div><div class="ttdeci">@ TYPE_SITL</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00194">AP_Airspeed.h:194</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74ab759906368a717c8fc931a60e78050b2"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74ab759906368a717c8fc931a60e78050b2">AP_Airspeed::TYPE_I2C_DLVR_5IN</a></div><div class="ttdeci">@ TYPE_I2C_DLVR_5IN</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00184">AP_Airspeed.h:184</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74aca4effcf13abf30571a8f2af626729ba"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74aca4effcf13abf30571a8f2af626729ba">AP_Airspeed::TYPE_I2C_DLVR_30IN</a></div><div class="ttdeci">@ TYPE_I2C_DLVR_30IN</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00188">AP_Airspeed.h:188</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74acd1a6c66bf16056b667197aaf48c32bf"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74acd1a6c66bf16056b667197aaf48c32bf">AP_Airspeed::TYPE_ANALOG</a></div><div class="ttdeci">@ TYPE_ANALOG</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00179">AP_Airspeed.h:179</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74ad6f0cd62402784c987785a490e3744c6"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74ad6f0cd62402784c987785a490e3744c6">AP_Airspeed::TYPE_I2C_DLVR_10IN</a></div><div class="ttdeci">@ TYPE_I2C_DLVR_10IN</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00186">AP_Airspeed.h:186</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74ad8362365edb40fd6c8b6c4d63f1c3f97"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74ad8362365edb40fd6c8b6c4d63f1c3f97">AP_Airspeed::TYPE_I2C_MS5525</a></div><div class="ttdeci">@ TYPE_I2C_MS5525</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00180">AP_Airspeed.h:180</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74adbc5b5322d96fcc6b0114af28906bd7b"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74adbc5b5322d96fcc6b0114af28906bd7b">AP_Airspeed::TYPE_I2C_DLVR_60IN</a></div><div class="ttdeci">@ TYPE_I2C_DLVR_60IN</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00189">AP_Airspeed.h:189</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74addc8ea54d6633d54192f428bb33aa104"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74addc8ea54d6633d54192f428bb33aa104">AP_Airspeed::TYPE_NONE</a></div><div class="ttdeci">@ TYPE_NONE</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00177">AP_Airspeed.h:177</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74af161b354bbcb00f55934ddada42c724e"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74af161b354bbcb00f55934ddada42c724e">AP_Airspeed::TYPE_I2C_MS5525_ADDRESS_2</a></div><div class="ttdeci">@ TYPE_I2C_MS5525_ADDRESS_2</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00182">AP_Airspeed.h:182</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a341abf569fd3f03f96ef792a992c2fd1"><div class="ttname"><a href="classAP__Airspeed.html#a341abf569fd3f03f96ef792a992c2fd1">AP_Airspeed::set_fixedwing_parameters</a></div><div class="ttdeci">void set_fixedwing_parameters(const class AP_FixedWing *_fixed_wing_parameters)</div><div class="ttdef"><b>Definition</b> <a href="#l00207">AP_Airspeed.cpp:207</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a387f7254276f51f1b6a323da979971aa"><div class="ttname"><a href="classAP__Airspeed.html#a387f7254276f51f1b6a323da979971aa">AP_Airspeed::CalibrationState</a></div><div class="ttdeci">CalibrationState</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00219">AP_Airspeed.h:219</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a387f7254276f51f1b6a323da979971aaa06972acc3aafeb3a65dbd996c8dedc73"><div class="ttname"><a href="classAP__Airspeed.html#a387f7254276f51f1b6a323da979971aaa06972acc3aafeb3a65dbd996c8dedc73">AP_Airspeed::CalibrationState::NOT_STARTED</a></div><div class="ttdeci">@ NOT_STARTED</div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a387f7254276f51f1b6a323da979971aaab9e14d9b2886bcff408b85aefa780419"><div class="ttname"><a href="classAP__Airspeed.html#a387f7254276f51f1b6a323da979971aaab9e14d9b2886bcff408b85aefa780419">AP_Airspeed::CalibrationState::FAILED</a></div><div class="ttdeci">@ FAILED</div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a387f7254276f51f1b6a323da979971aaaca69f96c768067fbff6c911ca87bccc9"><div class="ttname"><a href="classAP__Airspeed.html#a387f7254276f51f1b6a323da979971aaaca69f96c768067fbff6c911ca87bccc9">AP_Airspeed::CalibrationState::IN_PROGRESS</a></div><div class="ttdeci">@ IN_PROGRESS</div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a387f7254276f51f1b6a323da979971aaad0749aaba8b833466dfcbb0428e4f89c"><div class="ttname"><a href="classAP__Airspeed.html#a387f7254276f51f1b6a323da979971aaad0749aaba8b833466dfcbb0428e4f89c">AP_Airspeed::CalibrationState::SUCCESS</a></div><div class="ttdeci">@ SUCCESS</div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a454316cc394033c2f636a5e86f9f49f8"><div class="ttname"><a href="classAP__Airspeed.html#a454316cc394033c2f636a5e86f9f49f8">AP_Airspeed::check_sensor_failures</a></div><div class="ttdeci">void check_sensor_failures()</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed__Health_8cpp_source.html#l00014">AP_Airspeed_Health.cpp:14</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a46530aeab7b4604a07bfbd14a948d13c"><div class="ttname"><a href="classAP__Airspeed.html#a46530aeab7b4604a07bfbd14a948d13c">AP_Airspeed::add_backend</a></div><div class="ttdeci">bool add_backend(AP_Airspeed_Backend *backend)</div><div class="ttdef"><b>Definition</b> <a href="#l00215">AP_Airspeed.cpp:215</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a4bd2b71e32fa79eed03ff26744c94803"><div class="ttname"><a href="classAP__Airspeed.html#a4bd2b71e32fa79eed03ff26744c94803">AP_Airspeed::get_calibration_state</a></div><div class="ttdeci">CalibrationState get_calibration_state() const</div><div class="ttdef"><b>Definition</b> <a href="#l00587">AP_Airspeed.cpp:587</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a53609e78d3a3f38684c040911164c4c8"><div class="ttname"><a href="classAP__Airspeed.html#a53609e78d3a3f38684c040911164c4c8">AP_Airspeed::calibration_state</a></div><div class="ttdeci">CalibrationState calibration_state[AIRSPEED_MAX_SENSORS]</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00243">AP_Airspeed.h:243</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a55bb3c0d9c379be14922a721659a256e"><div class="ttname"><a href="classAP__Airspeed.html#a55bb3c0d9c379be14922a721659a256e">AP_Airspeed::_force_disable_use</a></div><div class="ttdeci">bool _force_disable_use</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00285">AP_Airspeed.h:285</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a5fe60e527bcf3fc74c5e08b6d3f14e79"><div class="ttname"><a href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79">AP_Airspeed::pitot_tube_order</a></div><div class="ttdeci">pitot_tube_order</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00165">AP_Airspeed.h:165</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a5fe60e527bcf3fc74c5e08b6d3f14e79a5f6870ea399dc3d3893009a212282aa9"><div class="ttname"><a href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79a5f6870ea399dc3d3893009a212282aa9">AP_Airspeed::PITOT_TUBE_ORDER_NEGATIVE</a></div><div class="ttdeci">@ PITOT_TUBE_ORDER_NEGATIVE</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00166">AP_Airspeed.h:166</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a5fe60e527bcf3fc74c5e08b6d3f14e79aab15a46a527e1bf4889bddc31332222a"><div class="ttname"><a href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79aab15a46a527e1bf4889bddc31332222a">AP_Airspeed::PITOT_TUBE_ORDER_POSITIVE</a></div><div class="ttdeci">@ PITOT_TUBE_ORDER_POSITIVE</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00165">AP_Airspeed.h:165</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a5fe60e527bcf3fc74c5e08b6d3f14e79aadd488c9906fa816a58feefd09aab8b2"><div class="ttname"><a href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79aadd488c9906fa816a58feefd09aab8b2">AP_Airspeed::PITOT_TUBE_ORDER_AUTO</a></div><div class="ttdeci">@ PITOT_TUBE_ORDER_AUTO</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00167">AP_Airspeed.h:167</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a66e50c03fea9586cc259e68f6870d3de"><div class="ttname"><a href="classAP__Airspeed.html#a66e50c03fea9586cc259e68f6870d3de">AP_Airspeed::fixed_wing_parameters</a></div><div class="ttdeci">const AP_FixedWing * fixed_wing_parameters</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00336">AP_Airspeed.h:336</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a68b852e7a4b4b62aca331472ce3e8419"><div class="ttname"><a href="classAP__Airspeed.html#a68b852e7a4b4b62aca331472ce3e8419">AP_Airspeed::param</a></div><div class="ttdeci">AP_Airspeed_Params param[AIRSPEED_MAX_SENSORS]</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00241">AP_Airspeed.h:241</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a694a19befdc15d84bccbbae3c348f52d"><div class="ttname"><a href="classAP__Airspeed.html#a694a19befdc15d84bccbbae3c348f52d">AP_Airspeed::update</a></div><div class="ttdeci">void update(void)</div><div class="ttdef"><b>Definition</b> <a href="#l00673">AP_Airspeed.cpp:673</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a7499575104f24c6502e1148c353d9637"><div class="ttname"><a href="classAP__Airspeed.html#a7499575104f24c6502e1148c353d9637">AP_Airspeed::init</a></div><div class="ttdeci">void init(void)</div><div class="ttdef"><b>Definition</b> <a href="#l00310">AP_Airspeed.cpp:310</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a79e1c8c2181a403fd1d99a5669fc4795"><div class="ttname"><a href="classAP__Airspeed.html#a79e1c8c2181a403fd1d99a5669fc4795">AP_Airspeed::allocate</a></div><div class="ttdeci">void allocate()</div><div class="ttdef"><b>Definition</b> <a href="#l00332">AP_Airspeed.cpp:332</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a7cc75e190d3bf25aceeeb29f536659ff"><div class="ttname"><a href="classAP__Airspeed.html#a7cc75e190d3bf25aceeeb29f536659ff">AP_Airspeed::_enable</a></div><div class="ttdeci">AP_Int8 _enable</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00231">AP_Airspeed.h:231</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a81cc77a3b3c952151261b53fc4467443"><div class="ttname"><a href="classAP__Airspeed.html#a81cc77a3b3c952151261b53fc4467443">AP_Airspeed::use</a></div><div class="ttdeci">bool use(void) const</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00130">AP_Airspeed.h:130</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a86b49520d90ba23d15fb79614605e522"><div class="ttname"><a href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">AP_Airspeed::enabled</a></div><div class="ttdeci">bool enabled(void) const</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00139">AP_Airspeed.h:139</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a891e28450f972899afe3c4af4d3cd664"><div class="ttname"><a href="classAP__Airspeed.html#a891e28450f972899afe3c4af4d3cd664">AP_Airspeed::num_sensors</a></div><div class="ttdeci">uint8_t num_sensors</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00289">AP_Airspeed.h:289</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_a8aa12f7192b881def04e782ae04835a9"><div class="ttname"><a href="classAP__Airspeed.html#a8aa12f7192b881def04e782ae04835a9">AP_Airspeed::healthy</a></div><div class="ttdeci">bool healthy(void) const</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00150">AP_Airspeed.h:150</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_aa1d987e4060ba1751e6be89f7f51a9b5"><div class="ttname"><a href="classAP__Airspeed.html#aa1d987e4060ba1751e6be89f7f51a9b5">AP_Airspeed::get_offset</a></div><div class="ttdeci">float get_offset(void) const</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00325">AP_Airspeed.h:325</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_aa4ac5108744a4b04eb11043acd6d4bbf"><div class="ttname"><a href="classAP__Airspeed.html#aa4ac5108744a4b04eb11043acd6d4bbf">AP_Airspeed::primary_sensor</a></div><div class="ttdeci">AP_Int8 primary_sensor</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00234">AP_Airspeed.h:234</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_ab3f44b666b8fd9389ea97a868139d1a7"><div class="ttname"><a href="classAP__Airspeed.html#ab3f44b666b8fd9389ea97a868139d1a7">AP_Airspeed::AP_Airspeed</a></div><div class="ttdeci">AP_Airspeed()</div><div class="ttdef"><b>Definition</b> <a href="#l00190">AP_Airspeed.cpp:190</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_ab4d2d1dadc9036ad57cfadb93d3b4c2a"><div class="ttname"><a href="classAP__Airspeed.html#ab4d2d1dadc9036ad57cfadb93d3b4c2a">AP_Airspeed::get_temperature</a></div><div class="ttdeci">bool get_temperature(uint8_t i, float &amp;temperature)</div><div class="ttdef"><b>Definition</b> <a href="#l00494">AP_Airspeed.cpp:494</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_ab77effd1e8538594b0d10180d027ba2f"><div class="ttname"><a href="classAP__Airspeed.html#ab77effd1e8538594b0d10180d027ba2f">AP_Airspeed::lib_enabled</a></div><div class="ttdeci">bool lib_enabled() const</div><div class="ttdef"><b>Definition</b> <a href="#l00855">AP_Airspeed.cpp:855</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_ab7acb1a2e812dabbf0a0cb4eebc7b851"><div class="ttname"><a href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">AP_Airspeed::sensor</a></div><div class="ttdeci">AP_Airspeed_Backend * sensor[AIRSPEED_MAX_SENSORS]</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00330">AP_Airspeed.h:330</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_ab82c0541f8a638719b255bc3c973df80"><div class="ttname"><a href="classAP__Airspeed.html#ab82c0541f8a638719b255bc3c973df80">AP_Airspeed::get_airspeed</a></div><div class="ttdeci">float get_airspeed(void) const</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00100">AP_Airspeed.h:100</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_ab8bcd187bf41538705278aaa92889328"><div class="ttname"><a href="classAP__Airspeed.html#ab8bcd187bf41538705278aaa92889328">AP_Airspeed::convert_per_instance</a></div><div class="ttdeci">void convert_per_instance()</div><div class="ttdef"><b>Definition</b> <a href="#l00245">AP_Airspeed.cpp:245</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_ab94424cff1556776d75bda1f86fc2051"><div class="ttname"><a href="classAP__Airspeed.html#ab94424cff1556776d75bda1f86fc2051">AP_Airspeed::get_raw_airspeed</a></div><div class="ttdeci">float get_raw_airspeed(void) const</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00104">AP_Airspeed.h:104</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_ac4301d128dccde68d647bc3c191d6461"><div class="ttname"><a href="classAP__Airspeed.html#ac4301d128dccde68d647bc3c191d6461">AP_Airspeed::Log_Airspeed</a></div><div class="ttdeci">void Log_Airspeed()</div></div>
<div class="ttc" id="aclassAP__Airspeed_html_ac5e344d640297f0567d4a208a273b3c5"><div class="ttname"><a href="classAP__Airspeed.html#ac5e344d640297f0567d4a208a273b3c5">AP_Airspeed::_log_bit</a></div><div class="ttdeci">uint32_t _log_bit</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00291">AP_Airspeed.h:291</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_ac6be10dda7f4ce96b0e9fd6d30ea9c85"><div class="ttname"><a href="classAP__Airspeed.html#ac6be10dda7f4ce96b0e9fd6d30ea9c85">AP_Airspeed::update_calibration</a></div><div class="ttdeci">void update_calibration(const Vector3f &amp;vground, int16_t max_airspeed_allowed_during_cal)</div><div class="ttdef"><b>Definition</b> <a href="Airspeed__Calibration_8cpp_source.html#l00162">Airspeed_Calibration.cpp:162</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_acccc2efc4ab9b5dbcf4932fb422cbae7"><div class="ttname"><a href="classAP__Airspeed.html#acccc2efc4ab9b5dbcf4932fb422cbae7">AP_Airspeed::read</a></div><div class="ttdeci">void read(uint8_t i)</div><div class="ttdef"><b>Definition</b> <a href="#l00604">AP_Airspeed.cpp:604</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_aceb60f7d07316739d276a0a29e9fe991"><div class="ttname"><a href="classAP__Airspeed.html#aceb60f7d07316739d276a0a29e9fe991">AP_Airspeed::get_pressure</a></div><div class="ttdeci">float get_pressure(uint8_t i)</div><div class="ttdef"><b>Definition</b> <a href="#l00481">AP_Airspeed.cpp:481</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_ad726cb155dae53f791866de0a6e7efc5"><div class="ttname"><a href="classAP__Airspeed.html#ad726cb155dae53f791866de0a6e7efc5">AP_Airspeed::get_corrected_pressure</a></div><div class="ttdeci">float get_corrected_pressure(void) const</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00207">AP_Airspeed.h:207</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_adc6aea205428c39d3ff51f335769647e"><div class="ttname"><a href="classAP__Airspeed.html#adc6aea205428c39d3ff51f335769647e">AP_Airspeed::state</a></div><div class="ttdeci">struct AP_Airspeed::airspeed_state state[AIRSPEED_MAX_SENSORS]</div></div>
<div class="ttc" id="aclassAP__Airspeed_html_ae5e13883f8e997681a969b213cbad4e9"><div class="ttname"><a href="classAP__Airspeed.html#ae5e13883f8e997681a969b213cbad4e9">AP_Airspeed::_singleton</a></div><div class="ttdeci">static AP_Airspeed * _singleton</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00229">AP_Airspeed.h:229</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_aeff64f2b0e0e1312d85720fbc9cd7166"><div class="ttname"><a href="classAP__Airspeed.html#aeff64f2b0e0e1312d85720fbc9cd7166">AP_Airspeed::max_speed_pcnt</a></div><div class="ttdeci">AP_Int8 max_speed_pcnt</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00235">AP_Airspeed.h:235</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_af399a129f73b4b75e7c453bdb51358a3"><div class="ttname"><a href="classAP__Airspeed.html#af399a129f73b4b75e7c453bdb51358a3">AP_Airspeed::var_info</a></div><div class="ttdeci">static const struct AP_Param::GroupInfo var_info[]</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00094">AP_Airspeed.h:94</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_af8fe29e897226fc9e3f797c67e4c31fa"><div class="ttname"><a href="classAP__Airspeed.html#af8fe29e897226fc9e3f797c67e4c31fa">AP_Airspeed::get_singleton</a></div><div class="ttdeci">static AP_Airspeed * get_singleton()</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00203">AP_Airspeed.h:203</a></div></div>
<div class="ttc" id="aclassAP__Airspeed_html_afb7c91590b3efc00ee2d72cc6bcc856f"><div class="ttname"><a href="classAP__Airspeed.html#afb7c91590b3efc00ee2d72cc6bcc856f">AP_Airspeed::calibrate</a></div><div class="ttdeci">void calibrate(bool in_startup)</div><div class="ttdef"><b>Definition</b> <a href="#l00507">AP_Airspeed.cpp:507</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1HAL_html"><div class="ttname"><a href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a></div><div class="ttdef"><b>Definition</b> <a href="HAL_8h_source.html#l00021">HAL.h:21</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1HAL_html_a9337a60383f4264fa96a20dbe43a4e2e"><div class="ttname"><a href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">AP_HAL::HAL::util</a></div><div class="ttdeci">AP_HAL::Util * util</div><div class="ttdef"><b>Definition</b> <a href="HAL_8h_source.html#l00131">HAL.h:131</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1Util_html_a19cbaa06e0e8804d1669deacf5ad6081"><div class="ttname"><a href="classAP__HAL_1_1Util.html#a19cbaa06e0e8804d1669deacf5ad6081">AP_HAL::Util::was_watchdog_reset</a></div><div class="ttdeci">virtual bool was_watchdog_reset() const</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL_2Util_8h_source.html#l00024">Util.h:24</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1Util_html_afaedff8102d9ae2fbc398d2099e30cf6"><div class="ttname"><a href="classAP__HAL_1_1Util.html#afaedff8102d9ae2fbc398d2099e30cf6">AP_HAL::Util::snprintf</a></div><div class="ttdeci">int snprintf(char *str, size_t size, const char *format,...) FMT_PRINTF(4</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL_2Util_8cpp_source.html#l00044">Util.cpp:44</a></div></div>
<div class="ttc" id="aclassAP__Logger_html_abab7cb26825a8dfb1e5e92cf7fcf4152"><div class="ttname"><a href="classAP__Logger.html#abab7cb26825a8dfb1e5e92cf7fcf4152">AP_Logger::WriteStreaming</a></div><div class="ttdeci">void WriteStreaming(const char *name, const char *labels, const char *fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_8cpp_source.html#l00992">AP_Logger.cpp:992</a></div></div>
<div class="ttc" id="aclassAP__Logger_html_acc819f09dd35b615500c4dec658519d2"><div class="ttname"><a href="classAP__Logger.html#acc819f09dd35b615500c4dec658519d2">AP_Logger::Write_Event</a></div><div class="ttdeci">void Write_Event(LogEvent id)</div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_8cpp_source.html#l01487">AP_Logger.cpp:1487</a></div></div>
<div class="ttc" id="aclassAP__Logger_html_ada8172473eb14aabbf121c20ef6ad76b"><div class="ttname"><a href="classAP__Logger.html#ada8172473eb14aabbf121c20ef6ad76b">AP_Logger::WriteBlock</a></div><div class="ttdeci">void WriteBlock(const void *pBuffer, uint16_t size)</div><div class="ttdef"><b>Definition</b> <a href="main_8cpp_source.html#l00018">main.cpp:18</a></div></div>
<div class="ttc" id="aclassAP__Param_html_a5f6dcfce1c0a79cf5bd81283e22f3201"><div class="ttname"><a href="classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a></div><div class="ttdeci">static void setup_object_defaults(const void *object_pointer, const struct GroupInfo *group_info)</div><div class="ttdef"><b>Definition</b> <a href="main_8cpp_source.html#l00010">main.cpp:10</a></div></div>
<div class="ttc" id="aclassAP__Param_html_a654a77016ef0dadc5426cbeda0c70662"><div class="ttname"><a href="classAP__Param.html#a654a77016ef0dadc5426cbeda0c70662">AP_Param::convert_old_parameter</a></div><div class="ttdeci">static void convert_old_parameter(const struct ConversionInfo *info, float scaler, uint8_t flags=0)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8cpp_source.html#l01956">AP_Param.cpp:1956</a></div></div>
<div class="ttc" id="aclassAP__Param_html_a97a7b5f898c84c99cb57c76d4ddc870c"><div class="ttname"><a href="classAP__Param.html#a97a7b5f898c84c99cb57c76d4ddc870c">AP_Param::find_top_level_key_by_pointer</a></div><div class="ttdeci">static bool find_top_level_key_by_pointer(const void *ptr, uint16_t &amp;key)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8cpp_source.html#l01057">AP_Param.cpp:1057</a></div></div>
<div class="ttc" id="aclassAP__Param_html_ae37c408fb6a06737f2010ef54f7df704"><div class="ttname"><a href="classAP__Param.html#ae37c408fb6a06737f2010ef54f7df704">AP_Param::find_key_by_pointer</a></div><div class="ttdeci">static bool find_key_by_pointer(const void *ptr, uint16_t &amp;key)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8cpp_source.html#l01030">AP_Param.cpp:1030</a></div></div>
<div class="ttc" id="aclassAirspeed__Calibration_html_ae88c0e8719c02f942e6cafeb7cf46d1e"><div class="ttname"><a href="classAirspeed__Calibration.html#ae88c0e8719c02f942e6cafeb7cf46d1e">Airspeed_Calibration::init</a></div><div class="ttdeci">void init(float initial_ratio)</div><div class="ttdef"><b>Definition</b> <a href="Airspeed__Calibration_8cpp_source.html#l00035">Airspeed_Calibration.cpp:35</a></div></div>
<div class="ttc" id="aclassGCS_html_a36bac57d1573fce99894d56aef0f7c59"><div class="ttname"><a href="classGCS.html#a36bac57d1573fce99894d56aef0f7c59">GCS::send_named_float</a></div><div class="ttdeci">void send_named_float(const char *name, float value) const</div><div class="ttdef"><b>Definition</b> <a href="GCS_8cpp_source.html#l00107">GCS.cpp:107</a></div></div>
<div class="ttc" id="aclassSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a></div><div class="ttdeci">@ k_throttle</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel_8h_source.html#l00114">SRV_Channel.h:114</a></div></div>
<div class="ttc" id="aclassSRV__Channels_html_abd70bd7df5b7206952247f9cae658250"><div class="ttname"><a href="classSRV__Channels.html#abd70bd7df5b7206952247f9cae658250">SRV_Channels::get_output_scaled</a></div><div class="ttdeci">static float get_output_scaled(SRV_Channel::Aux_servo_function_t function)</div><div class="ttdef"><b>Definition</b> <a href="SRV__Channel__aux_8cpp_source.html#l00600">SRV_Channel_aux.cpp:600</a></div></div>
<div class="ttc" id="amonocypher_8cpp_html_a3acffbd305ee72dcd4593c0d8af64a4f"><div class="ttname"><a href="monocypher_8cpp.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a></div><div class="ttdeci">#define MIN(a, b)</div><div class="ttdef"><b>Definition</b> <a href="monocypher_8cpp_source.html#l00071">monocypher.cpp:71</a></div></div>
<div class="ttc" id="amonocypher_8cpp_html_afa99ec4acc4ecb2dc3c2d05da15d0e3f"><div class="ttname"><a href="monocypher_8cpp.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a></div><div class="ttdeci">#define MAX(a, b)</div><div class="ttdef"><b>Definition</b> <a href="monocypher_8cpp_source.html#l00072">monocypher.cpp:72</a></div></div>
<div class="ttc" id="anamespaceAP__HAL_html_a52edeef7d5ffaa365e1229b87c170307"><div class="ttname"><a href="namespaceAP__HAL.html#a52edeef7d5ffaa365e1229b87c170307">AP_HAL::panic</a></div><div class="ttdeci">void panic(const char *errormsg,...) FMT_PRINTF(1</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL__ChibiOS_2system_8cpp_source.html#l00327">system.cpp:327</a></div></div>
<div class="ttc" id="anamespaceAP__HAL_html_a77dffbb18891996280308e21316ec186"><div class="ttname"><a href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a></div><div class="ttdeci">uint32_t millis()</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL__ChibiOS_2system_8cpp_source.html#l00377">system.cpp:377</a></div></div>
<div class="ttc" id="anamespaceAP__HAL_html_a7aa0ce7625c9680e30ff4a99940907a5"><div class="ttname"><a href="namespaceAP__HAL.html#a7aa0ce7625c9680e30ff4a99940907a5">AP_HAL::micros64</a></div><div class="ttdeci">uint64_t micros64()</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL__ChibiOS_2system_8cpp_source.html#l00387">system.cpp:387</a></div></div>
<div class="ttc" id="anamespaceAP_html"><div class="ttname"><a href="namespaceAP.html">AP</a></div><div class="ttdef"><b>Definition</b> <a href="AC__Avoid_8cpp_source.html#l01481">AC_Avoid.cpp:1481</a></div></div>
<div class="ttc" id="anamespaceAP_html_a8d01caed65921a37d8d68f70ac255aa5"><div class="ttname"><a href="namespaceAP.html#a8d01caed65921a37d8d68f70ac255aa5">AP::airspeed</a></div><div class="ttdeci">AP_Airspeed * airspeed()</div><div class="ttdef"><b>Definition</b> <a href="#l00955">AP_Airspeed.cpp:955</a></div></div>
<div class="ttc" id="anamespaceAP_html_aa35bfac1ea2da16f110e8e72db7b3b20"><div class="ttname"><a href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a></div><div class="ttdeci">AP_Logger &amp; logger()</div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_8cpp_source.html#l01740">AP_Logger.cpp:1740</a></div></div>
<div class="ttc" id="anmea__output_8cpp_html_a3c21c2f710a8376a0b5dbc5154540738"><div class="ttname"><a href="nmea__output_8cpp.html#a3c21c2f710a8376a0b5dbc5154540738">param</a></div><div class="ttdeci">static AP_Param param</div><div class="ttdef"><b>Definition</b> <a href="nmea__output_8cpp_source.html#l00040">nmea_output.cpp:40</a></div></div>
<div class="ttc" id="astructAP__Airspeed_1_1airspeed__state_html_a00f4fdf99fd2a1d6221972499288bb96"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a00f4fdf99fd2a1d6221972499288bb96">AP_Airspeed::airspeed_state::raw_airspeed</a></div><div class="ttdeci">float raw_airspeed</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00246">AP_Airspeed.h:246</a></div></div>
<div class="ttc" id="astructAP__Airspeed_1_1airspeed__state_html_a097e7a915727dd0907b4ce79de836ffd"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a097e7a915727dd0907b4ce79de836ffd">AP_Airspeed::airspeed_state::sum</a></div><div class="ttdeci">float sum</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00258">AP_Airspeed.h:258</a></div></div>
<div class="ttc" id="astructAP__Airspeed_1_1airspeed__state_html_a2afd446690534d4a7d424af385923345"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a2afd446690534d4a7d424af385923345">AP_Airspeed::airspeed_state::start_ms</a></div><div class="ttdeci">uint32_t start_ms</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00257">AP_Airspeed.h:257</a></div></div>
<div class="ttc" id="astructAP__Airspeed_1_1airspeed__state_html_a33efc829209e8664f23c5314dd180d0b"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a33efc829209e8664f23c5314dd180d0b">AP_Airspeed::airspeed_state::failures</a></div><div class="ttdeci">struct AP_Airspeed::airspeed_state::@15 failures</div></div>
<div class="ttc" id="astructAP__Airspeed_1_1airspeed__state_html_a3fc35b948e101bcbabb5840023c61f39"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a3fc35b948e101bcbabb5840023c61f39">AP_Airspeed::airspeed_state::read_count</a></div><div class="ttdeci">uint16_t read_count</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00260">AP_Airspeed.h:260</a></div></div>
<div class="ttc" id="astructAP__Airspeed_1_1airspeed__state_html_a50a7d083228cf5cb0eee16f0ff0ddfca"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a50a7d083228cf5cb0eee16f0ff0ddfca">AP_Airspeed::airspeed_state::count</a></div><div class="ttdeci">uint16_t count</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00259">AP_Airspeed.h:259</a></div></div>
<div class="ttc" id="astructAP__Airspeed_1_1airspeed__state_html_a522b04f07cc6928cc9ef262ac4f70052"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a522b04f07cc6928cc9ef262ac4f70052">AP_Airspeed::airspeed_state::last_pressure</a></div><div class="ttdeci">float last_pressure</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00248">AP_Airspeed.h:248</a></div></div>
<div class="ttc" id="astructAP__Airspeed_1_1airspeed__state_html_a63ab2475ebc4dd0b95f5a9fe332552d4"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a63ab2475ebc4dd0b95f5a9fe332552d4">AP_Airspeed::airspeed_state::cal</a></div><div class="ttdeci">struct AP_Airspeed::airspeed_state::@14 cal</div></div>
<div class="ttc" id="astructAP__Airspeed_1_1airspeed__state_html_a6d6006e0bb1e0f6ed506bc1c8b770bb8"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a6d6006e0bb1e0f6ed506bc1c8b770bb8">AP_Airspeed::airspeed_state::corrected_pressure</a></div><div class="ttdeci">float corrected_pressure</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00250">AP_Airspeed.h:250</a></div></div>
<div class="ttc" id="astructAP__Airspeed_1_1airspeed__state_html_a802afce0a22cdc6d44030dcd936c5949"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a802afce0a22cdc6d44030dcd936c5949">AP_Airspeed::airspeed_state::last_update_ms</a></div><div class="ttdeci">uint32_t last_update_ms</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00251">AP_Airspeed.h:251</a></div></div>
<div class="ttc" id="astructAP__Airspeed_1_1airspeed__state_html_a9550b60a046ce012f82d3cb3692f139e"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a9550b60a046ce012f82d3cb3692f139e">AP_Airspeed::airspeed_state::calibration</a></div><div class="ttdeci">Airspeed_Calibration calibration</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00264">AP_Airspeed.h:264</a></div></div>
<div class="ttc" id="astructAP__Airspeed_1_1airspeed__state_html_aa163aff2dd334bf57806d26018d8e5a7"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#aa163aff2dd334bf57806d26018d8e5a7">AP_Airspeed::airspeed_state::filtered_pressure</a></div><div class="ttdeci">float filtered_pressure</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00249">AP_Airspeed.h:249</a></div></div>
<div class="ttc" id="astructAP__Airspeed_1_1airspeed__state_html_aa31fd40bcdde69011b3ad3f43a5ddd97"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#aa31fd40bcdde69011b3ad3f43a5ddd97">AP_Airspeed::airspeed_state::use_zero_offset</a></div><div class="ttdeci">bool use_zero_offset</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00252">AP_Airspeed.h:252</a></div></div>
<div class="ttc" id="astructAP__Airspeed_1_1airspeed__state_html_ab3dd7fce5e539f71bc905c0c91803623"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#ab3dd7fce5e539f71bc905c0c91803623">AP_Airspeed::airspeed_state::health_probability</a></div><div class="ttdeci">float health_probability</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00271">AP_Airspeed.h:271</a></div></div>
<div class="ttc" id="astructAP__Airspeed_1_1airspeed__state_html_ab4575a74762035c3dd4b6537ab9917ff"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#ab4575a74762035c3dd4b6537ab9917ff">AP_Airspeed::airspeed_state::healthy</a></div><div class="ttdeci">bool healthy</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00253">AP_Airspeed.h:253</a></div></div>
<div class="ttc" id="astructAP__Airspeed_1_1airspeed__state_html_ad2cc8c12b0340c55fbe473a96bfb1e4f"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#ad2cc8c12b0340c55fbe473a96bfb1e4f">AP_Airspeed::airspeed_state::airspeed</a></div><div class="ttdeci">float airspeed</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00247">AP_Airspeed.h:247</a></div></div>
<div class="ttc" id="astructAP__Airspeed_1_1airspeed__state_html_adbd658333460e82b02fdda13d2b73229"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#adbd658333460e82b02fdda13d2b73229">AP_Airspeed::airspeed_state::last_saved_ratio</a></div><div class="ttdeci">float last_saved_ratio</div><div class="ttdef"><b>Definition</b> <a href="AP__Airspeed_8h_source.html#l00265">AP_Airspeed.h:265</a></div></div>
<div class="ttc" id="astructAP__FixedWing_html"><div class="ttname"><a href="structAP__FixedWing.html">AP_FixedWing</a></div><div class="ttdef"><b>Definition</b> <a href="AP__FixedWing_8h_source.html#l00008">AP_FixedWing.h:8</a></div></div>
<div class="ttc" id="astructAP__FixedWing_html_a2077bf8bbf9fc486c81be9b3f5b84500"><div class="ttname"><a href="structAP__FixedWing.html#a2077bf8bbf9fc486c81be9b3f5b84500">AP_FixedWing::airspeed_min</a></div><div class="ttdeci">AP_Int16 airspeed_min</div><div class="ttdef"><b>Definition</b> <a href="AP__FixedWing_8h_source.html#l00014">AP_FixedWing.h:14</a></div></div>
<div class="ttc" id="astructAP__Param_1_1ConversionInfo_html"><div class="ttname"><a href="structAP__Param_1_1ConversionInfo.html">AP_Param::ConversionInfo</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00225">AP_Param.h:225</a></div></div>
<div class="ttc" id="astructAP__Param_1_1ConversionInfo_html_a75ff5c9be71f27763a405bb41e0c0aff"><div class="ttname"><a href="structAP__Param_1_1ConversionInfo.html#a75ff5c9be71f27763a405bb41e0c0aff">AP_Param::ConversionInfo::old_key</a></div><div class="ttdeci">uint16_t old_key</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00226">AP_Param.h:226</a></div></div>
<div class="ttc" id="astructAP__Param_1_1ConversionInfo_html_aa376577857a1ea9b08066301d807110c"><div class="ttname"><a href="structAP__Param_1_1ConversionInfo.html#aa376577857a1ea9b08066301d807110c">AP_Param::ConversionInfo::new_name</a></div><div class="ttdeci">const char * new_name</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00229">AP_Param.h:229</a></div></div>
<div class="ttc" id="astructAP__Param_1_1ConversionInfo_html_ac734a9afbd723a353dd23e05006c8f90"><div class="ttname"><a href="structAP__Param_1_1ConversionInfo.html#ac734a9afbd723a353dd23e05006c8f90">AP_Param::ConversionInfo::old_group_element</a></div><div class="ttdeci">uint32_t old_group_element</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00227">AP_Param.h:227</a></div></div>
<div class="ttc" id="astructAP__Param_1_1ConversionInfo_html_aefe1f37268bb6e4cdb0920db26127a7f"><div class="ttname"><a href="structAP__Param_1_1ConversionInfo.html#aefe1f37268bb6e4cdb0920db26127a7f">AP_Param::ConversionInfo::type</a></div><div class="ttdeci">enum ap_var_type type</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00228">AP_Param.h:228</a></div></div>
<div class="ttc" id="astructAP__Param_1_1GroupInfo_html"><div class="ttname"><a href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00199">AP_Param.h:199</a></div></div>
<div class="ttc" id="astructMSP_1_1PACKED_html"><div class="ttname"><a href="structMSP_1_1PACKED.html">MSP::PACKED</a></div><div class="ttdef"><b>Definition</b> <a href="msp_8h_source.html#l00095">msp.h:95</a></div></div>
<div class="ttc" id="astructMSP_1_1PACKED_html_a863be8e04d31a445030fe6100f587589"><div class="ttname"><a href="structMSP_1_1PACKED.html#a863be8e04d31a445030fe6100f587589">MSP::PACKED::instance</a></div><div class="ttdeci">uint8_t instance</div><div class="ttdef"><b>Definition</b> <a href="msp__sensors_8h_source.html#l00020">msp_sensors.h:20</a></div></div>
<div class="ttc" id="astructlog__ARSP_html"><div class="ttname"><a href="structlog__ARSP.html">log_ARSP</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_2LogStructure_8h_source.html#l00508">LogStructure.h:508</a></div></div>
<div class="ttc" id="astructtype_html"><div class="ttname"><a href="structtype.html">type</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Scripting_2generator_2src_2main_8c_source.html#l00163">main.c:163</a></div></div>
<div class="ttc" id="atest__sim__ms5525_8cpp_html_a69a196abd38e72e63573b3f418ca9e09"><div class="ttname"><a href="test__sim__ms5525_8cpp.html#a69a196abd38e72e63573b3f418ca9e09">conversion_table</a></div><div class="ttdeci">const struct forward_check conversion_table[]</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 22 2024 16:14:13 for APM:Libraries by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
