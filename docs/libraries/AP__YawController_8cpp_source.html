<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>APM:Libraries: libraries/APM_Control/AP_YawController.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">APM:Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_50866fe7c3a898cfa96b79f21ec45884.html">APM_Control</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">AP_YawController.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="AP__YawController_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">   This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">   it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">   the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">   (at your option) any later version.</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"></span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">   This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">   GNU General Public License for more details.</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment"></span> </div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">   You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">   along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"> */</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment">//  Code by Jon Challinger</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment">//  Modified by Paul Riseborough to implement a three loop autopilot</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment">//  topology</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="comment">//</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;<a class="code" href="AP__HAL_8h.html">AP_HAL/AP_HAL.h</a>&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="AP__YawController_8h.html">AP_YawController.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &lt;<a class="code" href="AP__AHRS_8h.html">AP_AHRS/AP_AHRS.h</a>&gt;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;<a class="code" href="GCS_8h.html">GCS_MAVLink/GCS.h</a>&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Scheduler_8h.html">AP_Scheduler/AP_Scheduler.h</a>&gt;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span> </div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="keyword">extern</span> <span class="keyword">const</span> <a class="code hl_class" href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a>&amp; <a class="code hl_variable" href="AP__YawController_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>;</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span> </div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="keyword">const</span> <a class="code hl_struct" href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a> <a class="code hl_variable" href="classAP__YawController.html#aedc549b2477796ba6fc2aa3b7671644b">AP_YawController::var_info</a>[] = {</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span> </div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>    <span class="comment">// @Param: 2SRV_SLIP</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>    <span class="comment">// @DisplayName: Sideslip control gain</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>    <span class="comment">// @Description: Gain from lateral acceleration to demanded yaw rate for aircraft with enough fuselage area to detect lateral acceleration and sideslips. Do not enable for flying wings and gliders. Actively coordinates flight more than just yaw damping. Set after YAW2SRV_DAMP and YAW2SRV_INT are tuned.</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>    <span class="comment">// @Range: 0 4</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    <span class="comment">// @Increment: 0.25</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;2SRV_SLIP&quot;</span>,    0, <a class="code hl_class" href="classAP__YawController.html">AP_YawController</a>, _K_A,    0),</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>    <span class="comment">// @Param: 2SRV_INT</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>    <span class="comment">// @DisplayName: Sideslip control integrator</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    <span class="comment">// @Description: Integral gain from lateral acceleration error. Effectively trims rudder to eliminate long-term sideslip.</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    <span class="comment">// @Range: 0 2</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    <span class="comment">// @Increment: 0.25</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;2SRV_INT&quot;</span>,    1, <a class="code hl_class" href="classAP__YawController.html">AP_YawController</a>, _K_I,    0),</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    <span class="comment">// @Param: 2SRV_DAMP</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    <span class="comment">// @DisplayName: Yaw damping</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    <span class="comment">// @Description: Gain from yaw rate to rudder. Most effective at yaw damping and should be tuned after KFF_RDDRMIX. Also disables YAW2SRV_INT if set to 0.</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    <span class="comment">// @Range: 0 2</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>    <span class="comment">// @Increment: 0.25</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;2SRV_DAMP&quot;</span>,   2, <a class="code hl_class" href="classAP__YawController.html">AP_YawController</a>, _K_D,    0),</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    <span class="comment">// @Param: 2SRV_RLL</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    <span class="comment">// @DisplayName: Yaw coordination gain</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>    <span class="comment">// @Description: Gain to the yaw rate required to keep it consistent with the turn rate in a coordinated turn. Corrects for yaw tendencies after the turn is established. Increase yaw into the turn by raising. Increase yaw out of the turn by decreasing. Values outside of 0.9-1.1 range indicate airspeed calibration problems.</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    <span class="comment">// @Range: 0.8 1.2</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    <span class="comment">// @Increment: 0.05</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;2SRV_RLL&quot;</span>,   3, <a class="code hl_class" href="classAP__YawController.html">AP_YawController</a>, _K_FF,   1),</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span> </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="comment">      Note: index 4 should not be used - it was used for an incorrect</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="comment">      AP_Int8 version of the IMAX in the 2.74 release</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="comment">     */</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <span class="comment">// @Param: 2SRV_IMAX</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    <span class="comment">// @DisplayName: Integrator limit</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    <span class="comment">// @Description: Limit of yaw integrator gain in centi-degrees of servo travel. Servos are assumed to have +/- 4500 centi-degrees of travel, so a value of 1500 allows trim of up to 1/3 of servo travel range.</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    <span class="comment">// @Range: 0 4500</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <span class="comment">// @Increment: 1</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;2SRV_IMAX&quot;</span>,  5, <a class="code hl_class" href="classAP__YawController.html">AP_YawController</a>, _imax,        1500),</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span> </div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    <span class="comment">// @Param: _RATE_ENABLE</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    <span class="comment">// @DisplayName: Yaw rate enable</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    <span class="comment">// @Description: Enable yaw rate controller for aerobatic flight</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>    <span class="comment">// @Values: 0:Disable,1:Enable</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    <a class="code hl_define" href="AP__Param_8h.html#ac24e2eb16c2194e975d27e47ddcb7f1c">AP_GROUPINFO_FLAGS</a>(<span class="stringliteral">&quot;_RATE_ENABLE&quot;</span>,  6, <a class="code hl_class" href="classAP__YawController.html">AP_YawController</a>, _rate_enable, 0, <a class="code hl_define" href="AP__Param_8h.html#ae25c1c7495435989f8be5781c86be078">AP_PARAM_FLAG_ENABLE</a>),</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span> </div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    <span class="comment">// @Param: _RATE_P</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>    <span class="comment">// @DisplayName: Yaw axis rate controller P gain</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    <span class="comment">// @Description: Yaw axis rate controller P gain.  Corrects in proportion to the difference between the desired yaw rate vs actual yaw rate</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    <span class="comment">// @Range: 0.08 0.35</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    <span class="comment">// @Increment: 0.005</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span> </div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <span class="comment">// @Param: _RATE_I</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>    <span class="comment">// @DisplayName: Yaw axis rate controller I gain</span></div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    <span class="comment">// @Description: Yaw axis rate controller I gain.  Corrects long-term difference in desired yaw rate vs actual yaw rate</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    <span class="comment">// @Range: 0.01 0.6</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span> </div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    <span class="comment">// @Param: _RATE_IMAX</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    <span class="comment">// @DisplayName: Yaw axis rate controller I gain maximum</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="comment">// @Description: Yaw axis rate controller I gain maximum.  Constrains the maximum that the I term will output</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    <span class="comment">// @Range: 0 1</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span> </div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <span class="comment">// @Param: _RATE_D</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    <span class="comment">// @DisplayName: Yaw axis rate controller D gain</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <span class="comment">// @Description: Yaw axis rate controller D gain.  Compensates for short-term change in desired yaw rate vs actual yaw rate</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    <span class="comment">// @Range: 0.001 0.03</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    <span class="comment">// @Increment: 0.001</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span> </div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <span class="comment">// @Param: _RATE_FF</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <span class="comment">// @DisplayName: Yaw axis rate controller feed forward</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    <span class="comment">// @Description: Yaw axis rate controller feed forward</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <span class="comment">// @Range: 0 3.0</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <span class="comment">// @Increment: 0.001</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span> </div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="comment">// @Param: _RATE_FLTT</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    <span class="comment">// @DisplayName: Yaw axis rate controller target frequency in Hz</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    <span class="comment">// @Description: Yaw axis rate controller target frequency in Hz</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <span class="comment">// @Range: 2 50</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    <span class="comment">// @Increment: 1</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span> </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="comment">// @Param: _RATE_FLTE</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="comment">// @DisplayName: Yaw axis rate controller error frequency in Hz</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <span class="comment">// @Description: Yaw axis rate controller error frequency in Hz</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <span class="comment">// @Range: 2 50</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <span class="comment">// @Increment: 1</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span> </div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="comment">// @Param: _RATE_FLTD</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="comment">// @DisplayName: Yaw axis rate controller derivative frequency in Hz</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="comment">// @Description: Yaw axis rate controller derivative frequency in Hz</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="comment">// @Range: 0 50</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <span class="comment">// @Increment: 1</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span> </div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    <span class="comment">// @Param: _RATE_SMAX</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <span class="comment">// @DisplayName: Yaw slew rate limit</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <span class="comment">// @Description: Sets an upper limit on the slew rate produced by the combined P and D gains. If the amplitude of the control action produced by the rate feedback exceeds this value, then the D+P gain is reduced to respect the limit. This limits the amplitude of high frequency oscillations caused by an excessive gain. The limit should be set to no more than 25% of the actuators maximum slew rate to allow for load effects. Note: The gain will not be reduced to less than 10% of the nominal value. A value of zero will disable this feature.</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="comment">// @Range: 0 200</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <span class="comment">// @Increment: 0.5</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span> </div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="comment">// @Param: _RATE_PDMX</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    <span class="comment">// @DisplayName: Yaw axis rate controller PD sum maximum</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <span class="comment">// @Description: Yaw axis rate controller PD sum maximum.  The maximum/minimum value that the sum of the P and D term can output</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    <span class="comment">// @Range: 0 1</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span> </div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    <span class="comment">// @Param: _RATE_D_FF</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    <span class="comment">// @DisplayName: Yaw Derivative FeedForward Gain</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    <span class="comment">// @Description: FF D Gain which produces an output that is proportional to the rate of change of the target</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    <span class="comment">// @Range: 0 0.03</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <span class="comment">// @Increment: 0.001</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span> </div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <span class="comment">// @Param: _RATE_NTF</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    <span class="comment">// @DisplayName: Yaw Target notch filter index</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="comment">// @Description: Yaw Target notch filter index</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <span class="comment">// @Range: 1 8</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span> </div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="comment">// @Param: _RATE_NEF</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <span class="comment">// @DisplayName: Yaw Error notch filter index</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <span class="comment">// @Description: Yaw Error notch filter index</span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    <span class="comment">// @Range: 1 8</span></div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    <span class="comment">// @User: Advanced</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span> </div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <a class="code hl_define" href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a>(rate_pid, <span class="stringliteral">&quot;_RATE_&quot;</span>, 9, <a class="code hl_class" href="classAP__YawController.html">AP_YawController</a>, <a class="code hl_class" href="classAC__PID.html">AC_PID</a>),</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <a class="code hl_define" href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>};</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="foldopen" id="foldopen00178" data-start="{" data-end="}">
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno"><a class="line" href="classAP__YawController.html#a81dbbd2d2d0a4f11568ace14470316c3">  178</a></span><a class="code hl_function" href="classAP__YawController.html#a81dbbd2d2d0a4f11568ace14470316c3">AP_YawController::AP_YawController</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structAP__FixedWing.html">AP_FixedWing</a> &amp;parms)</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    : aparm(parms)</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>{</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <a class="code hl_function" href="classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a>(<span class="keyword">this</span>, var_info);</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <a class="code hl_variable" href="classAP__YawController.html#a19a6b19a3a870147bf8483817918e4a6">_pid_info</a>.<a class="code hl_variable" href="structAP__PIDInfo.html#a980fa483168dc010d3d1aae3f4fd542c">target</a> = 0;</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    <a class="code hl_variable" href="classAP__YawController.html#a19a6b19a3a870147bf8483817918e4a6">_pid_info</a>.<a class="code hl_variable" href="structAP__PIDInfo.html#a6415861ae1439a7dd3a61fb585e5ae91">FF</a> = 0;</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    <a class="code hl_variable" href="classAP__YawController.html#a19a6b19a3a870147bf8483817918e4a6">_pid_info</a>.<a class="code hl_variable" href="structAP__PIDInfo.html#ad469cca8be9a0972c64dc19a13efc447">P</a> = 0;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <a class="code hl_variable" href="classAP__YawController.html#a4831547d1c3abe1c055b1162459bdf8c">rate_pid</a>.<a class="code hl_function" href="classAC__PID.html#a972e2c0ce1da75eb7aa89ff3efabeba2">set_slew_limit_scale</a>(45);</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>}</div>
</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span> </div>
<div class="foldopen" id="foldopen00188" data-start="{" data-end="}">
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno"><a class="line" href="classAP__YawController.html#a0cff30a9e52de0ba04dd26661a1f4506">  188</a></span>int32_t <a class="code hl_function" href="classAP__YawController.html#a0cff30a9e52de0ba04dd26661a1f4506">AP_YawController::get_servo_out</a>(<span class="keywordtype">float</span> scaler, <span class="keywordtype">bool</span> disable_integrator)</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>{</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>    uint32_t tnow = <a class="code hl_function" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    uint32_t dt = tnow - <a class="code hl_variable" href="classAP__YawController.html#a15e613276e64fdfbfe12af182664ff0a">_last_t</a>;</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__YawController.html#a15e613276e64fdfbfe12af182664ff0a">_last_t</a> == 0 || dt &gt; 1000) {</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>        dt = 0;</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>        <a class="code hl_variable" href="classAP__YawController.html#a19a6b19a3a870147bf8483817918e4a6">_pid_info</a>.<a class="code hl_variable" href="structAP__PIDInfo.html#a68f1633a266ef8d3e5507526a8ac70f0">I</a> = 0;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    }</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <a class="code hl_variable" href="classAP__YawController.html#a15e613276e64fdfbfe12af182664ff0a">_last_t</a> = tnow;</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span> </div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span> </div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    int16_t aspd_min = <a class="code hl_variable" href="classAP__YawController.html#a6aea1b6a30c92c3f7e916995fdddddee">aparm</a>.<a class="code hl_variable" href="structAP__FixedWing.html#a2077bf8bbf9fc486c81be9b3f5b84500">airspeed_min</a>;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <span class="keywordflow">if</span> (aspd_min &lt; 1) {</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>        aspd_min = 1;</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    }</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span> </div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    <span class="keywordtype">float</span> delta_time = (float) dt * 0.001f;</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span> </div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    <span class="comment">// Calculate yaw rate required to keep up with a constant height coordinated turn</span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    <span class="keywordtype">float</span> aspeed;</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    <span class="keywordtype">float</span> rate_offset;</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>    <span class="keywordtype">float</span> bank_angle = <a class="code hl_function" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>().<a class="code hl_function" href="classAP__AHRS.html#a44eef0bf25c5ea39f615d2e64b3ca521">get_roll</a>();</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    <span class="comment">// limit bank angle between +- 80 deg if right way up</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    <span class="keywordflow">if</span> (fabsf(bank_angle) &lt; 1.5707964f) {</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>        bank_angle = <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(bank_angle,-1.3962634f,1.3962634f);</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    }</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    <span class="keyword">const</span> <a class="code hl_class" href="classAP__AHRS.html">AP_AHRS</a> &amp;_ahrs = <a class="code hl_function" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>();</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    <span class="keywordflow">if</span> (!_ahrs.<a class="code hl_function" href="classAP__AHRS.html#a69088a3b05155cc99c84feca718dd6cb">airspeed_estimate</a>(aspeed)) {</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>        <span class="comment">// If no airspeed available use average of min and max</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>        aspeed = 0.5f*(float(aspd_min) + float(<a class="code hl_variable" href="classAP__YawController.html#a6aea1b6a30c92c3f7e916995fdddddee">aparm</a>.<a class="code hl_variable" href="structAP__FixedWing.html#ab3628cdc8abbecf0634d7e699853bc7a">airspeed_max</a>));</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    }</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    rate_offset = (<a class="code hl_define" href="definitions_8h.html#aea8758bf61b23b46507902b46060ebfd">GRAVITY_MSS</a> / <a class="code hl_define" href="monocypher_8cpp.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(aspeed, <span class="keywordtype">float</span>(aspd_min))) * sinf(bank_angle) * <a class="code hl_variable" href="classAP__YawController.html#a7f8cfd727482b8013f2e7c39336f9e92">_K_FF</a>;</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span> </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    <span class="comment">// Get body rate vector (radians/sec)</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    <span class="keywordtype">float</span> omega_z = _ahrs.<a class="code hl_function" href="classAP__AHRS.html#a8c03d9320a959f138bad400752b6da4f">get_gyro</a>().<a class="code hl_variable" href="classVector3.html#ab3e7f5401dd6e951978bfa746809f74f">z</a>;</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span> </div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <span class="comment">// Get the accln vector (m/s^2)</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    <span class="keywordtype">float</span> accel_y = <a class="code hl_function" href="namespaceAP.html#ac571aa5a2ef71b7f4b4b2bfa09143fb9">AP::ins</a>().<a class="code hl_function" href="classAP__InertialSensor.html#a707bc3f8ef8270db68ceeec36171d6ac">get_accel</a>().<a class="code hl_variable" href="classVector3.html#a561df88b28e106e337a25bb86554a569">y</a>;</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span> </div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    <span class="comment">// subtract current bias estimate from EKF</span></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <span class="keyword">const</span> <a class="code hl_class" href="classVector3.html">Vector3f</a> &amp;abias = _ahrs.<a class="code hl_function" href="classAP__AHRS.html#a4f0bc5579c3bd531524accdf0ada0efc">get_accel_bias</a>();</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    accel_y -= abias.<a class="code hl_variable" href="classVector3.html#a561df88b28e106e337a25bb86554a569">y</a>;</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span> </div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <span class="comment">// Subtract the steady turn component of rate from the measured rate</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>    <span class="comment">// to calculate the rate relative to the turn requirement in degrees/sec</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <span class="keywordtype">float</span> rate_hp_in = <a class="code hl_define" href="AP__Common_8h.html#a3c9d151923236c7e8ccccf86f131e550">ToDeg</a>(omega_z - rate_offset);</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span> </div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    <span class="comment">// Apply a high-pass filter to the rate to washout any steady state error</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>    <span class="comment">// due to bias errors in rate_offset</span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>    <span class="comment">// Use a cut-off frequency of omega = 0.2 rad/sec</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    <span class="comment">// Could make this adjustable by replacing 0.9960080 with (1 - omega * dt)</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    <span class="keywordtype">float</span> rate_hp_out = 0.9960080f * <a class="code hl_variable" href="classAP__YawController.html#ae9a6fa81a5d03ec2004395263b8d982a">_last_rate_hp_out</a> + rate_hp_in - <a class="code hl_variable" href="classAP__YawController.html#a791e8f1670bff960d11ce6833ac95b70">_last_rate_hp_in</a>;</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    <a class="code hl_variable" href="classAP__YawController.html#ae9a6fa81a5d03ec2004395263b8d982a">_last_rate_hp_out</a> = rate_hp_out;</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    <a class="code hl_variable" href="classAP__YawController.html#a791e8f1670bff960d11ce6833ac95b70">_last_rate_hp_in</a> = rate_hp_in;</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span> </div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>    <span class="comment">//Calculate input to integrator</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    <span class="keywordtype">float</span> integ_in = - <a class="code hl_variable" href="classAP__YawController.html#aa3d9da5107ac95438cc1f72711f35245">_K_I</a> * (<a class="code hl_variable" href="classAP__YawController.html#ae7c466406f0b764ff7a286b12c7ed692">_K_A</a> * accel_y + rate_hp_out);</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span> </div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    <span class="comment">// Apply integrator, but clamp input to prevent control saturation and freeze integrator below min FBW speed</span></div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    <span class="comment">// Don&#39;t integrate if in stabilise mode as the integrator will wind up against the pilots inputs</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    <span class="comment">// Don&#39;t integrate if _K_D is zero as integrator will keep winding up</span></div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    <span class="keywordflow">if</span> (!disable_integrator &amp;&amp; <a class="code hl_variable" href="classAP__YawController.html#a2c952c6b3ca322f50a05d67109e4a8cc">_K_D</a> &gt; 0) {</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>        <span class="comment">//only integrate if airspeed above min value</span></div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>        <span class="keywordflow">if</span> (aspeed &gt; <span class="keywordtype">float</span>(aspd_min)) {</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>            <span class="comment">// prevent the integrator from increasing if surface defln demand is above the upper limit</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__YawController.html#aeaf0a914e33b15bb6835281f0d4ea20a">_last_out</a> &lt; -45) {</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>                <a class="code hl_variable" href="classAP__YawController.html#a4946b771049ef64727419a6267ff8126">_integrator</a> += <a class="code hl_define" href="monocypher_8cpp.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(integ_in * delta_time, 0);</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__YawController.html#aeaf0a914e33b15bb6835281f0d4ea20a">_last_out</a> &gt; 45) {</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>                <span class="comment">// prevent the integrator from decreasing if surface defln demand  is below the lower limit</span></div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>                <a class="code hl_variable" href="classAP__YawController.html#a4946b771049ef64727419a6267ff8126">_integrator</a> += <a class="code hl_define" href="monocypher_8cpp.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a>(integ_in * delta_time, 0);</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>                <a class="code hl_variable" href="classAP__YawController.html#a4946b771049ef64727419a6267ff8126">_integrator</a> += integ_in * delta_time;</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>            }</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>        }</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>        <a class="code hl_variable" href="classAP__YawController.html#a4946b771049ef64727419a6267ff8126">_integrator</a> = 0;</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>    }</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span> </div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__YawController.html#a2c952c6b3ca322f50a05d67109e4a8cc">_K_D</a> &lt; 0.0001f) {</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>        <span class="comment">// yaw damping is disabled, and the integrator is scaled by damping, so return 0</span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    }</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span> </div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>    <span class="comment">// Scale the integration limit</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    <span class="keywordtype">float</span> intLimScaled = <a class="code hl_variable" href="classAP__YawController.html#ab755683ca6cb4b24fdc10a3a608432c2">_imax</a> * 0.01f / (<a class="code hl_variable" href="classAP__YawController.html#a2c952c6b3ca322f50a05d67109e4a8cc">_K_D</a> * scaler * scaler);</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span> </div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    <span class="comment">// Constrain the integrator state</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    <a class="code hl_variable" href="classAP__YawController.html#a4946b771049ef64727419a6267ff8126">_integrator</a> = <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAP__YawController.html#a4946b771049ef64727419a6267ff8126">_integrator</a>, -intLimScaled, intLimScaled);</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span> </div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    <span class="comment">// Protect against increases to _K_D during in-flight tuning from creating large control transients</span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    <span class="comment">// due to stored integrator values</span></div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__YawController.html#a2c952c6b3ca322f50a05d67109e4a8cc">_K_D</a> &gt; <a class="code hl_variable" href="classAP__YawController.html#a0c62e7d3e3ccfc34a09aec717b049145">_K_D_last</a> &amp;&amp; <a class="code hl_variable" href="classAP__YawController.html#a2c952c6b3ca322f50a05d67109e4a8cc">_K_D</a> &gt; 0) {</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>        <a class="code hl_variable" href="classAP__YawController.html#a4946b771049ef64727419a6267ff8126">_integrator</a> = <a class="code hl_variable" href="classAP__YawController.html#a0c62e7d3e3ccfc34a09aec717b049145">_K_D_last</a>/<a class="code hl_variable" href="classAP__YawController.html#a2c952c6b3ca322f50a05d67109e4a8cc">_K_D</a> * <a class="code hl_variable" href="classAP__YawController.html#a4946b771049ef64727419a6267ff8126">_integrator</a>;</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    }</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    <a class="code hl_variable" href="classAP__YawController.html#a0c62e7d3e3ccfc34a09aec717b049145">_K_D_last</a> = <a class="code hl_variable" href="classAP__YawController.html#a2c952c6b3ca322f50a05d67109e4a8cc">_K_D</a>;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span> </div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>    <span class="comment">// Calculate demanded rudder deflection, +Ve deflection yaws nose right</span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    <span class="comment">// Save to last value before application of limiter so that integrator limiting</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    <span class="comment">// can detect exceedance next frame</span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    <span class="comment">// Scale using inverse dynamic pressure (1/V^2)</span></div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    <a class="code hl_variable" href="classAP__YawController.html#a19a6b19a3a870147bf8483817918e4a6">_pid_info</a>.<a class="code hl_variable" href="structAP__PIDInfo.html#a68f1633a266ef8d3e5507526a8ac70f0">I</a> = <a class="code hl_variable" href="classAP__YawController.html#a2c952c6b3ca322f50a05d67109e4a8cc">_K_D</a> * <a class="code hl_variable" href="classAP__YawController.html#a4946b771049ef64727419a6267ff8126">_integrator</a> * scaler * scaler;</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    <a class="code hl_variable" href="classAP__YawController.html#a19a6b19a3a870147bf8483817918e4a6">_pid_info</a>.<a class="code hl_variable" href="structAP__PIDInfo.html#abe5166ca8a76c1b998b8942abd683ac1">D</a> = <a class="code hl_variable" href="classAP__YawController.html#a2c952c6b3ca322f50a05d67109e4a8cc">_K_D</a> * (-rate_hp_out) * scaler * scaler;</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    <a class="code hl_variable" href="classAP__YawController.html#aeaf0a914e33b15bb6835281f0d4ea20a">_last_out</a> =  <a class="code hl_variable" href="classAP__YawController.html#a19a6b19a3a870147bf8483817918e4a6">_pid_info</a>.<a class="code hl_variable" href="structAP__PIDInfo.html#a68f1633a266ef8d3e5507526a8ac70f0">I</a> + <a class="code hl_variable" href="classAP__YawController.html#a19a6b19a3a870147bf8483817918e4a6">_pid_info</a>.<a class="code hl_variable" href="structAP__PIDInfo.html#abe5166ca8a76c1b998b8942abd683ac1">D</a>;</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span> </div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    <span class="comment">// Convert to centi-degrees and constrain</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(<a class="code hl_variable" href="classAP__YawController.html#aeaf0a914e33b15bb6835281f0d4ea20a">_last_out</a> * 100, -4500, 4500);</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>}</div>
</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span> </div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span><span class="comment">// get actuator output for direct rate control</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span><span class="comment">// desired_rate is in deg/sec. scaler is the surface speed scaler</span></div>
<div class="foldopen" id="foldopen00298" data-start="{" data-end="}">
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno"><a class="line" href="classAP__YawController.html#a65180b7cab75c123ebea912e3765a05f">  298</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classAP__YawController.html#a65180b7cab75c123ebea912e3765a05f">AP_YawController::get_rate_out</a>(<span class="keywordtype">float</span> desired_rate, <span class="keywordtype">float</span> scaler, <span class="keywordtype">bool</span> disable_integrator)</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>{</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>    <span class="keyword">const</span> <a class="code hl_class" href="classAP__AHRS.html">AP_AHRS</a> &amp;_ahrs = <a class="code hl_function" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>();</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span> </div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> dt = <a class="code hl_function" href="namespaceAP.html#acdeafe5406efd2650ba54d24d3aecb7c">AP::scheduler</a>().<a class="code hl_function" href="classAP__Scheduler.html#a82db30c491d6a4eb2a2c34750d7a1de5">get_loop_period_s</a>();</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> eas2tas = _ahrs.<a class="code hl_function" href="classAP__AHRS.html#a64786b58a1607ee420ed4f0696c755b6">get_EAS2TAS</a>();</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    <span class="keywordtype">bool</span> limit_I = fabsf(<a class="code hl_variable" href="classAP__YawController.html#aeaf0a914e33b15bb6835281f0d4ea20a">_last_out</a>) &gt;= 45 || disable_integrator;</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>    <span class="keywordtype">float</span> rate_z = _ahrs.<a class="code hl_function" href="classAP__AHRS.html#a8c03d9320a959f138bad400752b6da4f">get_gyro</a>().<a class="code hl_variable" href="classVector3.html#ab3e7f5401dd6e951978bfa746809f74f">z</a>;</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>    <span class="keywordtype">float</span> aspeed;</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>    <span class="keywordtype">float</span> old_I = <a class="code hl_variable" href="classAP__YawController.html#a4831547d1c3abe1c055b1162459bdf8c">rate_pid</a>.<a class="code hl_function" href="classAC__PID.html#adb06fb6b336effbfc8b087ae0d8187bc">get_i</a>();</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span> </div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    <span class="keywordflow">if</span> (!_ahrs.<a class="code hl_function" href="classAP__AHRS.html#a69088a3b05155cc99c84feca718dd6cb">airspeed_estimate</a>(aspeed)) {</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>        aspeed = 0;</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>    }</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    <span class="keywordtype">bool</span> underspeed = aspeed &lt;= float(<a class="code hl_variable" href="classAP__YawController.html#a6aea1b6a30c92c3f7e916995fdddddee">aparm</a>.<a class="code hl_variable" href="structAP__FixedWing.html#a2077bf8bbf9fc486c81be9b3f5b84500">airspeed_min</a>);</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>    <span class="keywordflow">if</span> (underspeed) {</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>        limit_I = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    }</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span> </div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <span class="comment">// the P and I elements are scaled by sq(scaler). To use an</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>    <span class="comment">// unmodified AC_PID object we scale the inputs and calculate FF separately</span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    <span class="comment">// note that we run AC_PID in radians so that the normal scaling</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <span class="comment">// range for IMAX in AC_PID applies (usually an IMAX value less than 1.0)</span></div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>    <a class="code hl_variable" href="classAP__YawController.html#a4831547d1c3abe1c055b1162459bdf8c">rate_pid</a>.<a class="code hl_function" href="classAC__PID.html#ad590012ddb8fa4ec372a82c61c5a2dde">update_all</a>(<a class="code hl_function" href="AP__Math_8h.html#a49ad7fa2fa2e3d8aa75e8e0ec3f83b99">radians</a>(desired_rate) * scaler * scaler, rate_z * scaler * scaler, dt, limit_I);</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span> </div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>    <span class="keywordflow">if</span> (underspeed) {</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>        <span class="comment">// when underspeed we lock the integrator</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>        <a class="code hl_variable" href="classAP__YawController.html#a4831547d1c3abe1c055b1162459bdf8c">rate_pid</a>.<a class="code hl_function" href="classAC__PID.html#a0ae837f35a5f8886c192e0400b1c5b4c">set_integrator</a>(old_I);</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>    }</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span> </div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>    <span class="comment">// FF should be scaled by scaler/eas2tas, but since we have scaled</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>    <span class="comment">// the AC_PID target above by scaler*scaler we need to instead</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>    <span class="comment">// divide by scaler*eas2tas to get the right scaling</span></div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> ff = <a class="code hl_define" href="moduletest_8c.html#a903c4797a4c2860e3b9a6a978f98a44d">degrees</a>(<a class="code hl_variable" href="classAP__YawController.html#a4831547d1c3abe1c055b1162459bdf8c">rate_pid</a>.<a class="code hl_function" href="classAC__PID.html#ad78d03d125980bae0d247e9db48b7460">get_ff</a>() / (scaler * eas2tas));</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span> </div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <span class="keywordflow">if</span> (disable_integrator) {</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>        <a class="code hl_variable" href="classAP__YawController.html#a4831547d1c3abe1c055b1162459bdf8c">rate_pid</a>.<a class="code hl_function" href="classAC__PID.html#aeee26e2bec3de02355b307b2b40ddbaa">reset_I</a>();</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    }</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span> </div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    <span class="comment">// convert AC_PID info object to same scale as old controller</span></div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    <a class="code hl_variable" href="classAP__YawController.html#a19a6b19a3a870147bf8483817918e4a6">_pid_info</a> = <a class="code hl_variable" href="classAP__YawController.html#a4831547d1c3abe1c055b1162459bdf8c">rate_pid</a>.<a class="code hl_function" href="classAC__PID.html#a1989f50e30d9e5ada0ca95783fc28d2d">get_pid_info</a>();</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    <span class="keyword">auto</span> &amp;pinfo = <a class="code hl_variable" href="classAP__YawController.html#a19a6b19a3a870147bf8483817918e4a6">_pid_info</a>;</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span> </div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> deg_scale = <a class="code hl_define" href="moduletest_8c.html#a903c4797a4c2860e3b9a6a978f98a44d">degrees</a>(1);</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    pinfo.FF = ff;</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>    pinfo.P *= deg_scale;</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>    pinfo.I *= deg_scale;</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>    pinfo.D *= deg_scale;</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    pinfo.DFF *= deg_scale;</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    pinfo.limit = limit_I;</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span> </div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    <span class="comment">// fix the logged target and actual values to not have the scalers applied</span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>    pinfo.target = desired_rate;</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>    pinfo.actual = <a class="code hl_define" href="moduletest_8c.html#a903c4797a4c2860e3b9a6a978f98a44d">degrees</a>(rate_z);</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span> </div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <span class="comment">// sum components</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    <span class="keywordtype">float</span> out = pinfo.FF + pinfo.P + pinfo.I + pinfo.D + pinfo.DFF;</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span> </div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    <span class="comment">// remember the last output to trigger the I limit</span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    <a class="code hl_variable" href="classAP__YawController.html#aeaf0a914e33b15bb6835281f0d4ea20a">_last_out</a> = out;</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span> </div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__YawController.html#a696331291f407bc05cae98403e45b1de">autotune</a> != <span class="keyword">nullptr</span> &amp;&amp; <a class="code hl_variable" href="classAP__YawController.html#a696331291f407bc05cae98403e45b1de">autotune</a>-&gt;<a class="code hl_variable" href="classAP__AutoTune.html#adeb8f372ebcb13377ff55c4126b0347f">running</a> &amp;&amp; aspeed &gt; <a class="code hl_variable" href="classAP__YawController.html#a6aea1b6a30c92c3f7e916995fdddddee">aparm</a>.<a class="code hl_variable" href="structAP__FixedWing.html#a2077bf8bbf9fc486c81be9b3f5b84500">airspeed_min</a>) {</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>        <span class="comment">// fake up an angular error based on a notional time constant of 0.5s</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> angle_err_deg = desired_rate * <a class="code hl_variable" href="classAP__YawController.html#a8f1948b3b181a735b41f66010c198e33">gains</a>.<a class="code hl_variable" href="structAP__AutoTune_1_1ATGains.html#afd8a5b186e0a2166f45d8285d72e1c32">tau</a>;</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>        <span class="comment">// let autotune have a go at the values</span></div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>        <a class="code hl_variable" href="classAP__YawController.html#a696331291f407bc05cae98403e45b1de">autotune</a>-&gt;<a class="code hl_function" href="classAP__AutoTune.html#ab5283bbd6bc3c2552bfff162174e377a">update</a>(pinfo, scaler, angle_err_deg);</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    }</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span> </div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    <span class="comment">// output is scaled to notional centidegrees of deflection</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a>(out * 100, -4500, 4500);</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>}</div>
</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span> </div>
<div class="foldopen" id="foldopen00371" data-start="{" data-end="}">
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno"><a class="line" href="classAP__YawController.html#abf4cc6cb7a66a7878aae20961be9f82a">  371</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__YawController.html#abf4cc6cb7a66a7878aae20961be9f82a">AP_YawController::reset_I</a>()</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>{</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    <a class="code hl_variable" href="classAP__YawController.html#a19a6b19a3a870147bf8483817918e4a6">_pid_info</a>.<a class="code hl_variable" href="structAP__PIDInfo.html#a68f1633a266ef8d3e5507526a8ac70f0">I</a> = 0;</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    <a class="code hl_variable" href="classAP__YawController.html#a4831547d1c3abe1c055b1162459bdf8c">rate_pid</a>.<a class="code hl_function" href="classAC__PID.html#aeee26e2bec3de02355b307b2b40ddbaa">reset_I</a>();</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    <a class="code hl_variable" href="classAP__YawController.html#a4946b771049ef64727419a6267ff8126">_integrator</a> = 0;</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>}</div>
</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span> </div>
<div class="foldopen" id="foldopen00378" data-start="{" data-end="}">
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno"><a class="line" href="classAP__YawController.html#a52328d9a6e3bde165beedac29da99c49">  378</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__YawController.html#a52328d9a6e3bde165beedac29da99c49">AP_YawController::reset_rate_PID</a>()</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>{</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    <a class="code hl_variable" href="classAP__YawController.html#a4831547d1c3abe1c055b1162459bdf8c">rate_pid</a>.<a class="code hl_function" href="classAC__PID.html#aeee26e2bec3de02355b307b2b40ddbaa">reset_I</a>();</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    <a class="code hl_variable" href="classAP__YawController.html#a4831547d1c3abe1c055b1162459bdf8c">rate_pid</a>.<a class="code hl_function" href="classAC__PID.html#a2fd30f6413ff1b18c387542450e15bb3">reset_filter</a>();</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>}</div>
</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span> </div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span><span class="comment">/*</span></div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span><span class="comment">  start an autotune</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span><span class="comment"> */</span></div>
<div class="foldopen" id="foldopen00387" data-start="{" data-end="}">
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno"><a class="line" href="classAP__YawController.html#af48d1566d37e775c90aeff9e3ebb8fe1">  387</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__YawController.html#af48d1566d37e775c90aeff9e3ebb8fe1">AP_YawController::autotune_start</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>{</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__YawController.html#a696331291f407bc05cae98403e45b1de">autotune</a> == <span class="keyword">nullptr</span> &amp;&amp; <a class="code hl_function" href="classAP__YawController.html#a1956c9e5ec33ed4a85724cf46d5c17c2">rate_control_enabled</a>()) {</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>        <span class="comment">// the autotuner needs a time constant. Use an assumed tconst of 0.5</span></div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>        <a class="code hl_variable" href="classAP__YawController.html#a8f1948b3b181a735b41f66010c198e33">gains</a>.<a class="code hl_variable" href="structAP__AutoTune_1_1ATGains.html#afd8a5b186e0a2166f45d8285d72e1c32">tau</a>.set(0.5);</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>        <a class="code hl_variable" href="classAP__YawController.html#a8f1948b3b181a735b41f66010c198e33">gains</a>.<a class="code hl_variable" href="structAP__AutoTune_1_1ATGains.html#ab5c8e0e6b0eb61a04630c235b840deff">rmax_pos</a>.set(90);</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span> </div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>        <a class="code hl_variable" href="classAP__YawController.html#a696331291f407bc05cae98403e45b1de">autotune</a> = <span class="keyword">new</span> <a class="code hl_class" href="classAP__AutoTune.html">AP_AutoTune</a>(<a class="code hl_variable" href="classAP__YawController.html#a8f1948b3b181a735b41f66010c198e33">gains</a>, <a class="code hl_enumvalue" href="classAP__AutoTune.html#a97e1db40244c40dd56adb196e932f167a41cfeb4ddeed9861bd950f1715c715a2">AP_AutoTune::AUTOTUNE_YAW</a>, <a class="code hl_variable" href="classAP__YawController.html#a6aea1b6a30c92c3f7e916995fdddddee">aparm</a>, <a class="code hl_variable" href="classAP__YawController.html#a4831547d1c3abe1c055b1162459bdf8c">rate_pid</a>);</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__YawController.html#a696331291f407bc05cae98403e45b1de">autotune</a> == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classAP__YawController.html#aed2a9430ee5cc08ae4dd482bb428a738">failed_autotune_alloc</a>) {</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>                <a class="code hl_define" href="GCS_8h.html#a266bfe8eda675e1092f045e93932b4a6">GCS_SEND_TEXT</a>(MAV_SEVERITY_ERROR, <span class="stringliteral">&quot;AutoTune: failed yaw allocation&quot;</span>);</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>            }</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>            <a class="code hl_variable" href="classAP__YawController.html#aed2a9430ee5cc08ae4dd482bb428a738">failed_autotune_alloc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>        }</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    }</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__YawController.html#a696331291f407bc05cae98403e45b1de">autotune</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>        <a class="code hl_variable" href="classAP__YawController.html#a696331291f407bc05cae98403e45b1de">autotune</a>-&gt;<a class="code hl_function" href="classAP__AutoTune.html#a110fe2abe9d166b62092a16d0fa2c70a">start</a>();</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    }</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>}</div>
</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span> </div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span><span class="comment">/*</span></div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span><span class="comment">  restore autotune gains</span></div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span><span class="comment"> */</span></div>
<div class="foldopen" id="foldopen00410" data-start="{" data-end="}">
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno"><a class="line" href="classAP__YawController.html#ab17249da7a6bc556d0af3399f325d2c6">  410</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__YawController.html#ab17249da7a6bc556d0af3399f325d2c6">AP_YawController::autotune_restore</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>{</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__YawController.html#a696331291f407bc05cae98403e45b1de">autotune</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>        <a class="code hl_variable" href="classAP__YawController.html#a696331291f407bc05cae98403e45b1de">autotune</a>-&gt;<a class="code hl_function" href="classAP__AutoTune.html#ae452d4a3f9648538afc6d7dce6a5e8a3">stop</a>();</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>    }</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>}</div>
</div>
<div class="ttc" id="aAP__AHRS_8h_html"><div class="ttname"><a href="AP__AHRS_8h.html">AP_AHRS.h</a></div></div>
<div class="ttc" id="aAP__Common_8h_html_a3c9d151923236c7e8ccccf86f131e550"><div class="ttname"><a href="AP__Common_8h.html#a3c9d151923236c7e8ccccf86f131e550">ToDeg</a></div><div class="ttdeci">#define ToDeg(x)</div><div class="ttdef"><b>Definition</b> <a href="AP__Common_8h_source.html#l00080">AP_Common.h:80</a></div></div>
<div class="ttc" id="aAP__HAL_8h_html"><div class="ttname"><a href="AP__HAL_8h.html">AP_HAL.h</a></div></div>
<div class="ttc" id="aAP__Math_8h_html_a49ad7fa2fa2e3d8aa75e8e0ec3f83b99"><div class="ttname"><a href="AP__Math_8h.html#a49ad7fa2fa2e3d8aa75e8e0ec3f83b99">radians</a></div><div class="ttdeci">static constexpr ftype radians(ftype deg)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00213">AP_Math.h:213</a></div></div>
<div class="ttc" id="aAP__Math_8h_html_a5256308fd38a7098b8f95607aa56888f"><div class="ttname"><a href="AP__Math_8h.html#a5256308fd38a7098b8f95607aa56888f">constrain_float</a></div><div class="ttdeci">#define constrain_float(amt, low, high)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00174">AP_Math.h:174</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a0f9acb038a5283b964b862aea8cc5051"><div class="ttname"><a href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div><div class="ttdeci">#define AP_GROUPEND</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00163">AP_Param.h:163</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a16c360358c5d6a08d34f60921fd916a9"><div class="ttname"><a href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a></div><div class="ttdeci">#define AP_SUBGROUPINFO(element, name, idx, thisclazz, elclazz)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00152">AP_Param.h:152</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a78a408c84f2a1bafde256ac650142e4d"><div class="ttname"><a href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a></div><div class="ttdeci">#define AP_GROUPINFO(name, idx, clazz, element, def)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00145">AP_Param.h:145</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_ac24e2eb16c2194e975d27e47ddcb7f1c"><div class="ttname"><a href="AP__Param_8h.html#ac24e2eb16c2194e975d27e47ddcb7f1c">AP_GROUPINFO_FLAGS</a></div><div class="ttdeci">#define AP_GROUPINFO_FLAGS(name, idx, clazz, element, def, flags)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00133">AP_Param.h:133</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_ae25c1c7495435989f8be5781c86be078"><div class="ttname"><a href="AP__Param_8h.html#ae25c1c7495435989f8be5781c86be078">AP_PARAM_FLAG_ENABLE</a></div><div class="ttdeci">#define AP_PARAM_FLAG_ENABLE</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00087">AP_Param.h:87</a></div></div>
<div class="ttc" id="aAP__Scheduler_8h_html"><div class="ttname"><a href="AP__Scheduler_8h.html">AP_Scheduler.h</a></div></div>
<div class="ttc" id="aAP__YawController_8cpp_html_ae08c3ca4ba26b63cda0bb3e3c6c02785"><div class="ttname"><a href="AP__YawController_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a></div><div class="ttdeci">const AP_HAL::HAL &amp; hal</div><div class="ttdef"><b>Definition</b> <a href="AC__PID__test_8cpp_source.html#l00021">AC_PID_test.cpp:21</a></div></div>
<div class="ttc" id="aAP__YawController_8h_html"><div class="ttname"><a href="AP__YawController_8h.html">AP_YawController.h</a></div></div>
<div class="ttc" id="aGCS_8h_html"><div class="ttname"><a href="GCS_8h.html">GCS.h</a></div><div class="ttdoc">Interface definition for the various Ground Control System.</div></div>
<div class="ttc" id="aGCS_8h_html_a266bfe8eda675e1092f045e93932b4a6"><div class="ttname"><a href="GCS_8h.html#a266bfe8eda675e1092f045e93932b4a6">GCS_SEND_TEXT</a></div><div class="ttdeci">#define GCS_SEND_TEXT(severity, format, args...)</div><div class="ttdef"><b>Definition</b> <a href="GCS_8h_source.html#l01349">GCS.h:1349</a></div></div>
<div class="ttc" id="aclassAC__PID_html"><div class="ttname"><a href="classAC__PID.html">AC_PID</a></div><div class="ttdoc">Copter PID control class.</div><div class="ttdef"><b>Definition</b> <a href="AC__PID_8h_source.html#l00023">AC_PID.h:23</a></div></div>
<div class="ttc" id="aclassAC__PID_html_a0ae837f35a5f8886c192e0400b1c5b4c"><div class="ttname"><a href="classAC__PID.html#a0ae837f35a5f8886c192e0400b1c5b4c">AC_PID::set_integrator</a></div><div class="ttdeci">void set_integrator(float i)</div><div class="ttdef"><b>Definition</b> <a href="AC__PID_8cpp_source.html#l00411">AC_PID.cpp:411</a></div></div>
<div class="ttc" id="aclassAC__PID_html_a1989f50e30d9e5ada0ca95783fc28d2d"><div class="ttname"><a href="classAC__PID.html#a1989f50e30d9e5ada0ca95783fc28d2d">AC_PID::get_pid_info</a></div><div class="ttdeci">const AP_PIDInfo &amp; get_pid_info(void) const</div><div class="ttdef"><b>Definition</b> <a href="AC__PID_8h_source.html#l00146">AC_PID.h:146</a></div></div>
<div class="ttc" id="aclassAC__PID_html_a2fd30f6413ff1b18c387542450e15bb3"><div class="ttname"><a href="classAC__PID.html#a2fd30f6413ff1b18c387542450e15bb3">AC_PID::reset_filter</a></div><div class="ttdeci">void reset_filter()</div><div class="ttdef"><b>Definition</b> <a href="AC__PID_8h_source.html#l00085">AC_PID.h:85</a></div></div>
<div class="ttc" id="aclassAC__PID_html_a972e2c0ce1da75eb7aa89ff3efabeba2"><div class="ttname"><a href="classAC__PID.html#a972e2c0ce1da75eb7aa89ff3efabeba2">AC_PID::set_slew_limit_scale</a></div><div class="ttdeci">void set_slew_limit_scale(int8_t scale)</div><div class="ttdef"><b>Definition</b> <a href="AC__PID_8h_source.html#l00141">AC_PID.h:141</a></div></div>
<div class="ttc" id="aclassAC__PID_html_ad590012ddb8fa4ec372a82c61c5a2dde"><div class="ttname"><a href="classAC__PID.html#ad590012ddb8fa4ec372a82c61c5a2dde">AC_PID::update_all</a></div><div class="ttdeci">float update_all(float target, float measurement, float dt, bool limit=false, float boost=1.0f)</div><div class="ttdef"><b>Definition</b> <a href="AC__PID_8cpp_source.html#l00193">AC_PID.cpp:193</a></div></div>
<div class="ttc" id="aclassAC__PID_html_ad78d03d125980bae0d247e9db48b7460"><div class="ttname"><a href="classAC__PID.html#ad78d03d125980bae0d247e9db48b7460">AC_PID::get_ff</a></div><div class="ttdeci">float get_ff() const</div><div class="ttdef"><b>Definition</b> <a href="AC__PID_8cpp_source.html#l00344">AC_PID.cpp:344</a></div></div>
<div class="ttc" id="aclassAC__PID_html_adb06fb6b336effbfc8b087ae0d8187bc"><div class="ttname"><a href="classAC__PID.html#adb06fb6b336effbfc8b087ae0d8187bc">AC_PID::get_i</a></div><div class="ttdeci">float get_i() const</div><div class="ttdef"><b>Definition</b> <a href="AC__PID_8cpp_source.html#l00334">AC_PID.cpp:334</a></div></div>
<div class="ttc" id="aclassAC__PID_html_aeee26e2bec3de02355b307b2b40ddbaa"><div class="ttname"><a href="classAC__PID.html#aeee26e2bec3de02355b307b2b40ddbaa">AC_PID::reset_I</a></div><div class="ttdeci">void reset_I()</div><div class="ttdef"><b>Definition</b> <a href="AC__PID_8cpp_source.html#l00349">AC_PID.cpp:349</a></div></div>
<div class="ttc" id="aclassAP__AHRS_html"><div class="ttname"><a href="classAP__AHRS.html">AP_AHRS</a></div><div class="ttdef"><b>Definition</b> <a href="AP__AHRS_8h_source.html#l00046">AP_AHRS.h:46</a></div></div>
<div class="ttc" id="aclassAP__AHRS_html_a44eef0bf25c5ea39f615d2e64b3ca521"><div class="ttname"><a href="classAP__AHRS.html#a44eef0bf25c5ea39f615d2e64b3ca521">AP_AHRS::get_roll</a></div><div class="ttdeci">float get_roll() const</div><div class="ttdef"><b>Definition</b> <a href="AP__AHRS_8h_source.html#l00552">AP_AHRS.h:552</a></div></div>
<div class="ttc" id="aclassAP__AHRS_html_a4f0bc5579c3bd531524accdf0ada0efc"><div class="ttname"><a href="classAP__AHRS.html#a4f0bc5579c3bd531524accdf0ada0efc">AP_AHRS::get_accel_bias</a></div><div class="ttdeci">const Vector3f &amp; get_accel_bias(void) const</div><div class="ttdef"><b>Definition</b> <a href="AP__AHRS_8h_source.html#l00622">AP_AHRS.h:622</a></div></div>
<div class="ttc" id="aclassAP__AHRS_html_a64786b58a1607ee420ed4f0696c755b6"><div class="ttname"><a href="classAP__AHRS.html#a64786b58a1607ee420ed4f0696c755b6">AP_AHRS::get_EAS2TAS</a></div><div class="ttdeci">float get_EAS2TAS(void) const</div><div class="ttdef"><b>Definition</b> <a href="AP__AHRS_8h_source.html#l00144">AP_AHRS.h:144</a></div></div>
<div class="ttc" id="aclassAP__AHRS_html_a69088a3b05155cc99c84feca718dd6cb"><div class="ttname"><a href="classAP__AHRS.html#a69088a3b05155cc99c84feca718dd6cb">AP_AHRS::airspeed_estimate</a></div><div class="ttdeci">bool airspeed_estimate(float &amp;airspeed_ret) const</div><div class="ttdef"><b>Definition</b> <a href="AP__AHRS_8cpp_source.html#l03475">AP_AHRS.cpp:3475</a></div></div>
<div class="ttc" id="aclassAP__AHRS_html_a8c03d9320a959f138bad400752b6da4f"><div class="ttname"><a href="classAP__AHRS.html#a8c03d9320a959f138bad400752b6da4f">AP_AHRS::get_gyro</a></div><div class="ttdeci">const Vector3f &amp; get_gyro(void) const</div><div class="ttdef"><b>Definition</b> <a href="AP__AHRS_8h_source.html#l00080">AP_AHRS.h:80</a></div></div>
<div class="ttc" id="aclassAP__AutoTune_html"><div class="ttname"><a href="classAP__AutoTune.html">AP_AutoTune</a></div><div class="ttdef"><b>Definition</b> <a href="AP__AutoTune_8h_source.html#l00011">AP_AutoTune.h:12</a></div></div>
<div class="ttc" id="aclassAP__AutoTune_html_a110fe2abe9d166b62092a16d0fa2c70a"><div class="ttname"><a href="classAP__AutoTune.html#a110fe2abe9d166b62092a16d0fa2c70a">AP_AutoTune::start</a></div><div class="ttdeci">void start(void)</div><div class="ttdef"><b>Definition</b> <a href="AP__AutoTune_8cpp_source.html#l00093">AP_AutoTune.cpp:93</a></div></div>
<div class="ttc" id="aclassAP__AutoTune_html_a97e1db40244c40dd56adb196e932f167a41cfeb4ddeed9861bd950f1715c715a2"><div class="ttname"><a href="classAP__AutoTune.html#a97e1db40244c40dd56adb196e932f167a41cfeb4ddeed9861bd950f1715c715a2">AP_AutoTune::AUTOTUNE_YAW</a></div><div class="ttdeci">@ AUTOTUNE_YAW</div><div class="ttdef"><b>Definition</b> <a href="AP__AutoTune_8h_source.html#l00025">AP_AutoTune.h:25</a></div></div>
<div class="ttc" id="aclassAP__AutoTune_html_ab5283bbd6bc3c2552bfff162174e377a"><div class="ttname"><a href="classAP__AutoTune.html#ab5283bbd6bc3c2552bfff162174e377a">AP_AutoTune::update</a></div><div class="ttdeci">void update(struct AP_PIDInfo &amp;pid_info, float scaler, float angle_err_deg)</div><div class="ttdef"><b>Definition</b> <a href="AP__AutoTune_8cpp_source.html#l00169">AP_AutoTune.cpp:169</a></div></div>
<div class="ttc" id="aclassAP__AutoTune_html_adeb8f372ebcb13377ff55c4126b0347f"><div class="ttname"><a href="classAP__AutoTune.html#adeb8f372ebcb13377ff55c4126b0347f">AP_AutoTune::running</a></div><div class="ttdeci">bool running</div><div class="ttdef"><b>Definition</b> <a href="AP__AutoTune_8h_source.html#l00066">AP_AutoTune.h:66</a></div></div>
<div class="ttc" id="aclassAP__AutoTune_html_ae452d4a3f9648538afc6d7dce6a5e8a3"><div class="ttname"><a href="classAP__AutoTune.html#ae452d4a3f9648538afc6d7dce6a5e8a3">AP_AutoTune::stop</a></div><div class="ttdeci">void stop(void)</div><div class="ttdef"><b>Definition</b> <a href="AP__AutoTune_8cpp_source.html#l00141">AP_AutoTune.cpp:141</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1HAL_html"><div class="ttname"><a href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a></div><div class="ttdef"><b>Definition</b> <a href="HAL_8h_source.html#l00021">HAL.h:21</a></div></div>
<div class="ttc" id="aclassAP__InertialSensor_html_a707bc3f8ef8270db68ceeec36171d6ac"><div class="ttname"><a href="classAP__InertialSensor.html#a707bc3f8ef8270db68ceeec36171d6ac">AP_InertialSensor::get_accel</a></div><div class="ttdeci">const Vector3f &amp; get_accel(uint8_t i) const</div><div class="ttdef"><b>Definition</b> <a href="AP__InertialSensor_8h_source.html#l00133">AP_InertialSensor.h:133</a></div></div>
<div class="ttc" id="aclassAP__Param_html_a5f6dcfce1c0a79cf5bd81283e22f3201"><div class="ttname"><a href="classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a></div><div class="ttdeci">static void setup_object_defaults(const void *object_pointer, const struct GroupInfo *group_info)</div><div class="ttdef"><b>Definition</b> <a href="main_8cpp_source.html#l00010">main.cpp:10</a></div></div>
<div class="ttc" id="aclassAP__Scheduler_html_a82db30c491d6a4eb2a2c34750d7a1de5"><div class="ttname"><a href="classAP__Scheduler.html#a82db30c491d6a4eb2a2c34750d7a1de5">AP_Scheduler::get_loop_period_s</a></div><div class="ttdeci">float get_loop_period_s()</div><div class="ttdef"><b>Definition</b> <a href="AP__Scheduler_8h_source.html#l00155">AP_Scheduler.h:155</a></div></div>
<div class="ttc" id="aclassAP__YawController_html"><div class="ttname"><a href="classAP__YawController.html">AP_YawController</a></div><div class="ttdef"><b>Definition</b> <a href="AP__YawController_8h_source.html#l00007">AP_YawController.h:8</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_a0c62e7d3e3ccfc34a09aec717b049145"><div class="ttname"><a href="classAP__YawController.html#a0c62e7d3e3ccfc34a09aec717b049145">AP_YawController::_K_D_last</a></div><div class="ttdeci">float _K_D_last</div><div class="ttdef"><b>Definition</b> <a href="AP__YawController_8h_source.html#l00070">AP_YawController.h:70</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_a0cff30a9e52de0ba04dd26661a1f4506"><div class="ttname"><a href="classAP__YawController.html#a0cff30a9e52de0ba04dd26661a1f4506">AP_YawController::get_servo_out</a></div><div class="ttdeci">int32_t get_servo_out(float scaler, bool disable_integrator)</div><div class="ttdef"><b>Definition</b> <a href="#l00188">AP_YawController.cpp:188</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_a15e613276e64fdfbfe12af182664ff0a"><div class="ttname"><a href="classAP__YawController.html#a15e613276e64fdfbfe12af182664ff0a">AP_YawController::_last_t</a></div><div class="ttdeci">uint32_t _last_t</div><div class="ttdef"><b>Definition</b> <a href="AP__YawController_8h_source.html#l00066">AP_YawController.h:66</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_a1956c9e5ec33ed4a85724cf46d5c17c2"><div class="ttname"><a href="classAP__YawController.html#a1956c9e5ec33ed4a85724cf46d5c17c2">AP_YawController::rate_control_enabled</a></div><div class="ttdeci">bool rate_control_enabled(void) const</div><div class="ttdef"><b>Definition</b> <a href="AP__YawController_8h_source.html#l00019">AP_YawController.h:19</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_a19a6b19a3a870147bf8483817918e4a6"><div class="ttname"><a href="classAP__YawController.html#a19a6b19a3a870147bf8483817918e4a6">AP_YawController::_pid_info</a></div><div class="ttdeci">AP_PIDInfo _pid_info</div><div class="ttdef"><b>Definition</b> <a href="AP__YawController_8h_source.html#l00078">AP_YawController.h:78</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_a2c952c6b3ca322f50a05d67109e4a8cc"><div class="ttname"><a href="classAP__YawController.html#a2c952c6b3ca322f50a05d67109e4a8cc">AP_YawController::_K_D</a></div><div class="ttdeci">AP_Float _K_D</div><div class="ttdef"><b>Definition</b> <a href="AP__YawController_8h_source.html#l00060">AP_YawController.h:60</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_a4831547d1c3abe1c055b1162459bdf8c"><div class="ttname"><a href="classAP__YawController.html#a4831547d1c3abe1c055b1162459bdf8c">AP_YawController::rate_pid</a></div><div class="ttdeci">AC_PID rate_pid</div><div class="ttdef"><b>Definition</b> <a href="AP__YawController_8h_source.html#l00064">AP_YawController.h:64</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_a4946b771049ef64727419a6267ff8126"><div class="ttname"><a href="classAP__YawController.html#a4946b771049ef64727419a6267ff8126">AP_YawController::_integrator</a></div><div class="ttdeci">float _integrator</div><div class="ttdef"><b>Definition</b> <a href="AP__YawController_8h_source.html#l00072">AP_YawController.h:72</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_a52328d9a6e3bde165beedac29da99c49"><div class="ttname"><a href="classAP__YawController.html#a52328d9a6e3bde165beedac29da99c49">AP_YawController::reset_rate_PID</a></div><div class="ttdeci">void reset_rate_PID()</div><div class="ttdef"><b>Definition</b> <a href="#l00378">AP_YawController.cpp:378</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_a65180b7cab75c123ebea912e3765a05f"><div class="ttname"><a href="classAP__YawController.html#a65180b7cab75c123ebea912e3765a05f">AP_YawController::get_rate_out</a></div><div class="ttdeci">float get_rate_out(float desired_rate, float scaler, bool disable_integrator)</div><div class="ttdef"><b>Definition</b> <a href="#l00298">AP_YawController.cpp:298</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_a696331291f407bc05cae98403e45b1de"><div class="ttname"><a href="classAP__YawController.html#a696331291f407bc05cae98403e45b1de">AP_YawController::autotune</a></div><div class="ttdeci">AP_AutoTune * autotune</div><div class="ttdef"><b>Definition</b> <a href="AP__YawController_8h_source.html#l00075">AP_YawController.h:75</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_a6aea1b6a30c92c3f7e916995fdddddee"><div class="ttname"><a href="classAP__YawController.html#a6aea1b6a30c92c3f7e916995fdddddee">AP_YawController::aparm</a></div><div class="ttdeci">const AP_FixedWing &amp; aparm</div><div class="ttdef"><b>Definition</b> <a href="AP__YawController_8h_source.html#l00057">AP_YawController.h:57</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_a791e8f1670bff960d11ce6833ac95b70"><div class="ttname"><a href="classAP__YawController.html#a791e8f1670bff960d11ce6833ac95b70">AP_YawController::_last_rate_hp_in</a></div><div class="ttdeci">float _last_rate_hp_in</div><div class="ttdef"><b>Definition</b> <a href="AP__YawController_8h_source.html#l00069">AP_YawController.h:69</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_a7f8cfd727482b8013f2e7c39336f9e92"><div class="ttname"><a href="classAP__YawController.html#a7f8cfd727482b8013f2e7c39336f9e92">AP_YawController::_K_FF</a></div><div class="ttdeci">AP_Float _K_FF</div><div class="ttdef"><b>Definition</b> <a href="AP__YawController_8h_source.html#l00061">AP_YawController.h:61</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_a81dbbd2d2d0a4f11568ace14470316c3"><div class="ttname"><a href="classAP__YawController.html#a81dbbd2d2d0a4f11568ace14470316c3">AP_YawController::AP_YawController</a></div><div class="ttdeci">AP_YawController(const AP_FixedWing &amp;parms)</div><div class="ttdef"><b>Definition</b> <a href="#l00178">AP_YawController.cpp:178</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_a8f1948b3b181a735b41f66010c198e33"><div class="ttname"><a href="classAP__YawController.html#a8f1948b3b181a735b41f66010c198e33">AP_YawController::gains</a></div><div class="ttdeci">AP_AutoTune::ATGains gains</div><div class="ttdef"><b>Definition</b> <a href="AP__YawController_8h_source.html#l00074">AP_YawController.h:74</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_aa3d9da5107ac95438cc1f72711f35245"><div class="ttname"><a href="classAP__YawController.html#aa3d9da5107ac95438cc1f72711f35245">AP_YawController::_K_I</a></div><div class="ttdeci">AP_Float _K_I</div><div class="ttdef"><b>Definition</b> <a href="AP__YawController_8h_source.html#l00059">AP_YawController.h:59</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_ab17249da7a6bc556d0af3399f325d2c6"><div class="ttname"><a href="classAP__YawController.html#ab17249da7a6bc556d0af3399f325d2c6">AP_YawController::autotune_restore</a></div><div class="ttdeci">void autotune_restore(void)</div><div class="ttdef"><b>Definition</b> <a href="#l00410">AP_YawController.cpp:410</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_ab755683ca6cb4b24fdc10a3a608432c2"><div class="ttname"><a href="classAP__YawController.html#ab755683ca6cb4b24fdc10a3a608432c2">AP_YawController::_imax</a></div><div class="ttdeci">AP_Int16 _imax</div><div class="ttdef"><b>Definition</b> <a href="AP__YawController_8h_source.html#l00062">AP_YawController.h:62</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_abf4cc6cb7a66a7878aae20961be9f82a"><div class="ttname"><a href="classAP__YawController.html#abf4cc6cb7a66a7878aae20961be9f82a">AP_YawController::reset_I</a></div><div class="ttdeci">void reset_I()</div><div class="ttdef"><b>Definition</b> <a href="#l00371">AP_YawController.cpp:371</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_ae7c466406f0b764ff7a286b12c7ed692"><div class="ttname"><a href="classAP__YawController.html#ae7c466406f0b764ff7a286b12c7ed692">AP_YawController::_K_A</a></div><div class="ttdeci">AP_Float _K_A</div><div class="ttdef"><b>Definition</b> <a href="AP__YawController_8h_source.html#l00058">AP_YawController.h:58</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_ae9a6fa81a5d03ec2004395263b8d982a"><div class="ttname"><a href="classAP__YawController.html#ae9a6fa81a5d03ec2004395263b8d982a">AP_YawController::_last_rate_hp_out</a></div><div class="ttdeci">float _last_rate_hp_out</div><div class="ttdef"><b>Definition</b> <a href="AP__YawController_8h_source.html#l00068">AP_YawController.h:68</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_aeaf0a914e33b15bb6835281f0d4ea20a"><div class="ttname"><a href="classAP__YawController.html#aeaf0a914e33b15bb6835281f0d4ea20a">AP_YawController::_last_out</a></div><div class="ttdeci">float _last_out</div><div class="ttdef"><b>Definition</b> <a href="AP__YawController_8h_source.html#l00067">AP_YawController.h:67</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_aed2a9430ee5cc08ae4dd482bb428a738"><div class="ttname"><a href="classAP__YawController.html#aed2a9430ee5cc08ae4dd482bb428a738">AP_YawController::failed_autotune_alloc</a></div><div class="ttdeci">bool failed_autotune_alloc</div><div class="ttdef"><b>Definition</b> <a href="AP__YawController_8h_source.html#l00076">AP_YawController.h:76</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_aedc549b2477796ba6fc2aa3b7671644b"><div class="ttname"><a href="classAP__YawController.html#aedc549b2477796ba6fc2aa3b7671644b">AP_YawController::var_info</a></div><div class="ttdeci">static const struct AP_Param::GroupInfo var_info[]</div><div class="ttdef"><b>Definition</b> <a href="AP__YawController_8h_source.html#l00028">AP_YawController.h:28</a></div></div>
<div class="ttc" id="aclassAP__YawController_html_af48d1566d37e775c90aeff9e3ebb8fe1"><div class="ttname"><a href="classAP__YawController.html#af48d1566d37e775c90aeff9e3ebb8fe1">AP_YawController::autotune_start</a></div><div class="ttdeci">void autotune_start(void)</div><div class="ttdef"><b>Definition</b> <a href="#l00387">AP_YawController.cpp:387</a></div></div>
<div class="ttc" id="aclassVector3_html"><div class="ttname"><a href="classVector3.html">Vector3&lt; float &gt;</a></div></div>
<div class="ttc" id="aclassVector3_html_a561df88b28e106e337a25bb86554a569"><div class="ttname"><a href="classVector3.html#a561df88b28e106e337a25bb86554a569">Vector3::y</a></div><div class="ttdeci">T y</div><div class="ttdef"><b>Definition</b> <a href="vector3_8h_source.html#l00076">vector3.h:76</a></div></div>
<div class="ttc" id="aclassVector3_html_ab3e7f5401dd6e951978bfa746809f74f"><div class="ttname"><a href="classVector3.html#ab3e7f5401dd6e951978bfa746809f74f">Vector3::z</a></div><div class="ttdeci">T z</div><div class="ttdef"><b>Definition</b> <a href="vector3_8h_source.html#l00076">vector3.h:76</a></div></div>
<div class="ttc" id="adefinitions_8h_html_aea8758bf61b23b46507902b46060ebfd"><div class="ttname"><a href="definitions_8h.html#aea8758bf61b23b46507902b46060ebfd">GRAVITY_MSS</a></div><div class="ttdeci">#define GRAVITY_MSS</div><div class="ttdef"><b>Definition</b> <a href="definitions_8h_source.html#l00047">definitions.h:47</a></div></div>
<div class="ttc" id="amoduletest_8c_html_a903c4797a4c2860e3b9a6a978f98a44d"><div class="ttname"><a href="moduletest_8c.html#a903c4797a4c2860e3b9a6a978f98a44d">degrees</a></div><div class="ttdeci">#define degrees(x)</div><div class="ttdef"><b>Definition</b> <a href="moduletest_8c_source.html#l00023">moduletest.c:23</a></div></div>
<div class="ttc" id="amonocypher_8cpp_html_a3acffbd305ee72dcd4593c0d8af64a4f"><div class="ttname"><a href="monocypher_8cpp.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a></div><div class="ttdeci">#define MIN(a, b)</div><div class="ttdef"><b>Definition</b> <a href="monocypher_8cpp_source.html#l00071">monocypher.cpp:71</a></div></div>
<div class="ttc" id="amonocypher_8cpp_html_afa99ec4acc4ecb2dc3c2d05da15d0e3f"><div class="ttname"><a href="monocypher_8cpp.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a></div><div class="ttdeci">#define MAX(a, b)</div><div class="ttdef"><b>Definition</b> <a href="monocypher_8cpp_source.html#l00072">monocypher.cpp:72</a></div></div>
<div class="ttc" id="anamespaceAP__HAL_html_a77dffbb18891996280308e21316ec186"><div class="ttname"><a href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a></div><div class="ttdeci">uint32_t millis()</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL__ChibiOS_2system_8cpp_source.html#l00377">system.cpp:377</a></div></div>
<div class="ttc" id="anamespaceAP_html_a99432cfdb696952c9b7146f155a815aa"><div class="ttname"><a href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a></div><div class="ttdeci">AP_AHRS &amp; ahrs()</div><div class="ttdef"><b>Definition</b> <a href="AP__AHRS_8cpp_source.html#l03558">AP_AHRS.cpp:3558</a></div></div>
<div class="ttc" id="anamespaceAP_html_ac571aa5a2ef71b7f4b4b2bfa09143fb9"><div class="ttname"><a href="namespaceAP.html#ac571aa5a2ef71b7f4b4b2bfa09143fb9">AP::ins</a></div><div class="ttdeci">AP_InertialSensor &amp; ins()</div><div class="ttdef"><b>Definition</b> <a href="AP__InertialSensor_8cpp_source.html#l02780">AP_InertialSensor.cpp:2780</a></div></div>
<div class="ttc" id="anamespaceAP_html_acdeafe5406efd2650ba54d24d3aecb7c"><div class="ttname"><a href="namespaceAP.html#acdeafe5406efd2650ba54d24d3aecb7c">AP::scheduler</a></div><div class="ttdeci">AP_Scheduler &amp; scheduler()</div><div class="ttdef"><b>Definition</b> <a href="AP__Scheduler_8cpp_source.html#l00536">AP_Scheduler.cpp:536</a></div></div>
<div class="ttc" id="astructAP__AutoTune_1_1ATGains_html_ab5c8e0e6b0eb61a04630c235b840deff"><div class="ttname"><a href="structAP__AutoTune_1_1ATGains.html#ab5c8e0e6b0eb61a04630c235b840deff">AP_AutoTune::ATGains::rmax_pos</a></div><div class="ttdeci">AP_Int16 rmax_pos</div><div class="ttdef"><b>Definition</b> <a href="AP__AutoTune_8h_source.html#l00016">AP_AutoTune.h:16</a></div></div>
<div class="ttc" id="astructAP__AutoTune_1_1ATGains_html_afd8a5b186e0a2166f45d8285d72e1c32"><div class="ttname"><a href="structAP__AutoTune_1_1ATGains.html#afd8a5b186e0a2166f45d8285d72e1c32">AP_AutoTune::ATGains::tau</a></div><div class="ttdeci">AP_Float tau</div><div class="ttdef"><b>Definition</b> <a href="AP__AutoTune_8h_source.html#l00015">AP_AutoTune.h:15</a></div></div>
<div class="ttc" id="astructAP__FixedWing_html"><div class="ttname"><a href="structAP__FixedWing.html">AP_FixedWing</a></div><div class="ttdef"><b>Definition</b> <a href="AP__FixedWing_8h_source.html#l00008">AP_FixedWing.h:8</a></div></div>
<div class="ttc" id="astructAP__FixedWing_html_a2077bf8bbf9fc486c81be9b3f5b84500"><div class="ttname"><a href="structAP__FixedWing.html#a2077bf8bbf9fc486c81be9b3f5b84500">AP_FixedWing::airspeed_min</a></div><div class="ttdeci">AP_Int16 airspeed_min</div><div class="ttdef"><b>Definition</b> <a href="AP__FixedWing_8h_source.html#l00014">AP_FixedWing.h:14</a></div></div>
<div class="ttc" id="astructAP__FixedWing_html_ab3628cdc8abbecf0634d7e699853bc7a"><div class="ttname"><a href="structAP__FixedWing.html#ab3628cdc8abbecf0634d7e699853bc7a">AP_FixedWing::airspeed_max</a></div><div class="ttdeci">AP_Int16 airspeed_max</div><div class="ttdef"><b>Definition</b> <a href="AP__FixedWing_8h_source.html#l00015">AP_FixedWing.h:15</a></div></div>
<div class="ttc" id="astructAP__PIDInfo_html_a6415861ae1439a7dd3a61fb585e5ae91"><div class="ttname"><a href="structAP__PIDInfo.html#a6415861ae1439a7dd3a61fb585e5ae91">AP_PIDInfo::FF</a></div><div class="ttdeci">float FF</div><div class="ttdef"><b>Definition</b> <a href="AP__PIDInfo_8h_source.html#l00016">AP_PIDInfo.h:16</a></div></div>
<div class="ttc" id="astructAP__PIDInfo_html_a68f1633a266ef8d3e5507526a8ac70f0"><div class="ttname"><a href="structAP__PIDInfo.html#a68f1633a266ef8d3e5507526a8ac70f0">AP_PIDInfo::I</a></div><div class="ttdeci">float I</div><div class="ttdef"><b>Definition</b> <a href="AP__PIDInfo_8h_source.html#l00014">AP_PIDInfo.h:14</a></div></div>
<div class="ttc" id="astructAP__PIDInfo_html_a980fa483168dc010d3d1aae3f4fd542c"><div class="ttname"><a href="structAP__PIDInfo.html#a980fa483168dc010d3d1aae3f4fd542c">AP_PIDInfo::target</a></div><div class="ttdeci">float target</div><div class="ttdef"><b>Definition</b> <a href="AP__PIDInfo_8h_source.html#l00010">AP_PIDInfo.h:10</a></div></div>
<div class="ttc" id="astructAP__PIDInfo_html_abe5166ca8a76c1b998b8942abd683ac1"><div class="ttname"><a href="structAP__PIDInfo.html#abe5166ca8a76c1b998b8942abd683ac1">AP_PIDInfo::D</a></div><div class="ttdeci">float D</div><div class="ttdef"><b>Definition</b> <a href="AP__PIDInfo_8h_source.html#l00015">AP_PIDInfo.h:15</a></div></div>
<div class="ttc" id="astructAP__PIDInfo_html_ad469cca8be9a0972c64dc19a13efc447"><div class="ttname"><a href="structAP__PIDInfo.html#ad469cca8be9a0972c64dc19a13efc447">AP_PIDInfo::P</a></div><div class="ttdeci">float P</div><div class="ttdef"><b>Definition</b> <a href="AP__PIDInfo_8h_source.html#l00013">AP_PIDInfo.h:13</a></div></div>
<div class="ttc" id="astructAP__Param_1_1GroupInfo_html"><div class="ttname"><a href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00199">AP_Param.h:199</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 22 2024 16:14:16 for APM:Libraries by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
