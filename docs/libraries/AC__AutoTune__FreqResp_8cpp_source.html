<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>APM:Libraries: libraries/AC_AutoTune/AC_AutoTune_FreqResp.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">APM:Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_e0c590d1e561ab822e9a3251e267ee24.html">AC_AutoTune</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">AC_AutoTune_FreqResp.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="AC__AutoTune__FreqResp_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">This library receives time history data (angular rate or angle) during a dwell test or frequency sweep test and determines the gain and phase of the response to the input. For dwell tests once the designated number of cycles are complete, the average of the gain and phase are determined over the last 5 cycles and the cycle_complete flag is set. For frequency sweep tests, phase and gain are determined for every cycle and cycle_complete flag is set to indicate when to pull the phase and gain data.  The flag is reset to enable the next cycle to be analyzed.  The init function must be used when initializing the dwell or frequency sweep test.</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">*/</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &lt;<a class="code" href="AP__HAL_8h.html">AP_HAL/AP_HAL.h</a>&gt;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &quot;<a class="code" href="AC__AutoTune__FreqResp_8h.html">AC_AutoTune_FreqResp.h</a>&quot;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span> </div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">// Initialize the Frequency Response Object. Must be called before running dwell or frequency sweep tests</span></div>
<div class="foldopen" id="foldopen00009" data-start="{" data-end="}">
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno"><a class="line" href="classAC__AutoTune__FreqResp.html#a605b46fdcd6bdeb9d9042b832f5cb037">    9</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__FreqResp.html#a605b46fdcd6bdeb9d9042b832f5cb037">AC_AutoTune_FreqResp::init</a>(<a class="code hl_enumeration" href="classAC__AutoTune__FreqResp.html#a662f5477c0ba1c84d27f4fe55d94d307">InputType</a> input_type, <a class="code hl_enumeration" href="classAC__AutoTune__FreqResp.html#a0d1acba5aebd47580bb3e959c962b751">ResponseType</a> response_type)</div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span>{</div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#acd731d8e6e19364b1e0bff3b036796d1">excitation</a> = input_type;</div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a34c6a9eed9fce8304673f920c30b54bf">response</a> = response_type;</div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a17de47d9e02f2bac8aad34e3643d2041">max_target_cnt</a> = 0;</div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aec89800c742c9eeb6eaeba11357b4233">min_target_cnt</a> = 0;</div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a667edee0fc79ace614dbee6df5e3132e">max_meas_cnt</a> = 0;</div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aa65f032bb720d7cc18c44e0dc81bec80">min_meas_cnt</a> = 0;</div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a785c529c9087a402965b3d7422b98451">input_start_time_ms</a> = 0;</div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a5cda4f23fd974d1825491d5d52ac8334">new_tgt_time_ms</a> = 0;</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a5c81e565fcd6617e6f4c0740fc2bae93">new_meas_time_ms</a> = 0;</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aba5f7b550c0e0b31fef7e3009f12b1b8">new_target</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ac9b97c586f3b1d7c4480719f825ebbe8">new_meas</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ae3263ba4b2423393a07c26689a048d17">curr_test_freq</a> = 0.0f;</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a761951e3fc9430d3ca0f7eaed10958a6">curr_test_gain</a> = 0.0f;</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a02c4bb56528b69809eedbf7e02cbbf55">curr_test_phase</a> = 0.0f;</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ae2315fa2b5510a1f7d786f22d0f85365">max_accel</a> = 0.0f;</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#abe9bf4f053a61aacd2b0d363e7127028">max_meas_rate</a> = 0.0f;</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a6b2174ef82dea19f3113931d31b85d15">max_command</a> = 0.0f;</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#acb8620b68d0247ceb37ccfc1c8ee0d9e">meas_peak_info_buffer</a>.clear();</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a4ba3d5fc93a43baaa00178769044b735">tgt_peak_info_buffer</a>.clear();</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a1dcb19a8af4051cf26c7c5d6c31b4e03">cycle_complete</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>}</div>
</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span> </div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="comment">// update_angle - this function receives time history data during a dwell and frequency sweep tests for angle_p tuning</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="comment">// and determines the gain, phase, and max acceleration of the response to the input. For dwell tests once the designated number</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="comment">// of cycles are complete, the average of the gain, phase, and max acceleration are determined over the last 5 cycles and the</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="comment">// cycles_complete flag is set. For frequency sweep tests, phase and gain are determined for every cycle and cycle_complete flag is set</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="comment">// to indicate when to pull the phase and gain data.  The flag is reset to enable the next cycle to be analyzed.</span></div>
<div class="foldopen" id="foldopen00038" data-start="{" data-end="}">
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno"><a class="line" href="classAC__AutoTune__FreqResp.html#a68603a35134d6216679858e3a2c05748">   38</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__FreqResp.html#a68603a35134d6216679858e3a2c05748">AC_AutoTune_FreqResp::update</a>(<span class="keywordtype">float</span> command, <span class="keywordtype">float</span> tgt_resp, <span class="keywordtype">float</span> meas_resp, <span class="keywordtype">float</span> tgt_freq)</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>{</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span> </div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    uint32_t now = <a class="code hl_function" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    <span class="keywordtype">float</span> dt = 0.0025;</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>    uint32_t half_cycle_time_ms = 0;</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    uint32_t cycle_time_ms = 0;</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a1dcb19a8af4051cf26c7c5d6c31b4e03">cycle_complete</a>) {</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    }</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span> </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="AP__Math_8h.html#a2a12cce483e9b870da70d30406d82c60">is_zero</a>(tgt_freq)) {</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>        half_cycle_time_ms = (uint32_t)(300 * <a class="code hl_define" href="definitions_8h.html#a4aa2c43b09c1300c334821f5507d6f71">M_2PI</a> / tgt_freq);</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>        cycle_time_ms = (uint32_t)(1000 * <a class="code hl_define" href="definitions_8h.html#a4aa2c43b09c1300c334821f5507d6f71">M_2PI</a> / tgt_freq);</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    }</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span> </div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a785c529c9087a402965b3d7422b98451">input_start_time_ms</a> == 0) {</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a785c529c9087a402965b3d7422b98451">input_start_time_ms</a> = now;</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a34c6a9eed9fce8304673f920c30b54bf">response</a> == <a class="code hl_enumvalue" href="classAC__AutoTune__FreqResp.html#a0d1acba5aebd47580bb3e959c962b751aedaeabcf681c6e1f4c5932e46825d3b1">ANGLE</a>) {</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#afee43f6efdf2406e1eb9e476afec4630">prev_tgt_resp</a> = tgt_resp;</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a3c7234791c7f1f2427eea03b01e1f6d1">prev_meas_resp</a> = meas_resp;</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ae8e1b8b765876a44d1cf72e96c052f55">prev_target</a> = 0.0f;</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ad026de4e6a064ee27c87349224aca202">prev_meas</a> = 0.0f;</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>        }</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>    }</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a34c6a9eed9fce8304673f920c30b54bf">response</a> == <a class="code hl_enumvalue" href="classAC__AutoTune__FreqResp.html#a0d1acba5aebd47580bb3e959c962b751aedaeabcf681c6e1f4c5932e46825d3b1">ANGLE</a>) {</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#afdeaaa9db67dd4b7fa4e2d76bcc325e4">target_rate</a> = (tgt_resp - <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#afee43f6efdf2406e1eb9e476afec4630">prev_tgt_resp</a>) / dt;</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a71226921f1175d5c48d5395a705efb40">measured_rate</a> = (meas_resp - <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a3c7234791c7f1f2427eea03b01e1f6d1">prev_meas_resp</a>) / dt;</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#afdeaaa9db67dd4b7fa4e2d76bcc325e4">target_rate</a> = tgt_resp;</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a71226921f1175d5c48d5395a705efb40">measured_rate</a> = meas_resp;</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    }</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span> </div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    <span class="comment">// cycles are complete! determine gain and phase and exit</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a667edee0fc79ace614dbee6df5e3132e">max_meas_cnt</a> &gt; <a class="code hl_define" href="AC__AutoTune__FreqResp_8h.html#a8566a41a5eba54860c1d1e69299481cf">AUTOTUNE_DWELL_CYCLES</a> + 1 &amp;&amp; <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a17de47d9e02f2bac8aad34e3643d2041">max_target_cnt</a> &gt; <a class="code hl_define" href="AC__AutoTune__FreqResp_8h.html#a8566a41a5eba54860c1d1e69299481cf">AUTOTUNE_DWELL_CYCLES</a> + 1 &amp;&amp; <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#acd731d8e6e19364b1e0bff3b036796d1">excitation</a> == <a class="code hl_enumvalue" href="classAC__AutoTune__FreqResp.html#a662f5477c0ba1c84d27f4fe55d94d307a245199b7189ce03119b6d1bde5921419">DWELL</a>) {</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>        <span class="keywordtype">float</span> delta_time = 0.0f;</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>        <span class="keywordtype">float</span> sum_gain = 0.0f;</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>        uint8_t cnt = 0;</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>        uint8_t gcnt = 0;</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>        uint16_t meas_cnt, tgt_cnt;</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>        <span class="keywordtype">float</span> meas_ampl = 0.0f;</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>        <span class="keywordtype">float</span> tgt_ampl = 0.0f;</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>        uint32_t meas_time = 0;</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>        uint32_t tgt_time = 0;</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>        <span class="keywordflow">for</span> (uint8_t i = 0;  i &lt; <a class="code hl_define" href="AC__AutoTune__FreqResp_8h.html#a8566a41a5eba54860c1d1e69299481cf">AUTOTUNE_DWELL_CYCLES</a>; i++) {</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>            meas_cnt=0;</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>            tgt_cnt=0;</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>            <a class="code hl_function" href="classAC__AutoTune__FreqResp.html#ad7251fa21170891444e04d1f428436df">pull_from_meas_buffer</a>(meas_cnt, meas_ampl, meas_time);</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>            <a class="code hl_function" href="classAC__AutoTune__FreqResp.html#aa7d5a0a97fee501aa1fcd4e49312d2b7">pull_from_tgt_buffer</a>(tgt_cnt, tgt_ampl, tgt_time);</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>            <a class="code hl_function" href="classAC__AutoTune__FreqResp.html#a3916ab240eed642e580f3d19dbd61409">push_to_meas_buffer</a>(0, 0.0f, 0);</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>            <a class="code hl_function" href="classAC__AutoTune__FreqResp.html#a20228f3af735d794e08bb7298dcc9de5">push_to_tgt_buffer</a>(0, 0.0f, 0);</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>            <span class="comment">// gcs().send_text(MAV_SEVERITY_INFO, &quot;AutoTune: tgt_cnt=%f meas_cnt=%f&quot;, (double)(tgt_cnt), (double)(meas_cnt));</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span> </div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>            <span class="keywordflow">if</span> (meas_cnt == tgt_cnt &amp;&amp; meas_cnt != 0) {</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>                <span class="keywordflow">if</span> (tgt_ampl &gt; 0.0f) {</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>                    sum_gain += meas_ampl / tgt_ampl;</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>                    gcnt++;</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>                }</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>                <span class="keywordtype">float</span> d_time = (float)(meas_time - tgt_time);</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>                <span class="keywordflow">if</span> (d_time &lt; 2.0f * (<span class="keywordtype">float</span>)cycle_time_ms) {</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>                    delta_time += d_time;</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>                    cnt++;</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>                }</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (meas_cnt &gt; tgt_cnt) {</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>                <a class="code hl_function" href="classAC__AutoTune__FreqResp.html#aa7d5a0a97fee501aa1fcd4e49312d2b7">pull_from_tgt_buffer</a>(tgt_cnt, tgt_ampl, tgt_time);</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>                <a class="code hl_function" href="classAC__AutoTune__FreqResp.html#a20228f3af735d794e08bb7298dcc9de5">push_to_tgt_buffer</a>(0, 0.0f, 0);</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (meas_cnt &lt; tgt_cnt) {</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>                <a class="code hl_function" href="classAC__AutoTune__FreqResp.html#ad7251fa21170891444e04d1f428436df">pull_from_meas_buffer</a>(meas_cnt, meas_ampl, meas_time);</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>                <a class="code hl_function" href="classAC__AutoTune__FreqResp.html#a3916ab240eed642e580f3d19dbd61409">push_to_meas_buffer</a>(0, 0.0f, 0);</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>            }                </div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span> </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>        }</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>        <span class="keywordflow">if</span> (gcnt &gt; 0) {</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a761951e3fc9430d3ca0f7eaed10958a6">curr_test_gain</a> = sum_gain / gcnt;</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>        }</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>        <span class="keywordflow">if</span> (cnt &gt; 0) {</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>            delta_time = delta_time / cnt;</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>        }</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a02c4bb56528b69809eedbf7e02cbbf55">curr_test_phase</a> = tgt_freq * delta_time * 0.001f * 360.0f / <a class="code hl_define" href="definitions_8h.html#a4aa2c43b09c1300c334821f5507d6f71">M_2PI</a>;</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a02c4bb56528b69809eedbf7e02cbbf55">curr_test_phase</a> &gt; 360.0f) {</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a02c4bb56528b69809eedbf7e02cbbf55">curr_test_phase</a> = <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a02c4bb56528b69809eedbf7e02cbbf55">curr_test_phase</a> - 360.0f;</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>        }</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span> </div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>        <span class="comment">// determine max accel for angle response type test</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>        <span class="keywordtype">float</span> dwell_max_accel;</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a34c6a9eed9fce8304673f920c30b54bf">response</a> == <a class="code hl_enumvalue" href="classAC__AutoTune__FreqResp.html#a0d1acba5aebd47580bb3e959c962b751aedaeabcf681c6e1f4c5932e46825d3b1">ANGLE</a>) {</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>            dwell_max_accel = tgt_freq * <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#abe9bf4f053a61aacd2b0d363e7127028">max_meas_rate</a> * 5730.0f;</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="AP__Math_8h.html#a2a12cce483e9b870da70d30406d82c60">is_zero</a>(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a6b2174ef82dea19f3113931d31b85d15">max_command</a>)) {</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>                <span class="comment">// normalize accel for input size</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>                dwell_max_accel = dwell_max_accel / (2.0f * <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a6b2174ef82dea19f3113931d31b85d15">max_command</a>);</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>            }</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>            <span class="keywordflow">if</span> (dwell_max_accel &gt; <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ae2315fa2b5510a1f7d786f22d0f85365">max_accel</a>) {</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>                <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ae2315fa2b5510a1f7d786f22d0f85365">max_accel</a> = dwell_max_accel;</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>            }</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>        }</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span> </div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ae3263ba4b2423393a07c26689a048d17">curr_test_freq</a> = tgt_freq;</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a1dcb19a8af4051cf26c7c5d6c31b4e03">cycle_complete</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>        <span class="comment">// gcs().send_text(MAV_SEVERITY_INFO, &quot;AutoTune: cycles completed&quot;);</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    }</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span> </div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <span class="comment">// Indicates when the target(input) is positive or negative half of the cycle to notify when the max or min should be sought</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <span class="keywordflow">if</span> (((<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a34c6a9eed9fce8304673f920c30b54bf">response</a> == <a class="code hl_enumvalue" href="classAC__AutoTune__FreqResp.html#a0d1acba5aebd47580bb3e959c962b751aedaeabcf681c6e1f4c5932e46825d3b1">ANGLE</a> &amp;&amp; <a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ae8e1b8b765876a44d1cf72e96c052f55">prev_target</a>) &amp;&amp; !<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#afdeaaa9db67dd4b7fa4e2d76bcc325e4">target_rate</a>))</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>        || (<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a34c6a9eed9fce8304673f920c30b54bf">response</a> == <a class="code hl_enumvalue" href="classAC__AutoTune__FreqResp.html#a0d1acba5aebd47580bb3e959c962b751a5305d515dc96c98fb352f7fb7264dd15">RATE</a> &amp;&amp; !<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ae8e1b8b765876a44d1cf72e96c052f55">prev_target</a>) &amp;&amp; <a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#afdeaaa9db67dd4b7fa4e2d76bcc325e4">target_rate</a>)))</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>        &amp;&amp; !<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aba5f7b550c0e0b31fef7e3009f12b1b8">new_target</a> &amp;&amp; now &gt; <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a5cda4f23fd974d1825491d5d52ac8334">new_tgt_time_ms</a>) {</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aba5f7b550c0e0b31fef7e3009f12b1b8">new_target</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a5cda4f23fd974d1825491d5d52ac8334">new_tgt_time_ms</a> = now + half_cycle_time_ms;</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>        <span class="comment">// reset max_target</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a4c03fe11c8386ab014a0d73c1613d223">max_target</a> = 0.0f;</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a17de47d9e02f2bac8aad34e3643d2041">max_target_cnt</a>++;</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a2486cef8dc587d3160d0c5aaee54e64b">temp_min_target</a> = <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a28aa26ab8bd91aa22a39507d31639cb3">min_target</a>;</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aec89800c742c9eeb6eaeba11357b4233">min_target_cnt</a> &gt; 0) {</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a67193a08830b70b64beae0b7853eefc7">sweep_tgt</a>.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1sweep__peak__finding__data.html#a31075805386442bc0894e64ee48004a4">max_time_m1</a> = <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a4d03eb0a1f6a32e62115539779a86046">temp_max_tgt_time</a>;</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a4d03eb0a1f6a32e62115539779a86046">temp_max_tgt_time</a> = <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a25e831bce97c4e052f0dbcdf264f4630">max_tgt_time</a>;</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a67193a08830b70b64beae0b7853eefc7">sweep_tgt</a>.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1sweep__peak__finding__data.html#a2534463d6175020ba46faa56e90ed17b">count_m1</a> = <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aec89800c742c9eeb6eaeba11357b4233">min_target_cnt</a> - 1;</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a67193a08830b70b64beae0b7853eefc7">sweep_tgt</a>.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1sweep__peak__finding__data.html#aa18948f49c8dabb5fc2e809240e401fa">amplitude_m1</a> = <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a674389c026b975adb0967bbe26777533">temp_tgt_ampl</a>;</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a674389c026b975adb0967bbe26777533">temp_tgt_ampl</a> = <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a6d553fcf8fcae1477cf6867568c3371b">temp_max_target</a> - <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a2486cef8dc587d3160d0c5aaee54e64b">temp_min_target</a>;</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>            <a class="code hl_function" href="classAC__AutoTune__FreqResp.html#a20228f3af735d794e08bb7298dcc9de5">push_to_tgt_buffer</a>(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aec89800c742c9eeb6eaeba11357b4233">min_target_cnt</a>,<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a674389c026b975adb0967bbe26777533">temp_tgt_ampl</a>,<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a4d03eb0a1f6a32e62115539779a86046">temp_max_tgt_time</a>);</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>        }</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span> </div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a34c6a9eed9fce8304673f920c30b54bf">response</a> == <a class="code hl_enumvalue" href="classAC__AutoTune__FreqResp.html#a0d1acba5aebd47580bb3e959c962b751aedaeabcf681c6e1f4c5932e46825d3b1">ANGLE</a> &amp;&amp; !<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ae8e1b8b765876a44d1cf72e96c052f55">prev_target</a>) &amp;&amp; <a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#afdeaaa9db67dd4b7fa4e2d76bcc325e4">target_rate</a>))</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>               || (<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a34c6a9eed9fce8304673f920c30b54bf">response</a> == <a class="code hl_enumvalue" href="classAC__AutoTune__FreqResp.html#a0d1acba5aebd47580bb3e959c962b751a5305d515dc96c98fb352f7fb7264dd15">RATE</a> &amp;&amp; <a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ae8e1b8b765876a44d1cf72e96c052f55">prev_target</a>) &amp;&amp; !<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#afdeaaa9db67dd4b7fa4e2d76bcc325e4">target_rate</a>)))</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>               &amp;&amp; <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aba5f7b550c0e0b31fef7e3009f12b1b8">new_target</a> &amp;&amp; now &gt; <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a5cda4f23fd974d1825491d5d52ac8334">new_tgt_time_ms</a> &amp;&amp; <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a17de47d9e02f2bac8aad34e3643d2041">max_target_cnt</a> &gt; 0) {</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aba5f7b550c0e0b31fef7e3009f12b1b8">new_target</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a5cda4f23fd974d1825491d5d52ac8334">new_tgt_time_ms</a> = now + half_cycle_time_ms;</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aec89800c742c9eeb6eaeba11357b4233">min_target_cnt</a>++;</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a6d553fcf8fcae1477cf6867568c3371b">temp_max_target</a> = <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a4c03fe11c8386ab014a0d73c1613d223">max_target</a>;</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a28aa26ab8bd91aa22a39507d31639cb3">min_target</a> = 0.0f;</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    }</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span> </div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    <span class="comment">// Indicates when the measured value (output) is positive or negative half of the cycle to notify when the max or min should be sought</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <span class="keywordflow">if</span> (((<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a34c6a9eed9fce8304673f920c30b54bf">response</a> == <a class="code hl_enumvalue" href="classAC__AutoTune__FreqResp.html#a0d1acba5aebd47580bb3e959c962b751aedaeabcf681c6e1f4c5932e46825d3b1">ANGLE</a> &amp;&amp; <a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ad026de4e6a064ee27c87349224aca202">prev_meas</a>) &amp;&amp; !<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a71226921f1175d5c48d5395a705efb40">measured_rate</a>))</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>         || (<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a34c6a9eed9fce8304673f920c30b54bf">response</a> == <a class="code hl_enumvalue" href="classAC__AutoTune__FreqResp.html#a0d1acba5aebd47580bb3e959c962b751a5305d515dc96c98fb352f7fb7264dd15">RATE</a> &amp;&amp; !<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ad026de4e6a064ee27c87349224aca202">prev_meas</a>) &amp;&amp; <a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a71226921f1175d5c48d5395a705efb40">measured_rate</a>)))</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>         &amp;&amp; !<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ac9b97c586f3b1d7c4480719f825ebbe8">new_meas</a> &amp;&amp; now &gt; <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a5c81e565fcd6617e6f4c0740fc2bae93">new_meas_time_ms</a> &amp;&amp; <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a17de47d9e02f2bac8aad34e3643d2041">max_target_cnt</a> &gt; 0) {</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ac9b97c586f3b1d7c4480719f825ebbe8">new_meas</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a5c81e565fcd6617e6f4c0740fc2bae93">new_meas_time_ms</a> = now + half_cycle_time_ms;</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>        <span class="comment">// reset max_meas</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aa23e689c9b431afa5455267191381fb8">max_meas</a> = 0.0f;</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a667edee0fc79ace614dbee6df5e3132e">max_meas_cnt</a>++;</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ab2669885d05f397e55bcf85e0b4e96ca">temp_min_meas</a> = <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a729459925795a1436cafbfeec9f5f9b1">min_meas</a>;</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aa65f032bb720d7cc18c44e0dc81bec80">min_meas_cnt</a> &gt; 0 &amp;&amp; <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aec89800c742c9eeb6eaeba11357b4233">min_target_cnt</a> &gt; 0) {</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#af579bfb9e83c45fca174f2d9bceddf90">sweep_meas</a>.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1sweep__peak__finding__data.html#a31075805386442bc0894e64ee48004a4">max_time_m1</a> = <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a9e6b88cd69dc2af13da06e47bc46add6">temp_max_meas_time</a>;</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a9e6b88cd69dc2af13da06e47bc46add6">temp_max_meas_time</a> = <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#af172ccbfccaf1ec9223ec2b273e0f7fd">max_meas_time</a>;</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#af579bfb9e83c45fca174f2d9bceddf90">sweep_meas</a>.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1sweep__peak__finding__data.html#a2534463d6175020ba46faa56e90ed17b">count_m1</a> = <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aa65f032bb720d7cc18c44e0dc81bec80">min_meas_cnt</a> - 1;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#af579bfb9e83c45fca174f2d9bceddf90">sweep_meas</a>.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1sweep__peak__finding__data.html#aa18948f49c8dabb5fc2e809240e401fa">amplitude_m1</a> = <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aa82f3080345b60a3055ec0314ce3a7cc">temp_meas_ampl</a>;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aa82f3080345b60a3055ec0314ce3a7cc">temp_meas_ampl</a> = <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a5b081e45e1ac4c87109ecd4f4f35d1d1">temp_max_meas</a> - <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ab2669885d05f397e55bcf85e0b4e96ca">temp_min_meas</a>;</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>            <a class="code hl_function" href="classAC__AutoTune__FreqResp.html#a3916ab240eed642e580f3d19dbd61409">push_to_meas_buffer</a>(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aa65f032bb720d7cc18c44e0dc81bec80">min_meas_cnt</a>,<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aa82f3080345b60a3055ec0314ce3a7cc">temp_meas_ampl</a>,<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a9e6b88cd69dc2af13da06e47bc46add6">temp_max_meas_time</a>);</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span> </div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#acd731d8e6e19364b1e0bff3b036796d1">excitation</a> == <a class="code hl_enumvalue" href="classAC__AutoTune__FreqResp.html#a662f5477c0ba1c84d27f4fe55d94d307a10f69dacf1a3214bb2ad66eebda4458c">SWEEP</a>) {</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>                <span class="keywordtype">float</span> tgt_period = 0.001f * (<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a4d03eb0a1f6a32e62115539779a86046">temp_max_tgt_time</a> - <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a67193a08830b70b64beae0b7853eefc7">sweep_tgt</a>.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1sweep__peak__finding__data.html#a31075805386442bc0894e64ee48004a4">max_time_m1</a>);</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="AP__Math_8h.html#a2a12cce483e9b870da70d30406d82c60">is_zero</a>(tgt_period)) {</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>                    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ae3263ba4b2423393a07c26689a048d17">curr_test_freq</a> = <a class="code hl_define" href="definitions_8h.html#a4aa2c43b09c1300c334821f5507d6f71">M_2PI</a> / tgt_period;</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>                    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ae3263ba4b2423393a07c26689a048d17">curr_test_freq</a> = 0.0f;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>                }</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="AP__Math_8h.html#a2a12cce483e9b870da70d30406d82c60">is_zero</a>(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a67193a08830b70b64beae0b7853eefc7">sweep_tgt</a>.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1sweep__peak__finding__data.html#aa18948f49c8dabb5fc2e809240e401fa">amplitude_m1</a>)) {</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>                    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a761951e3fc9430d3ca0f7eaed10958a6">curr_test_gain</a> = <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#af579bfb9e83c45fca174f2d9bceddf90">sweep_meas</a>.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1sweep__peak__finding__data.html#aa18948f49c8dabb5fc2e809240e401fa">amplitude_m1</a>/<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a67193a08830b70b64beae0b7853eefc7">sweep_tgt</a>.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1sweep__peak__finding__data.html#aa18948f49c8dabb5fc2e809240e401fa">amplitude_m1</a>;</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>                    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a761951e3fc9430d3ca0f7eaed10958a6">curr_test_gain</a> = 0.0f;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>                }</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>                <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a02c4bb56528b69809eedbf7e02cbbf55">curr_test_phase</a> = <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ae3263ba4b2423393a07c26689a048d17">curr_test_freq</a> * (float)(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#af579bfb9e83c45fca174f2d9bceddf90">sweep_meas</a>.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1sweep__peak__finding__data.html#a31075805386442bc0894e64ee48004a4">max_time_m1</a> - <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a67193a08830b70b64beae0b7853eefc7">sweep_tgt</a>.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1sweep__peak__finding__data.html#a31075805386442bc0894e64ee48004a4">max_time_m1</a>) * 0.001f * 360.0f / <a class="code hl_define" href="definitions_8h.html#a4aa2c43b09c1300c334821f5507d6f71">M_2PI</a>;</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>                <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a1dcb19a8af4051cf26c7c5d6c31b4e03">cycle_complete</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>            }</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>        } </div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a34c6a9eed9fce8304673f920c30b54bf">response</a> == <a class="code hl_enumvalue" href="classAC__AutoTune__FreqResp.html#a0d1acba5aebd47580bb3e959c962b751aedaeabcf681c6e1f4c5932e46825d3b1">ANGLE</a> &amp;&amp; !<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ad026de4e6a064ee27c87349224aca202">prev_meas</a>) &amp;&amp; <a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a71226921f1175d5c48d5395a705efb40">measured_rate</a>))</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>                || (<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a34c6a9eed9fce8304673f920c30b54bf">response</a> == <a class="code hl_enumvalue" href="classAC__AutoTune__FreqResp.html#a0d1acba5aebd47580bb3e959c962b751a5305d515dc96c98fb352f7fb7264dd15">RATE</a> &amp;&amp; <a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ad026de4e6a064ee27c87349224aca202">prev_meas</a>) &amp;&amp; !<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a71226921f1175d5c48d5395a705efb40">measured_rate</a>)))</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>                &amp;&amp; <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ac9b97c586f3b1d7c4480719f825ebbe8">new_meas</a> &amp;&amp; now &gt; <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a5c81e565fcd6617e6f4c0740fc2bae93">new_meas_time_ms</a> &amp;&amp; <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a667edee0fc79ace614dbee6df5e3132e">max_meas_cnt</a> &gt; 0) {</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ac9b97c586f3b1d7c4480719f825ebbe8">new_meas</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a5c81e565fcd6617e6f4c0740fc2bae93">new_meas_time_ms</a> = now + half_cycle_time_ms;</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aa65f032bb720d7cc18c44e0dc81bec80">min_meas_cnt</a>++;</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a5b081e45e1ac4c87109ecd4f4f35d1d1">temp_max_meas</a> = <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aa23e689c9b431afa5455267191381fb8">max_meas</a>;</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a729459925795a1436cafbfeec9f5f9b1">min_meas</a> = 0.0f;</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    }</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span> </div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aba5f7b550c0e0b31fef7e3009f12b1b8">new_target</a>) {</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>        <span class="keywordflow">if</span> (tgt_resp &gt; <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a4c03fe11c8386ab014a0d73c1613d223">max_target</a>) {</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a4c03fe11c8386ab014a0d73c1613d223">max_target</a> = tgt_resp;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a25e831bce97c4e052f0dbcdf264f4630">max_tgt_time</a> = now;</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>        }</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>        <span class="keywordflow">if</span> (tgt_resp &lt; <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a28aa26ab8bd91aa22a39507d31639cb3">min_target</a>) {</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a28aa26ab8bd91aa22a39507d31639cb3">min_target</a> = tgt_resp;</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>        }</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    }</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span> </div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ac9b97c586f3b1d7c4480719f825ebbe8">new_meas</a>) {</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>        <span class="keywordflow">if</span> (meas_resp &gt; <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aa23e689c9b431afa5455267191381fb8">max_meas</a>) {</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#aa23e689c9b431afa5455267191381fb8">max_meas</a> = meas_resp;</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#af172ccbfccaf1ec9223ec2b273e0f7fd">max_meas_time</a> = now;</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>        }</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>        <span class="keywordflow">if</span> (meas_resp &lt; <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a729459925795a1436cafbfeec9f5f9b1">min_meas</a>) {</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>            <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a729459925795a1436cafbfeec9f5f9b1">min_meas</a> = meas_resp;</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>        }</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    }</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span> </div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a34c6a9eed9fce8304673f920c30b54bf">response</a> == <a class="code hl_enumvalue" href="classAC__AutoTune__FreqResp.html#a0d1acba5aebd47580bb3e959c962b751aedaeabcf681c6e1f4c5932e46825d3b1">ANGLE</a>) {</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>        <span class="keywordflow">if</span> (now &gt; (uint32_t)(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a785c529c9087a402965b3d7422b98451">input_start_time_ms</a> + 7.0f * cycle_time_ms) &amp;&amp; now &lt; (uint32_t)(<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a785c529c9087a402965b3d7422b98451">input_start_time_ms</a> + 9.0f * cycle_time_ms)) {</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a71226921f1175d5c48d5395a705efb40">measured_rate</a> &gt; <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#abe9bf4f053a61aacd2b0d363e7127028">max_meas_rate</a>) {</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>                <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#abe9bf4f053a61aacd2b0d363e7127028">max_meas_rate</a> = <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a71226921f1175d5c48d5395a705efb40">measured_rate</a>;</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>            }</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>            <span class="keywordflow">if</span> (command &gt; <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a6b2174ef82dea19f3113931d31b85d15">max_command</a>) {</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>                <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a6b2174ef82dea19f3113931d31b85d15">max_command</a> = command;</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>            }</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>        }</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#afee43f6efdf2406e1eb9e476afec4630">prev_tgt_resp</a> = tgt_resp;</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a3c7234791c7f1f2427eea03b01e1f6d1">prev_meas_resp</a> = meas_resp;</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    }</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span> </div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ae8e1b8b765876a44d1cf72e96c052f55">prev_target</a> = <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#afdeaaa9db67dd4b7fa4e2d76bcc325e4">target_rate</a>;</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#ad026de4e6a064ee27c87349224aca202">prev_meas</a> = <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a71226921f1175d5c48d5395a705efb40">measured_rate</a>;</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>}</div>
</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span> </div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span><span class="comment">// push measured peak info to buffer</span></div>
<div class="foldopen" id="foldopen00255" data-start="{" data-end="}">
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno"><a class="line" href="classAC__AutoTune__FreqResp.html#a3916ab240eed642e580f3d19dbd61409">  255</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__FreqResp.html#a3916ab240eed642e580f3d19dbd61409">AC_AutoTune_FreqResp::push_to_meas_buffer</a>(uint16_t <a class="code hl_variable" href="test__expandingstring__failure_8cpp.html#a86988a65e0d3ece7990c032c159786d6">count</a>, <span class="keywordtype">float</span> amplitude, uint32_t time_ms)</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>{</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    <a class="code hl_struct" href="structAC__AutoTune__FreqResp_1_1peak__info.html">peak_info</a> sample;</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    sample.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1peak__info.html#a5279d7e4a63f22c8febcd69ef953b2dc">curr_count</a> = <a class="code hl_variable" href="test__expandingstring__failure_8cpp.html#a86988a65e0d3ece7990c032c159786d6">count</a>;</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    sample.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1peak__info.html#abcef0de76bf103f4c4cff163db3d326a">amplitude</a> = amplitude;</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    sample.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1peak__info.html#af3f73903e404b6c12bdebb5007701424">time_ms</a> = time_ms;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#acb8620b68d0247ceb37ccfc1c8ee0d9e">meas_peak_info_buffer</a>.push(sample);</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>}</div>
</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span> </div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span><span class="comment">// pull measured peak info from buffer</span></div>
<div class="foldopen" id="foldopen00265" data-start="{" data-end="}">
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno"><a class="line" href="classAC__AutoTune__FreqResp.html#ad7251fa21170891444e04d1f428436df">  265</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__FreqResp.html#ad7251fa21170891444e04d1f428436df">AC_AutoTune_FreqResp::pull_from_meas_buffer</a>(uint16_t &amp;<a class="code hl_variable" href="test__expandingstring__failure_8cpp.html#a86988a65e0d3ece7990c032c159786d6">count</a>, <span class="keywordtype">float</span> &amp;amplitude, uint32_t &amp;time_ms)</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>{</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>    <a class="code hl_struct" href="structAC__AutoTune__FreqResp_1_1peak__info.html">peak_info</a> sample;</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#acb8620b68d0247ceb37ccfc1c8ee0d9e">meas_peak_info_buffer</a>.pop(sample)) {</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>        <span class="comment">// no sample</span></div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>    }</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    <a class="code hl_variable" href="test__expandingstring__failure_8cpp.html#a86988a65e0d3ece7990c032c159786d6">count</a> = sample.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1peak__info.html#a5279d7e4a63f22c8febcd69ef953b2dc">curr_count</a>;</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    amplitude = sample.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1peak__info.html#abcef0de76bf103f4c4cff163db3d326a">amplitude</a>;</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    time_ms = sample.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1peak__info.html#af3f73903e404b6c12bdebb5007701424">time_ms</a>;</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>}</div>
</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span> </div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span><span class="comment">// push target peak info to buffer</span></div>
<div class="foldopen" id="foldopen00278" data-start="{" data-end="}">
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno"><a class="line" href="classAC__AutoTune__FreqResp.html#a20228f3af735d794e08bb7298dcc9de5">  278</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__FreqResp.html#a20228f3af735d794e08bb7298dcc9de5">AC_AutoTune_FreqResp::push_to_tgt_buffer</a>(uint16_t <a class="code hl_variable" href="test__expandingstring__failure_8cpp.html#a86988a65e0d3ece7990c032c159786d6">count</a>, <span class="keywordtype">float</span> amplitude, uint32_t time_ms)</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>{</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    <a class="code hl_struct" href="structAC__AutoTune__FreqResp_1_1peak__info.html">peak_info</a> sample;</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    sample.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1peak__info.html#a5279d7e4a63f22c8febcd69ef953b2dc">curr_count</a> = <a class="code hl_variable" href="test__expandingstring__failure_8cpp.html#a86988a65e0d3ece7990c032c159786d6">count</a>;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    sample.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1peak__info.html#abcef0de76bf103f4c4cff163db3d326a">amplitude</a> = amplitude;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    sample.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1peak__info.html#af3f73903e404b6c12bdebb5007701424">time_ms</a> = time_ms;</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>    <a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a4ba3d5fc93a43baaa00178769044b735">tgt_peak_info_buffer</a>.push(sample);</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span> </div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>}</div>
</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span><span class="comment">// pull target peak info from buffer</span></div>
<div class="foldopen" id="foldopen00289" data-start="{" data-end="}">
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno"><a class="line" href="classAC__AutoTune__FreqResp.html#aa7d5a0a97fee501aa1fcd4e49312d2b7">  289</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAC__AutoTune__FreqResp.html#aa7d5a0a97fee501aa1fcd4e49312d2b7">AC_AutoTune_FreqResp::pull_from_tgt_buffer</a>(uint16_t &amp;<a class="code hl_variable" href="test__expandingstring__failure_8cpp.html#a86988a65e0d3ece7990c032c159786d6">count</a>, <span class="keywordtype">float</span> &amp;amplitude, uint32_t &amp;time_ms)</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>{</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>    <a class="code hl_struct" href="structAC__AutoTune__FreqResp_1_1peak__info.html">peak_info</a> sample;</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classAC__AutoTune__FreqResp.html#a4ba3d5fc93a43baaa00178769044b735">tgt_peak_info_buffer</a>.pop(sample)) {</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>        <span class="comment">// no sample</span></div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    }</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    <a class="code hl_variable" href="test__expandingstring__failure_8cpp.html#a86988a65e0d3ece7990c032c159786d6">count</a> = sample.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1peak__info.html#a5279d7e4a63f22c8febcd69ef953b2dc">curr_count</a>;</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>    amplitude = sample.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1peak__info.html#abcef0de76bf103f4c4cff163db3d326a">amplitude</a>;</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>    time_ms = sample.<a class="code hl_variable" href="structAC__AutoTune__FreqResp_1_1peak__info.html#af3f73903e404b6c12bdebb5007701424">time_ms</a>;</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>}</div>
</div>
<div class="ttc" id="aAC__AutoTune__FreqResp_8h_html"><div class="ttname"><a href="AC__AutoTune__FreqResp_8h.html">AC_AutoTune_FreqResp.h</a></div></div>
<div class="ttc" id="aAC__AutoTune__FreqResp_8h_html_a8566a41a5eba54860c1d1e69299481cf"><div class="ttname"><a href="AC__AutoTune__FreqResp_8h.html#a8566a41a5eba54860c1d1e69299481cf">AUTOTUNE_DWELL_CYCLES</a></div><div class="ttdeci">#define AUTOTUNE_DWELL_CYCLES</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00009">AC_AutoTune_FreqResp.h:9</a></div></div>
<div class="ttc" id="aAP__HAL_8h_html"><div class="ttname"><a href="AP__HAL_8h.html">AP_HAL.h</a></div></div>
<div class="ttc" id="aAP__Math_8h_html_a2a12cce483e9b870da70d30406d82c60"><div class="ttname"><a href="AP__Math_8h.html#a2a12cce483e9b870da70d30406d82c60">is_zero</a></div><div class="ttdeci">bool is_zero(const T fVal1)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00053">AP_Math.h:53</a></div></div>
<div class="ttc" id="aAP__Math_8h_html_a4e3ae698e8f99cec214348ad233e3c41"><div class="ttname"><a href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a></div><div class="ttdeci">bool is_positive(const T fVal1)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00063">AP_Math.h:63</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a02c4bb56528b69809eedbf7e02cbbf55"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a02c4bb56528b69809eedbf7e02cbbf55">AC_AutoTune_FreqResp::curr_test_phase</a></div><div class="ttdeci">float curr_test_phase</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00143">AC_AutoTune_FreqResp.h:143</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a0d1acba5aebd47580bb3e959c962b751"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a0d1acba5aebd47580bb3e959c962b751">AC_AutoTune_FreqResp::ResponseType</a></div><div class="ttdeci">ResponseType</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00025">AC_AutoTune_FreqResp.h:25</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a0d1acba5aebd47580bb3e959c962b751a5305d515dc96c98fb352f7fb7264dd15"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a0d1acba5aebd47580bb3e959c962b751a5305d515dc96c98fb352f7fb7264dd15">AC_AutoTune_FreqResp::RATE</a></div><div class="ttdeci">@ RATE</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00026">AC_AutoTune_FreqResp.h:26</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a0d1acba5aebd47580bb3e959c962b751aedaeabcf681c6e1f4c5932e46825d3b1"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a0d1acba5aebd47580bb3e959c962b751aedaeabcf681c6e1f4c5932e46825d3b1">AC_AutoTune_FreqResp::ANGLE</a></div><div class="ttdeci">@ ANGLE</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00027">AC_AutoTune_FreqResp.h:27</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a17de47d9e02f2bac8aad34e3643d2041"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a17de47d9e02f2bac8aad34e3643d2041">AC_AutoTune_FreqResp::max_target_cnt</a></div><div class="ttdeci">uint16_t max_target_cnt</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00063">AC_AutoTune_FreqResp.h:63</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a1dcb19a8af4051cf26c7c5d6c31b4e03"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a1dcb19a8af4051cf26c7c5d6c31b4e03">AC_AutoTune_FreqResp::cycle_complete</a></div><div class="ttdeci">bool cycle_complete</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00138">AC_AutoTune_FreqResp.h:138</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a20228f3af735d794e08bb7298dcc9de5"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a20228f3af735d794e08bb7298dcc9de5">AC_AutoTune_FreqResp::push_to_tgt_buffer</a></div><div class="ttdeci">void push_to_tgt_buffer(uint16_t count, float amplitude, uint32_t time_ms)</div><div class="ttdef"><b>Definition</b> <a href="#l00278">AC_AutoTune_FreqResp.cpp:278</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a2486cef8dc587d3160d0c5aaee54e64b"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a2486cef8dc587d3160d0c5aaee54e64b">AC_AutoTune_FreqResp::temp_min_target</a></div><div class="ttdeci">float temp_min_target</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00078">AC_AutoTune_FreqResp.h:78</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a25e831bce97c4e052f0dbcdf264f4630"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a25e831bce97c4e052f0dbcdf264f4630">AC_AutoTune_FreqResp::max_tgt_time</a></div><div class="ttdeci">uint32_t max_tgt_time</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00060">AC_AutoTune_FreqResp.h:60</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a28aa26ab8bd91aa22a39507d31639cb3"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a28aa26ab8bd91aa22a39507d31639cb3">AC_AutoTune_FreqResp::min_target</a></div><div class="ttdeci">float min_target</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00072">AC_AutoTune_FreqResp.h:72</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a34c6a9eed9fce8304673f920c30b54bf"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a34c6a9eed9fce8304673f920c30b54bf">AC_AutoTune_FreqResp::response</a></div><div class="ttdeci">ResponseType response</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00158">AC_AutoTune_FreqResp.h:158</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a3916ab240eed642e580f3d19dbd61409"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a3916ab240eed642e580f3d19dbd61409">AC_AutoTune_FreqResp::push_to_meas_buffer</a></div><div class="ttdeci">void push_to_meas_buffer(uint16_t count, float amplitude, uint32_t time_ms)</div><div class="ttdef"><b>Definition</b> <a href="#l00255">AC_AutoTune_FreqResp.cpp:255</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a3c7234791c7f1f2427eea03b01e1f6d1"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a3c7234791c7f1f2427eea03b01e1f6d1">AC_AutoTune_FreqResp::prev_meas_resp</a></div><div class="ttdeci">float prev_meas_resp</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00123">AC_AutoTune_FreqResp.h:123</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a4ba3d5fc93a43baaa00178769044b735"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a4ba3d5fc93a43baaa00178769044b735">AC_AutoTune_FreqResp::tgt_peak_info_buffer</a></div><div class="ttdeci">ObjectBuffer&lt; peak_info &gt; tgt_peak_info_buffer</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00185">AC_AutoTune_FreqResp.h:185</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a4c03fe11c8386ab014a0d73c1613d223"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a4c03fe11c8386ab014a0d73c1613d223">AC_AutoTune_FreqResp::max_target</a></div><div class="ttdeci">float max_target</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00057">AC_AutoTune_FreqResp.h:57</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a4d03eb0a1f6a32e62115539779a86046"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a4d03eb0a1f6a32e62115539779a86046">AC_AutoTune_FreqResp::temp_max_tgt_time</a></div><div class="ttdeci">uint32_t temp_max_tgt_time</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00069">AC_AutoTune_FreqResp.h:69</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a5b081e45e1ac4c87109ecd4f4f35d1d1"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a5b081e45e1ac4c87109ecd4f4f35d1d1">AC_AutoTune_FreqResp::temp_max_meas</a></div><div class="ttdeci">float temp_max_meas</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00105">AC_AutoTune_FreqResp.h:105</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a5c81e565fcd6617e6f4c0740fc2bae93"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a5c81e565fcd6617e6f4c0740fc2bae93">AC_AutoTune_FreqResp::new_meas_time_ms</a></div><div class="ttdeci">uint32_t new_meas_time_ms</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00090">AC_AutoTune_FreqResp.h:90</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a5cda4f23fd974d1825491d5d52ac8334"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a5cda4f23fd974d1825491d5d52ac8334">AC_AutoTune_FreqResp::new_tgt_time_ms</a></div><div class="ttdeci">uint32_t new_tgt_time_ms</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00051">AC_AutoTune_FreqResp.h:51</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a605b46fdcd6bdeb9d9042b832f5cb037"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a605b46fdcd6bdeb9d9042b832f5cb037">AC_AutoTune_FreqResp::init</a></div><div class="ttdeci">void init(InputType input_type, ResponseType response_type)</div><div class="ttdef"><b>Definition</b> <a href="#l00009">AC_AutoTune_FreqResp.cpp:9</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a662f5477c0ba1c84d27f4fe55d94d307"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a662f5477c0ba1c84d27f4fe55d94d307">AC_AutoTune_FreqResp::InputType</a></div><div class="ttdeci">InputType</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00019">AC_AutoTune_FreqResp.h:19</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a662f5477c0ba1c84d27f4fe55d94d307a10f69dacf1a3214bb2ad66eebda4458c"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a662f5477c0ba1c84d27f4fe55d94d307a10f69dacf1a3214bb2ad66eebda4458c">AC_AutoTune_FreqResp::SWEEP</a></div><div class="ttdeci">@ SWEEP</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00021">AC_AutoTune_FreqResp.h:21</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a662f5477c0ba1c84d27f4fe55d94d307a245199b7189ce03119b6d1bde5921419"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a662f5477c0ba1c84d27f4fe55d94d307a245199b7189ce03119b6d1bde5921419">AC_AutoTune_FreqResp::DWELL</a></div><div class="ttdeci">@ DWELL</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00020">AC_AutoTune_FreqResp.h:20</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a667edee0fc79ace614dbee6df5e3132e"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a667edee0fc79ace614dbee6df5e3132e">AC_AutoTune_FreqResp::max_meas_cnt</a></div><div class="ttdeci">uint16_t max_meas_cnt</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00102">AC_AutoTune_FreqResp.h:102</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a67193a08830b70b64beae0b7853eefc7"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a67193a08830b70b64beae0b7853eefc7">AC_AutoTune_FreqResp::sweep_tgt</a></div><div class="ttdeci">sweep_peak_finding_data sweep_tgt</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00171">AC_AutoTune_FreqResp.h:171</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a674389c026b975adb0967bbe26777533"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a674389c026b975adb0967bbe26777533">AC_AutoTune_FreqResp::temp_tgt_ampl</a></div><div class="ttdeci">float temp_tgt_ampl</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00087">AC_AutoTune_FreqResp.h:87</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a68603a35134d6216679858e3a2c05748"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a68603a35134d6216679858e3a2c05748">AC_AutoTune_FreqResp::update</a></div><div class="ttdeci">void update(float command, float tgt_resp, float meas_resp, float tgt_freq)</div><div class="ttdef"><b>Definition</b> <a href="#l00038">AC_AutoTune_FreqResp.cpp:38</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a6b2174ef82dea19f3113931d31b85d15"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a6b2174ef82dea19f3113931d31b85d15">AC_AutoTune_FreqResp::max_command</a></div><div class="ttdeci">float max_command</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00149">AC_AutoTune_FreqResp.h:149</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a6d553fcf8fcae1477cf6867568c3371b"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a6d553fcf8fcae1477cf6867568c3371b">AC_AutoTune_FreqResp::temp_max_target</a></div><div class="ttdeci">float temp_max_target</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00066">AC_AutoTune_FreqResp.h:66</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a71226921f1175d5c48d5395a705efb40"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a71226921f1175d5c48d5395a705efb40">AC_AutoTune_FreqResp::measured_rate</a></div><div class="ttdeci">float measured_rate</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00132">AC_AutoTune_FreqResp.h:132</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a729459925795a1436cafbfeec9f5f9b1"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a729459925795a1436cafbfeec9f5f9b1">AC_AutoTune_FreqResp::min_meas</a></div><div class="ttdeci">float min_meas</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00111">AC_AutoTune_FreqResp.h:111</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a761951e3fc9430d3ca0f7eaed10958a6"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a761951e3fc9430d3ca0f7eaed10958a6">AC_AutoTune_FreqResp::curr_test_gain</a></div><div class="ttdeci">float curr_test_gain</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00142">AC_AutoTune_FreqResp.h:142</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a785c529c9087a402965b3d7422b98451"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a785c529c9087a402965b3d7422b98451">AC_AutoTune_FreqResp::input_start_time_ms</a></div><div class="ttdeci">uint32_t input_start_time_ms</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00135">AC_AutoTune_FreqResp.h:135</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_a9e6b88cd69dc2af13da06e47bc46add6"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#a9e6b88cd69dc2af13da06e47bc46add6">AC_AutoTune_FreqResp::temp_max_meas_time</a></div><div class="ttdeci">uint32_t temp_max_meas_time</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00108">AC_AutoTune_FreqResp.h:108</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_aa23e689c9b431afa5455267191381fb8"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#aa23e689c9b431afa5455267191381fb8">AC_AutoTune_FreqResp::max_meas</a></div><div class="ttdeci">float max_meas</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00096">AC_AutoTune_FreqResp.h:96</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_aa65f032bb720d7cc18c44e0dc81bec80"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#aa65f032bb720d7cc18c44e0dc81bec80">AC_AutoTune_FreqResp::min_meas_cnt</a></div><div class="ttdeci">uint16_t min_meas_cnt</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00114">AC_AutoTune_FreqResp.h:114</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_aa7d5a0a97fee501aa1fcd4e49312d2b7"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#aa7d5a0a97fee501aa1fcd4e49312d2b7">AC_AutoTune_FreqResp::pull_from_tgt_buffer</a></div><div class="ttdeci">void pull_from_tgt_buffer(uint16_t &amp;count, float &amp;amplitude, uint32_t &amp;time_ms)</div><div class="ttdef"><b>Definition</b> <a href="#l00289">AC_AutoTune_FreqResp.cpp:289</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_aa82f3080345b60a3055ec0314ce3a7cc"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#aa82f3080345b60a3055ec0314ce3a7cc">AC_AutoTune_FreqResp::temp_meas_ampl</a></div><div class="ttdeci">float temp_meas_ampl</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00126">AC_AutoTune_FreqResp.h:126</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_ab2669885d05f397e55bcf85e0b4e96ca"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#ab2669885d05f397e55bcf85e0b4e96ca">AC_AutoTune_FreqResp::temp_min_meas</a></div><div class="ttdeci">float temp_min_meas</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00117">AC_AutoTune_FreqResp.h:117</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_aba5f7b550c0e0b31fef7e3009f12b1b8"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#aba5f7b550c0e0b31fef7e3009f12b1b8">AC_AutoTune_FreqResp::new_target</a></div><div class="ttdeci">bool new_target</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00054">AC_AutoTune_FreqResp.h:54</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_abe9bf4f053a61aacd2b0d363e7127028"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#abe9bf4f053a61aacd2b0d363e7127028">AC_AutoTune_FreqResp::max_meas_rate</a></div><div class="ttdeci">float max_meas_rate</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00146">AC_AutoTune_FreqResp.h:146</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_ac9b97c586f3b1d7c4480719f825ebbe8"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#ac9b97c586f3b1d7c4480719f825ebbe8">AC_AutoTune_FreqResp::new_meas</a></div><div class="ttdeci">bool new_meas</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00093">AC_AutoTune_FreqResp.h:93</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_acb8620b68d0247ceb37ccfc1c8ee0d9e"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#acb8620b68d0247ceb37ccfc1c8ee0d9e">AC_AutoTune_FreqResp::meas_peak_info_buffer</a></div><div class="ttdeci">ObjectBuffer&lt; peak_info &gt; meas_peak_info_buffer</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00182">AC_AutoTune_FreqResp.h:182</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_acd731d8e6e19364b1e0bff3b036796d1"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#acd731d8e6e19364b1e0bff3b036796d1">AC_AutoTune_FreqResp::excitation</a></div><div class="ttdeci">InputType excitation</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00155">AC_AutoTune_FreqResp.h:155</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_ad026de4e6a064ee27c87349224aca202"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#ad026de4e6a064ee27c87349224aca202">AC_AutoTune_FreqResp::prev_meas</a></div><div class="ttdeci">float prev_meas</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00120">AC_AutoTune_FreqResp.h:120</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_ad7251fa21170891444e04d1f428436df"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#ad7251fa21170891444e04d1f428436df">AC_AutoTune_FreqResp::pull_from_meas_buffer</a></div><div class="ttdeci">void pull_from_meas_buffer(uint16_t &amp;count, float &amp;amplitude, uint32_t &amp;time_ms)</div><div class="ttdef"><b>Definition</b> <a href="#l00265">AC_AutoTune_FreqResp.cpp:265</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_ae2315fa2b5510a1f7d786f22d0f85365"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#ae2315fa2b5510a1f7d786f22d0f85365">AC_AutoTune_FreqResp::max_accel</a></div><div class="ttdeci">float max_accel</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00152">AC_AutoTune_FreqResp.h:152</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_ae3263ba4b2423393a07c26689a048d17"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#ae3263ba4b2423393a07c26689a048d17">AC_AutoTune_FreqResp::curr_test_freq</a></div><div class="ttdeci">float curr_test_freq</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00141">AC_AutoTune_FreqResp.h:141</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_ae8e1b8b765876a44d1cf72e96c052f55"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#ae8e1b8b765876a44d1cf72e96c052f55">AC_AutoTune_FreqResp::prev_target</a></div><div class="ttdeci">float prev_target</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00081">AC_AutoTune_FreqResp.h:81</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_aec89800c742c9eeb6eaeba11357b4233"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#aec89800c742c9eeb6eaeba11357b4233">AC_AutoTune_FreqResp::min_target_cnt</a></div><div class="ttdeci">uint16_t min_target_cnt</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00075">AC_AutoTune_FreqResp.h:75</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_af172ccbfccaf1ec9223ec2b273e0f7fd"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#af172ccbfccaf1ec9223ec2b273e0f7fd">AC_AutoTune_FreqResp::max_meas_time</a></div><div class="ttdeci">uint32_t max_meas_time</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00099">AC_AutoTune_FreqResp.h:99</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_af579bfb9e83c45fca174f2d9bceddf90"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#af579bfb9e83c45fca174f2d9bceddf90">AC_AutoTune_FreqResp::sweep_meas</a></div><div class="ttdeci">sweep_peak_finding_data sweep_meas</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00168">AC_AutoTune_FreqResp.h:168</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_afdeaaa9db67dd4b7fa4e2d76bcc325e4"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#afdeaaa9db67dd4b7fa4e2d76bcc325e4">AC_AutoTune_FreqResp::target_rate</a></div><div class="ttdeci">float target_rate</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00129">AC_AutoTune_FreqResp.h:129</a></div></div>
<div class="ttc" id="aclassAC__AutoTune__FreqResp_html_afee43f6efdf2406e1eb9e476afec4630"><div class="ttname"><a href="classAC__AutoTune__FreqResp.html#afee43f6efdf2406e1eb9e476afec4630">AC_AutoTune_FreqResp::prev_tgt_resp</a></div><div class="ttdeci">float prev_tgt_resp</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00084">AC_AutoTune_FreqResp.h:84</a></div></div>
<div class="ttc" id="adefinitions_8h_html_a4aa2c43b09c1300c334821f5507d6f71"><div class="ttname"><a href="definitions_8h.html#a4aa2c43b09c1300c334821f5507d6f71">M_2PI</a></div><div class="ttdeci">#define M_2PI</div><div class="ttdef"><b>Definition</b> <a href="definitions_8h_source.html#l00019">definitions.h:19</a></div></div>
<div class="ttc" id="anamespaceAP__HAL_html_a77dffbb18891996280308e21316ec186"><div class="ttname"><a href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a></div><div class="ttdeci">uint32_t millis()</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL__ChibiOS_2system_8cpp_source.html#l00377">system.cpp:377</a></div></div>
<div class="ttc" id="astructAC__AutoTune__FreqResp_1_1peak__info_html"><div class="ttname"><a href="structAC__AutoTune__FreqResp_1_1peak__info.html">AC_AutoTune_FreqResp::peak_info</a></div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00174">AC_AutoTune_FreqResp.h:174</a></div></div>
<div class="ttc" id="astructAC__AutoTune__FreqResp_1_1peak__info_html_a5279d7e4a63f22c8febcd69ef953b2dc"><div class="ttname"><a href="structAC__AutoTune__FreqResp_1_1peak__info.html#a5279d7e4a63f22c8febcd69ef953b2dc">AC_AutoTune_FreqResp::peak_info::curr_count</a></div><div class="ttdeci">uint16_t curr_count</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00175">AC_AutoTune_FreqResp.h:175</a></div></div>
<div class="ttc" id="astructAC__AutoTune__FreqResp_1_1peak__info_html_abcef0de76bf103f4c4cff163db3d326a"><div class="ttname"><a href="structAC__AutoTune__FreqResp_1_1peak__info.html#abcef0de76bf103f4c4cff163db3d326a">AC_AutoTune_FreqResp::peak_info::amplitude</a></div><div class="ttdeci">float amplitude</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00176">AC_AutoTune_FreqResp.h:176</a></div></div>
<div class="ttc" id="astructAC__AutoTune__FreqResp_1_1peak__info_html_af3f73903e404b6c12bdebb5007701424"><div class="ttname"><a href="structAC__AutoTune__FreqResp_1_1peak__info.html#af3f73903e404b6c12bdebb5007701424">AC_AutoTune_FreqResp::peak_info::time_ms</a></div><div class="ttdeci">uint32_t time_ms</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00177">AC_AutoTune_FreqResp.h:177</a></div></div>
<div class="ttc" id="astructAC__AutoTune__FreqResp_1_1sweep__peak__finding__data_html_a2534463d6175020ba46faa56e90ed17b"><div class="ttname"><a href="structAC__AutoTune__FreqResp_1_1sweep__peak__finding__data.html#a2534463d6175020ba46faa56e90ed17b">AC_AutoTune_FreqResp::sweep_peak_finding_data::count_m1</a></div><div class="ttdeci">uint16_t count_m1</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00162">AC_AutoTune_FreqResp.h:162</a></div></div>
<div class="ttc" id="astructAC__AutoTune__FreqResp_1_1sweep__peak__finding__data_html_a31075805386442bc0894e64ee48004a4"><div class="ttname"><a href="structAC__AutoTune__FreqResp_1_1sweep__peak__finding__data.html#a31075805386442bc0894e64ee48004a4">AC_AutoTune_FreqResp::sweep_peak_finding_data::max_time_m1</a></div><div class="ttdeci">float max_time_m1</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00164">AC_AutoTune_FreqResp.h:164</a></div></div>
<div class="ttc" id="astructAC__AutoTune__FreqResp_1_1sweep__peak__finding__data_html_aa18948f49c8dabb5fc2e809240e401fa"><div class="ttname"><a href="structAC__AutoTune__FreqResp_1_1sweep__peak__finding__data.html#aa18948f49c8dabb5fc2e809240e401fa">AC_AutoTune_FreqResp::sweep_peak_finding_data::amplitude_m1</a></div><div class="ttdeci">float amplitude_m1</div><div class="ttdef"><b>Definition</b> <a href="AC__AutoTune__FreqResp_8h_source.html#l00163">AC_AutoTune_FreqResp.h:163</a></div></div>
<div class="ttc" id="atest__expandingstring__failure_8cpp_html_a86988a65e0d3ece7990c032c159786d6"><div class="ttname"><a href="test__expandingstring__failure_8cpp.html#a86988a65e0d3ece7990c032c159786d6">count</a></div><div class="ttdeci">static uint32_t count</div><div class="ttdef"><b>Definition</b> <a href="test__expandingstring__failure_8cpp_source.html#l00012">test_expandingstring_failure.cpp:12</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 22 2024 16:14:13 for APM:Libraries by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
