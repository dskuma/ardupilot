<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>APM:Libraries: libraries/AP_WindVane/AP_WindVane.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">APM:Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_d042a8d8e57d50fd0fd500efb5685156.html">AP_WindVane</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">AP_WindVane.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="AP__WindVane_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">   This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">   it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">   the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">   (at your option) any later version.</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"></span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">   This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">   GNU General Public License for more details.</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment"></span> </div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">   You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">   along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"> */</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="AP__WindVane__config_8h.html">AP_WindVane_config.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span> </div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#if AP_WINDVANE_ENABLED</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span> </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="AP__WindVane_8h.html">AP_WindVane.h</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span> </div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="AP__WindVane__Home_8h.html">AP_WindVane_Home.h</a>&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="AP__WindVane__Analog_8h.html">AP_WindVane_Analog.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;<a class="code" href="AP__WindVane__ModernDevice_8h.html">AP_WindVane_ModernDevice.h</a>&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="AP__WindVane__Airspeed_8h.html">AP_WindVane_Airspeed.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;<a class="code" href="AP__WindVane__RPM_8h.html">AP_WindVane_RPM.h</a>&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="AP__WindVane__SITL_8h.html">AP_WindVane_SITL.h</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="AP__WindVane__NMEA_8h.html">AP_WindVane_NMEA.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span> </div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &lt;<a class="code" href="GCS_8h.html">GCS_MAVLink/GCS.h</a>&gt;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &lt;<a class="code" href="AP__AHRS_8h.html">AP_AHRS/AP_AHRS.h</a>&gt;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &lt;<a class="code" href="AP__HAL_8h.html">AP_HAL/AP_HAL.h</a>&gt;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &lt;<a class="code" href="AP__Logger_8h.html">AP_Logger/AP_Logger.h</a>&gt;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &lt;<a class="code" href="AP__SerialManager_8h.html">AP_SerialManager/AP_SerialManager.h</a>&gt;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="keyword">extern</span> <span class="keyword">const</span> <a class="code hl_class" href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a>&amp; <a class="code hl_variable" href="AP__WindVane_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>;</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="keyword">const</span> <a class="code hl_struct" href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a> <a class="code hl_variable" href="classAP__WindVane.html#a7fe5da9d9a94378622fed263f2da65da">AP_WindVane::var_info</a>[] = {</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span> </div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    <span class="comment">// @Param: TYPE</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    <span class="comment">// @DisplayName: Wind Vane Type</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    <span class="comment">// @Description: Wind Vane type</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>    <span class="comment">// @Values: 0:None,1:Heading when armed,2:RC input offset heading when armed,3:Analog,4:NMEA,10:SITL true,11:SITL apparent</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    <span class="comment">// @RebootRequired: True</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    <a class="code hl_define" href="AP__Param_8h.html#ac24e2eb16c2194e975d27e47ddcb7f1c">AP_GROUPINFO_FLAGS</a>(<span class="stringliteral">&quot;TYPE&quot;</span>, 1, <a class="code hl_class" href="classAP__WindVane.html">AP_WindVane</a>, _direction_type, 0, <a class="code hl_define" href="AP__Param_8h.html#ae25c1c7495435989f8be5781c86be078">AP_PARAM_FLAG_ENABLE</a>),</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span> </div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    <span class="comment">// 2 was RC_IN_NO</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span> </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>    <span class="comment">// @Param: DIR_PIN</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    <span class="comment">// @DisplayName: Wind vane analog voltage pin for direction</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    <span class="comment">// @Description: Analog input pin to read as wind vane direction</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    <span class="comment">// @Values: 11:Pixracer,13:Pixhawk ADC4,14:Pixhawk ADC3,15:Pixhawk ADC6/Pixhawk2 ADC,50:AUX1,51:AUX2,52:AUX3,53:AUX4,54:AUX5,55:AUX6,103:Pixhawk SBUS</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;DIR_PIN&quot;</span>, 3, <a class="code hl_class" href="classAP__WindVane.html">AP_WindVane</a>, _dir_analog_pin, <a class="code hl_define" href="AP__WindVane_8h.html#aa87f226b51753f8b59d691d84f0771cb">WINDVANE_DEFAULT_PIN</a>),</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span> </div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    <span class="comment">// @Param: DIR_V_MIN</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    <span class="comment">// @DisplayName: Wind vane voltage minimum</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <span class="comment">// @Description: Minimum voltage supplied by analog wind vane. When using pin 103, the maximum value of the parameter is 3.3V.</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <span class="comment">// @Units: V</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    <span class="comment">// @Range: 0 5.0</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;DIR_V_MIN&quot;</span>, 4, <a class="code hl_class" href="classAP__WindVane.html">AP_WindVane</a>, _dir_analog_volt_min, 0.0f),</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> </div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>    <span class="comment">// @Param: DIR_V_MAX</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <span class="comment">// @DisplayName: Wind vane voltage maximum</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    <span class="comment">// @Description: Maximum voltage supplied by analog wind vane. When using pin 103, the maximum value of the parameter is 3.3V.</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    <span class="comment">// @Units: V</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <span class="comment">// @Range: 0 5.0</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;DIR_V_MAX&quot;</span>, 5, <a class="code hl_class" href="classAP__WindVane.html">AP_WindVane</a>, _dir_analog_volt_max, 3.3f),</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span> </div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    <span class="comment">// @Param: DIR_OFS</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    <span class="comment">// @DisplayName: Wind vane headwind offset</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    <span class="comment">// @Description: Angle offset when analog windvane is indicating a headwind, ie 0 degress relative to vehicle</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>    <span class="comment">// @Units: deg</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    <span class="comment">// @Increment: 1</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    <span class="comment">// @Range: 0 360</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;DIR_OFS&quot;</span>, 6, <a class="code hl_class" href="classAP__WindVane.html">AP_WindVane</a>, _dir_analog_bearing_offset, 0.0f),</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    <span class="comment">// @Param: DIR_FILT</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    <span class="comment">// @DisplayName: apparent Wind vane direction low pass filter frequency</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    <span class="comment">// @Description: apparent Wind vane direction low pass filter frequency, a value of -1 disables filter</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;DIR_FILT&quot;</span>, 7, <a class="code hl_class" href="classAP__WindVane.html">AP_WindVane</a>, _dir_filt_hz, 0.5f),</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span> </div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    <span class="comment">// @Param: CAL</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    <span class="comment">// @DisplayName: Wind vane calibration start</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>    <span class="comment">// @Description: Start wind vane calibration by setting this to 1 or 2</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <span class="comment">// @Values: 0:None, 1:Calibrate direction, 2:Calibrate speed</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;CAL&quot;</span>, 8, <a class="code hl_class" href="classAP__WindVane.html">AP_WindVane</a>, _calibration, 0),</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span> </div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="comment">// @Param: DIR_DZ</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    <span class="comment">// @DisplayName: Wind vane deadzone when using analog sensor</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <span class="comment">// @Description: Wind vane deadzone when using analog sensor</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <span class="comment">// @Units: deg</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <span class="comment">// @Increment: 1</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <span class="comment">// @Range: 0 360</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;DIR_DZ&quot;</span>, 9, <a class="code hl_class" href="classAP__WindVane.html">AP_WindVane</a>, _dir_analog_deadzone, 0),</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span> </div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    <span class="comment">// @Param: SPEED_MIN</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    <span class="comment">// @DisplayName: Wind vane cut off wind speed</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    <span class="comment">// @Description: Wind vane direction will be ignored when apparent wind speeds are below this value (if wind speed sensor is present).  If the apparent wind is consistently below this value the vane will not work</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <span class="comment">// @Units: m/s</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <span class="comment">// @Increment: 0.1</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    <span class="comment">// @Range: 0 5</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;SPEED_MIN&quot;</span>, 10, <a class="code hl_class" href="classAP__WindVane.html">AP_WindVane</a>, _dir_speed_cutoff, 0),</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span> </div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    <span class="comment">// @Param: SPEED_TYPE</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="comment">// @DisplayName: Wind speed sensor Type</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    <span class="comment">// @Description: Wind speed sensor type</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    <span class="comment">// @Values: 0:None,1:Airspeed library,2:Modern Devices Wind Sensor,3:RPM library,4:NMEA,10:SITL true,11:SITL apparent</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    <span class="comment">// @RebootRequired: True</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;SPEED_TYPE&quot;</span>, 11, <a class="code hl_class" href="classAP__WindVane.html">AP_WindVane</a>, _speed_sensor_type,  0),</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span> </div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    <span class="comment">// @Param: SPEED_PIN</span></div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="comment">// @DisplayName: Wind vane speed sensor analog pin</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="comment">// @Description: Wind speed analog speed input pin for Modern Devices Wind Sensor rev. p</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <span class="comment">// @Values: 11:Pixracer,13:Pixhawk ADC4,14:Pixhawk ADC3,15:Pixhawk ADC6/Pixhawk2 ADC,50:AUX1,51:AUX2,52:AUX3,53:AUX4,54:AUX5,55:AUX6,103:Pixhawk SBUS</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;SPEED_PIN&quot;</span>, 12, <a class="code hl_class" href="classAP__WindVane.html">AP_WindVane</a>, _speed_sensor_speed_pin,  <a class="code hl_define" href="AP__WindVane_8h.html#aa54bb5638fc00450b70ee86c1618a17b">WINDSPEED_DEFAULT_SPEED_PIN</a>),</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    <span class="comment">// @Param: TEMP_PIN</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <span class="comment">// @DisplayName: Wind vane speed sensor analog temp pin</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="comment">// @Description: Wind speed sensor analog temp input pin for Modern Devices Wind Sensor rev. p, set to -1 to diasble temp readings</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="comment">// @Values: 11:Pixracer,13:Pixhawk ADC4,14:Pixhawk ADC3,15:Pixhawk ADC6/Pixhawk2 ADC,50:AUX1,51:AUX2,52:AUX3,53:AUX4,54:AUX5,55:AUX6,103:Pixhawk SBUS</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;TEMP_PIN&quot;</span>, 13, <a class="code hl_class" href="classAP__WindVane.html">AP_WindVane</a>, _speed_sensor_temp_pin,  <a class="code hl_define" href="AP__WindVane_8h.html#ad183da7c6b0d8b5eee19cfe12300349c">WINDSPEED_DEFAULT_TEMP_PIN</a>),</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span> </div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <span class="comment">// @Param: SPEED_OFS</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <span class="comment">// @DisplayName: Wind speed sensor analog voltage offset</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <span class="comment">// @Description: Wind sensor analog voltage offset at zero wind speed</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    <span class="comment">// @Units: V</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <span class="comment">// @Increment: 0.01</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <span class="comment">// @Range: 0 3.3</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;SPEED_OFS&quot;</span>, 14, <a class="code hl_class" href="classAP__WindVane.html">AP_WindVane</a>, _speed_sensor_voltage_offset, <a class="code hl_define" href="AP__WindVane_8h.html#ac258ff7a3e6d13ff04d930d680cb8d14">WINDSPEED_DEFAULT_VOLT_OFFSET</a>),</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span> </div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <span class="comment">// @Param: SPEED_FILT</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="comment">// @DisplayName: apparent wind speed low pass filter frequency</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    <span class="comment">// @Description: apparent Wind speed low pass filter frequency, a value of -1 disables filter</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;SPEED_FILT&quot;</span>, 15, <a class="code hl_class" href="classAP__WindVane.html">AP_WindVane</a>, _speed_filt_hz, 0.5f),</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span> </div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    <span class="comment">// @Param: TRUE_FILT</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    <span class="comment">// @DisplayName: True speed and direction low pass filter frequency</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    <span class="comment">// @Description: True speed and direction low pass filter frequency, a value of -1 disables filter</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    <span class="comment">// @Units: Hz</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <span class="comment">// @User: Standard</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    <a class="code hl_define" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;TRUE_FILT&quot;</span>, 16, <a class="code hl_class" href="classAP__WindVane.html">AP_WindVane</a>, _true_filt_hz, 0.05f),</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span> </div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <a class="code hl_define" href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>};</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span> </div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span><span class="comment">// constructor</span></div>
<div class="foldopen" id="foldopen00165" data-start="{" data-end="}">
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno"><a class="line" href="classAP__WindVane.html#aaa76bf3a703e3ca433dbe546c657763d">  165</a></span><a class="code hl_function" href="classAP__WindVane.html#aaa76bf3a703e3ca433dbe546c657763d">AP_WindVane::AP_WindVane</a>()</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>{</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <a class="code hl_function" href="classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a>(<span class="keyword">this</span>, var_info);</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span><span class="preprocessor">#if CONFIG_HAL_BOARD == HAL_BOARD_SITL</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__WindVane.html#ad560e462671bcd766df9341093ecf690">_singleton</a>) {</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>        <a class="code hl_function" href="namespaceAP__HAL.html#a52edeef7d5ffaa365e1229b87c170307">AP_HAL::panic</a>(<span class="stringliteral">&quot;Too many Wind Vane sensors&quot;</span>);</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    }</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <a class="code hl_variable" href="classAP__WindVane.html#ad560e462671bcd766df9341093ecf690">_singleton</a> = <span class="keyword">this</span>;</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>}</div>
</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span> </div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span><span class="comment">/*</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span><span class="comment"> * Get the AP_WindVane singleton</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span><span class="comment"> */</span></div>
<div class="foldopen" id="foldopen00179" data-start="{" data-end="}">
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno"><a class="line" href="classAP__WindVane.html#aecc10d6ca30f2e930621539edc4e89df">  179</a></span><a class="code hl_class" href="classAP__WindVane.html">AP_WindVane</a> *<a class="code hl_function" href="classAP__WindVane.html#aecc10d6ca30f2e930621539edc4e89df">AP_WindVane::get_singleton</a>()</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>{</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classAP__WindVane.html#ad560e462671bcd766df9341093ecf690">_singleton</a>;</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>}</div>
</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span> </div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span><span class="comment">// return true if wind vane is enabled</span></div>
<div class="foldopen" id="foldopen00185" data-start="{" data-end="}">
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno"><a class="line" href="classAP__WindVane.html#a7500cd6e7d98b4e7960d4858beb23b59">  185</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__WindVane.html#a7500cd6e7d98b4e7960d4858beb23b59">AP_WindVane::enabled</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classAP__WindVane.html#a354bce01ac6cbf0454fe0de02b7edf5f">_direction_type</a> != <a class="code hl_enumvalue" href="classAP__WindVane.html#a4a050c1989398f484b95f3385fefebe2a222f8bb5d85359fe72a876208943a776">WINDVANE_NONE</a>;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>}</div>
</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span> </div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span><span class="comment">// return true if wind speed is enabled</span></div>
<div class="foldopen" id="foldopen00191" data-start="{" data-end="}">
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno"><a class="line" href="classAP__WindVane.html#a210e7a9dfb7a4a6bfc1d298be3b76916">  191</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__WindVane.html#a210e7a9dfb7a4a6bfc1d298be3b76916">AP_WindVane::wind_speed_enabled</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <span class="keywordflow">return</span> (<a class="code hl_variable" href="classAP__WindVane.html#ab6e4b38ce9ba31b2ee1be06c978eb5db">_speed_sensor_type</a> != <a class="code hl_enumvalue" href="classAP__WindVane.html#a028300bc32cff3dcb9df76b355a563d8a7448354eac7b261b9793f9becd3bdc8b">WINDSPEED_NONE</a>);</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>}</div>
</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span> </div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span><span class="comment">// Initialize the Wind Vane object and prepare it for use</span></div>
<div class="foldopen" id="foldopen00197" data-start="{" data-end="}">
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno"><a class="line" href="classAP__WindVane.html#a522beeb34b8b941ba38466c8523284c2">  197</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__WindVane.html#a522beeb34b8b941ba38466c8523284c2">AP_WindVane::init</a>(<span class="keyword">const</span> <a class="code hl_class" href="classAP__SerialManager.html">AP_SerialManager</a>&amp; <a class="code hl_variable" href="AHRS__Test_8cpp.html#a90ddf96040cbf0429052dafd4fa64c12">serial_manager</a>)</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>{</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <span class="comment">// don&#39;t construct twice</span></div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__WindVane.html#ab7df6bd2aeb23b16c1dce4ce4e80234b">_direction_driver</a> != <span class="keyword">nullptr</span> || <a class="code hl_variable" href="classAP__WindVane.html#a04b4310af778ab0f8ac058e257d66f20">_speed_driver</a> != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    }</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span> </div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    <span class="comment">// wind direction</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="classAP__WindVane.html#a354bce01ac6cbf0454fe0de02b7edf5f">_direction_type</a>) {</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__WindVane.html#a4a050c1989398f484b95f3385fefebe2a222f8bb5d85359fe72a876208943a776">WindVaneType::WINDVANE_NONE</a>:</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>            <span class="comment">// WindVane disabled</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span><span class="preprocessor">#if AP_WINDVANE_HOME_ENABLED</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__WindVane.html#a4a050c1989398f484b95f3385fefebe2a770c603fb2bcd0675e8af5ea4806ee74">WindVaneType::WINDVANE_HOME_HEADING</a>:</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__WindVane.html#a4a050c1989398f484b95f3385fefebe2afceb1dbf3b3db35e3e92e9825ebbfea0">WindVaneType::WINDVANE_PWM_PIN</a>:</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>            <a class="code hl_variable" href="classAP__WindVane.html#ab7df6bd2aeb23b16c1dce4ce4e80234b">_direction_driver</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classAP__WindVane.html#ac935719dfcc4a870aaac39c0154b1200">AP_WindVane_Home</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span><span class="preprocessor">#if AP_WINDVANE_ANALOG_ENABLED</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__WindVane.html#a4a050c1989398f484b95f3385fefebe2a8c06777924be8efabb0b1f9c5bec7adb">WindVaneType::WINDVANE_ANALOG_PIN</a>:</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>            <a class="code hl_variable" href="classAP__WindVane.html#ab7df6bd2aeb23b16c1dce4ce4e80234b">_direction_driver</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classAP__WindVane.html#a619cfaf982b4dcffdbc6788ffc914338">AP_WindVane_Analog</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span><span class="preprocessor">#if AP_WINDVANE_SIM_ENABLED</span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>        <span class="keywordflow">case</span> WindVaneType::WINDVANE_SITL_TRUE:</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>        <span class="keywordflow">case</span> WindVaneType::WINDVANE_SITL_APPARENT:</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>            <a class="code hl_variable" href="classAP__WindVane.html#ab7df6bd2aeb23b16c1dce4ce4e80234b">_direction_driver</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classAP__WindVane.html#a0e3858f7f56c708791c429500517bc04">AP_WindVane_SITL</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span><span class="preprocessor">#if AP_WINDVANE_NMEA_ENABLED</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__WindVane.html#a4a050c1989398f484b95f3385fefebe2aed7f01bc657b1d565fca64d41de4e552">WindVaneType::WINDVANE_NMEA</a>:</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>            <a class="code hl_variable" href="classAP__WindVane.html#ab7df6bd2aeb23b16c1dce4ce4e80234b">_direction_driver</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classAP__WindVane.html#a1171940b945e737b201b66d8852bd2a6">AP_WindVane_NMEA</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>            <a class="code hl_variable" href="classAP__WindVane.html#ab7df6bd2aeb23b16c1dce4ce4e80234b">_direction_driver</a>-&gt;<a class="code hl_function" href="classAP__WindVane__Backend.html#ac49e769e439171bdf74b13ffd928bd7e">init</a>(<a class="code hl_variable" href="AHRS__Test_8cpp.html#a90ddf96040cbf0429052dafd4fa64c12">serial_manager</a>);</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>    }</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span> </div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>    <span class="comment">// wind speed</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="classAP__WindVane.html#ab6e4b38ce9ba31b2ee1be06c978eb5db">_speed_sensor_type</a>) {</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__WindVane.html#a028300bc32cff3dcb9df76b355a563d8a7448354eac7b261b9793f9becd3bdc8b">Speed_type::WINDSPEED_NONE</a>:</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span><span class="preprocessor">#if AP_WINDVANE_AIRSPEED_ENABLED</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>        <span class="keywordflow">case</span> Speed_type::WINDSPEED_AIRSPEED:</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>            <a class="code hl_variable" href="classAP__WindVane.html#a04b4310af778ab0f8ac058e257d66f20">_speed_driver</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classAP__WindVane.html#a41472688357a9cc2a3a1e8c0a8c2fb70">AP_WindVane_Airspeed</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span><span class="preprocessor">#if AP_WINDVANE_MODERNDEVICE_ENABLED</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__WindVane.html#a028300bc32cff3dcb9df76b355a563d8ad3c188da807541a0164a8ca8564ad338">Speed_type::WINDVANE_WIND_SENSOR_REV_P</a>:</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>            <a class="code hl_variable" href="classAP__WindVane.html#a04b4310af778ab0f8ac058e257d66f20">_speed_driver</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classAP__WindVane.html#a4f44693a270b770cf3a432c48bd4cb1f">AP_WindVane_ModernDevice</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span><span class="preprocessor">#if AP_WINDVANE_SIM_ENABLED</span></div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>        <span class="keywordflow">case</span> Speed_type::WINDSPEED_SITL_TRUE:</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>        <span class="keywordflow">case</span> Speed_type::WINDSPEED_SITL_APPARENT:</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>            <span class="comment">// single driver does both speed and direction</span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__WindVane.html#a354bce01ac6cbf0454fe0de02b7edf5f">_direction_type</a> != <a class="code hl_variable" href="classAP__WindVane.html#ab6e4b38ce9ba31b2ee1be06c978eb5db">_speed_sensor_type</a>) {</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>                <a class="code hl_variable" href="classAP__WindVane.html#a04b4310af778ab0f8ac058e257d66f20">_speed_driver</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classAP__WindVane.html#a0e3858f7f56c708791c429500517bc04">AP_WindVane_SITL</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>                <a class="code hl_variable" href="classAP__WindVane.html#a04b4310af778ab0f8ac058e257d66f20">_speed_driver</a> = <a class="code hl_variable" href="classAP__WindVane.html#ab7df6bd2aeb23b16c1dce4ce4e80234b">_direction_driver</a>;</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>            }</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span><span class="preprocessor">#endif  </span><span class="comment">// AP_WINDVANE_SIM_ENABLED</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span><span class="preprocessor">#if AP_WINDVANE_NMEA_ENABLED</span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classAP__WindVane.html#a028300bc32cff3dcb9df76b355a563d8a6bda86f607037af5cfc0911181158632">Speed_type::WINDSPEED_NMEA</a>:</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>            <span class="comment">// single driver does both speed and direction</span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__WindVane.html#a354bce01ac6cbf0454fe0de02b7edf5f">_direction_type</a> != <a class="code hl_enumvalue" href="classAP__WindVane.html#a4a050c1989398f484b95f3385fefebe2aed7f01bc657b1d565fca64d41de4e552">WindVaneType::WINDVANE_NMEA</a>) {</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>                <a class="code hl_variable" href="classAP__WindVane.html#a04b4310af778ab0f8ac058e257d66f20">_speed_driver</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classAP__WindVane.html#a1171940b945e737b201b66d8852bd2a6">AP_WindVane_NMEA</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>                <a class="code hl_variable" href="classAP__WindVane.html#a04b4310af778ab0f8ac058e257d66f20">_speed_driver</a>-&gt;<a class="code hl_function" href="classAP__WindVane__Backend.html#ac49e769e439171bdf74b13ffd928bd7e">init</a>(<a class="code hl_variable" href="AHRS__Test_8cpp.html#a90ddf96040cbf0429052dafd4fa64c12">serial_manager</a>);</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>                <a class="code hl_variable" href="classAP__WindVane.html#a04b4310af778ab0f8ac058e257d66f20">_speed_driver</a> = <a class="code hl_variable" href="classAP__WindVane.html#ab7df6bd2aeb23b16c1dce4ce4e80234b">_direction_driver</a>;</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>            }</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span><span class="preprocessor">#endif  </span><span class="comment">// AP_WINDVANE_NMEA_ENABLED</span></div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span><span class="preprocessor">#if AP_WINDVANE_RPM_ENABLED</span></div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>        <span class="keywordflow">case</span> Speed_type::WINDSPEED_RPM:</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>            <a class="code hl_variable" href="classAP__WindVane.html#a04b4310af778ab0f8ac058e257d66f20">_speed_driver</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classAP__WindVane.html#a0b98c68e6983862da0331e1c4779437e">AP_WindVane_RPM</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    }</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>}</div>
</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span> </div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span><span class="comment">// update wind vane, expected to be called at 20hz</span></div>
<div class="foldopen" id="foldopen00279" data-start="{" data-end="}">
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno"><a class="line" href="classAP__WindVane.html#a4be87cdbcdac2f146d3b9b1b09aa1e8a">  279</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__WindVane.html#a4be87cdbcdac2f146d3b9b1b09aa1e8a">AP_WindVane::update</a>()</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>{</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> have_speed = <a class="code hl_variable" href="classAP__WindVane.html#a04b4310af778ab0f8ac058e257d66f20">_speed_driver</a> != <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> have_direction = <a class="code hl_variable" href="classAP__WindVane.html#ab7df6bd2aeb23b16c1dce4ce4e80234b">_direction_driver</a> != <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span> </div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>    <span class="comment">// exit immediately if not enabled</span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__WindVane.html#a7500cd6e7d98b4e7960d4858beb23b59">enabled</a>() || (!have_speed &amp;&amp; !have_direction)) {</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    }</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span> </div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    <span class="comment">// calibrate if booted and disarmed</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a>.<a class="code hl_variable" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code hl_function" href="classAP__HAL_1_1Util.html#a287a2b82fa30b92c8d52aad61d4d27b7">get_soft_armed</a>()) {</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__WindVane.html#acab97955a9626e216d3577fe3598b572">_calibration</a> == 1 &amp;&amp; have_direction) {</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>            <a class="code hl_variable" href="classAP__WindVane.html#ab7df6bd2aeb23b16c1dce4ce4e80234b">_direction_driver</a>-&gt;<a class="code hl_function" href="classAP__WindVane__Backend.html#a2ff5418cb8acb0643a010bf0b0f3e5fb">calibrate</a>();</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__WindVane.html#acab97955a9626e216d3577fe3598b572">_calibration</a> == 2 &amp;&amp; have_speed) {</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>            <a class="code hl_variable" href="classAP__WindVane.html#a04b4310af778ab0f8ac058e257d66f20">_speed_driver</a>-&gt;<a class="code hl_function" href="classAP__WindVane__Backend.html#a2ff5418cb8acb0643a010bf0b0f3e5fb">calibrate</a>();</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__WindVane.html#acab97955a9626e216d3577fe3598b572">_calibration</a> != 0) {</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>            <a class="code hl_define" href="GCS_8h.html#a266bfe8eda675e1092f045e93932b4a6">GCS_SEND_TEXT</a>(MAV_SEVERITY_INFO, <span class="stringliteral">&quot;WindVane: driver not found&quot;</span>);</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>            <a class="code hl_variable" href="classAP__WindVane.html#acab97955a9626e216d3577fe3598b572">_calibration</a>.set_and_save(0);</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>        }</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__WindVane.html#acab97955a9626e216d3577fe3598b572">_calibration</a> != 0) {</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>        <a class="code hl_define" href="GCS_8h.html#a266bfe8eda675e1092f045e93932b4a6">GCS_SEND_TEXT</a>(MAV_SEVERITY_INFO, <span class="stringliteral">&quot;WindVane: disarm for cal&quot;</span>);</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>        <a class="code hl_variable" href="classAP__WindVane.html#acab97955a9626e216d3577fe3598b572">_calibration</a>.set_and_save(0);</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>    }</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span> </div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    <span class="comment">// read apparent wind speed</span></div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>    <span class="keywordflow">if</span> (have_speed) {</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        <a class="code hl_variable" href="classAP__WindVane.html#a04b4310af778ab0f8ac058e257d66f20">_speed_driver</a>-&gt;<a class="code hl_function" href="classAP__WindVane__Backend.html#a85cda608160fc801fe294168f1058b24">update_speed</a>();</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>    }</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span> </div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    <span class="comment">// read apparent wind direction</span></div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>    <span class="keywordflow">if</span> (have_direction) {</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>        <a class="code hl_variable" href="classAP__WindVane.html#ab7df6bd2aeb23b16c1dce4ce4e80234b">_direction_driver</a>-&gt;<a class="code hl_function" href="classAP__WindVane__Backend.html#a4730159bc96e7396e07d7d1528ce6178">update_direction</a>();</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    }</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span> </div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    <span class="keywordflow">if</span> (have_speed &amp;&amp; have_direction) {</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classAP__WindVane.html#a725fbdffe6a6354f85bd317dc4b05127">_speed_apparent</a> &gt;= <a class="code hl_variable" href="classAP__WindVane.html#a610204f0facddb725a4d172b7c2cc7bd">_dir_speed_cutoff</a>) {</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>            <span class="comment">// calculate true wind speed and direction from apparent wind</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>            <a class="code hl_function" href="classAP__WindVane.html#a15e29db6e47037c162e78f11b935df9f">update_true_wind_speed_and_direction</a>();</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>            <span class="comment">// assume true wind has not changed, calculate the apparent wind direction and speed</span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>            <a class="code hl_function" href="classAP__WindVane.html#a752451273244283e58ecaa003699d6ef">update_apparent_wind_dir_from_true</a>();</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>        }</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>        <span class="comment">// only have direction, can&#39;t do true wind calcs, set true direction to apparent + heading</span></div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>        <a class="code hl_variable" href="classAP__WindVane.html#a7b7c4509b7841275b7cc6d83ed88e6ea">_direction_true_raw</a> = <a class="code hl_function" href="AP__Math_8cpp.html#ae77517d032abb1e1b525d2b43ff9a27d">wrap_PI</a>(<a class="code hl_variable" href="classAP__WindVane.html#a15ed3dfec866170d9adc8efa18aacf90">_direction_apparent_raw</a> + <a class="code hl_function" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>().get_yaw());</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>        <a class="code hl_variable" href="classAP__WindVane.html#ad568c9086b19901c2b4564fe3980eb1c">_speed_true_raw</a> = 0.0f;</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>    }</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span> </div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span><span class="comment">        Apply filters</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span><span class="comment">        https://en.wikipedia.org/wiki/Mean_of_circular_quantities</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span><span class="comment">    */</span></div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    <span class="keywordtype">float</span> filtered_sin;</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>    <span class="keywordtype">float</span> filtered_cos;</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span> </div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <span class="comment">// apparent speed</span></div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAP__WindVane.html#ad97a49d03de098cfebbb1a4581b7afdc">_speed_filt_hz</a>)) {</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>        <a class="code hl_variable" href="classAP__WindVane.html#a16513380d05572c05cfffe3d99389c40">_speed_apparent_filt</a>.<a class="code hl_function" href="classLowPassFilter.html#a1cc5016de137b01080fa0a6fa7fe53cd">set_cutoff_frequency</a>(<a class="code hl_variable" href="classAP__WindVane.html#ad97a49d03de098cfebbb1a4581b7afdc">_speed_filt_hz</a>);</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>        <a class="code hl_variable" href="classAP__WindVane.html#a725fbdffe6a6354f85bd317dc4b05127">_speed_apparent</a> = <a class="code hl_variable" href="classAP__WindVane.html#a16513380d05572c05cfffe3d99389c40">_speed_apparent_filt</a>.<a class="code hl_function" href="classLowPassFilter.html#aa390849d2e18ff3287f92b89d8657841">apply</a>(<a class="code hl_variable" href="classAP__WindVane.html#ad6a95b2df56efb6ea67ffd7b91132533">_speed_apparent_raw</a>,0.05f);</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>        <a class="code hl_variable" href="classAP__WindVane.html#a725fbdffe6a6354f85bd317dc4b05127">_speed_apparent</a> = <a class="code hl_variable" href="classAP__WindVane.html#ad6a95b2df56efb6ea67ffd7b91132533">_speed_apparent_raw</a>;</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    }</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span> </div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    <span class="comment">// apparent direction</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAP__WindVane.html#aefc6239be92f5661cc68b55ab1c327bd">_dir_filt_hz</a>)) {</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>        <a class="code hl_variable" href="classAP__WindVane.html#ac8731618a7f85f1a0c60f12e26ff0f82">_direction_apparent_sin_filt</a>.<a class="code hl_function" href="classLowPassFilter.html#a1cc5016de137b01080fa0a6fa7fe53cd">set_cutoff_frequency</a>(<a class="code hl_variable" href="classAP__WindVane.html#aefc6239be92f5661cc68b55ab1c327bd">_dir_filt_hz</a>);</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        <a class="code hl_variable" href="classAP__WindVane.html#adc003117ef9cf4d22f4d4bf2697d7512">_direction_apparent_cos_filt</a>.<a class="code hl_function" href="classLowPassFilter.html#a1cc5016de137b01080fa0a6fa7fe53cd">set_cutoff_frequency</a>(<a class="code hl_variable" href="classAP__WindVane.html#aefc6239be92f5661cc68b55ab1c327bd">_dir_filt_hz</a>);</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>        filtered_sin = <a class="code hl_variable" href="classAP__WindVane.html#ac8731618a7f85f1a0c60f12e26ff0f82">_direction_apparent_sin_filt</a>.<a class="code hl_function" href="classLowPassFilter.html#aa390849d2e18ff3287f92b89d8657841">apply</a>(sinf(<a class="code hl_variable" href="classAP__WindVane.html#a15ed3dfec866170d9adc8efa18aacf90">_direction_apparent_raw</a>),0.05f);</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>        filtered_cos = <a class="code hl_variable" href="classAP__WindVane.html#adc003117ef9cf4d22f4d4bf2697d7512">_direction_apparent_cos_filt</a>.<a class="code hl_function" href="classLowPassFilter.html#aa390849d2e18ff3287f92b89d8657841">apply</a>(cosf(<a class="code hl_variable" href="classAP__WindVane.html#a15ed3dfec866170d9adc8efa18aacf90">_direction_apparent_raw</a>),0.05f);</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>        <a class="code hl_variable" href="classAP__WindVane.html#a29f6e2dd9883e1679085d6851d3c89fd">_direction_apparent</a> = atan2f(filtered_sin, filtered_cos);</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>        <a class="code hl_variable" href="classAP__WindVane.html#a29f6e2dd9883e1679085d6851d3c89fd">_direction_apparent</a> = <a class="code hl_variable" href="classAP__WindVane.html#a15ed3dfec866170d9adc8efa18aacf90">_direction_apparent_raw</a>;</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>    }</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span> </div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <span class="comment">// apparent direction for tack threshold, hard coded freq</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    filtered_sin = <a class="code hl_variable" href="classAP__WindVane.html#aca98a59f335b5638ecc139af21355fa9">_tack_sin_filt</a>.<a class="code hl_function" href="classLowPassFilter.html#aa390849d2e18ff3287f92b89d8657841">apply</a>(sinf(<a class="code hl_variable" href="classAP__WindVane.html#a15ed3dfec866170d9adc8efa18aacf90">_direction_apparent_raw</a>),0.05f);</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    filtered_cos = <a class="code hl_variable" href="classAP__WindVane.html#aab0fc0539d9af3f20558d4fd980a494c">_tack_cos_filt</a>.<a class="code hl_function" href="classLowPassFilter.html#aa390849d2e18ff3287f92b89d8657841">apply</a>(cosf(<a class="code hl_variable" href="classAP__WindVane.html#a15ed3dfec866170d9adc8efa18aacf90">_direction_apparent_raw</a>),0.05f);</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    <a class="code hl_variable" href="classAP__WindVane.html#a418ee084488180de4fe9feb6c8ec4480">_direction_tack</a> = atan2f(filtered_sin, filtered_cos);</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    <a class="code hl_variable" href="classAP__WindVane.html#a98c561802a637468e25dd7f322e0a07d">_current_tack</a> = <a class="code hl_function" href="AP__Math_8h.html#a8b6f71a42818d74fd8bfe348108942fa">is_negative</a>(<a class="code hl_variable" href="classAP__WindVane.html#a418ee084488180de4fe9feb6c8ec4480">_direction_tack</a>) ? <a class="code hl_enumvalue" href="classAP__WindVane.html#aa268f0fc99bd1ad71c315295af40c929a486b834e7a2a615c74b02eb084e3d70f">Sailboat_Tack::TACK_PORT</a> : <a class="code hl_enumvalue" href="classAP__WindVane.html#aa268f0fc99bd1ad71c315295af40c929ac665f2fbeb11cb3c860181d2e8890262">Sailboat_Tack::TACK_STARBOARD</a>;</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span> </div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    <span class="comment">// true wind direction and speed, both at the same freq</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code hl_variable" href="classAP__WindVane.html#a91095cb285f76c5887aa6c57466606d2">_true_filt_hz</a>)) {</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>        <a class="code hl_variable" href="classAP__WindVane.html#a2e2782f3e01039d22f863849adab051f">_speed_true_filt</a>.<a class="code hl_function" href="classLowPassFilter.html#a1cc5016de137b01080fa0a6fa7fe53cd">set_cutoff_frequency</a>(<a class="code hl_variable" href="classAP__WindVane.html#a91095cb285f76c5887aa6c57466606d2">_true_filt_hz</a>);</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>        <a class="code hl_variable" href="classAP__WindVane.html#af5f2bc32da53c299fa2de4fe218c42d2">_direction_true_sin_filt</a>.<a class="code hl_function" href="classLowPassFilter.html#a1cc5016de137b01080fa0a6fa7fe53cd">set_cutoff_frequency</a>(<a class="code hl_variable" href="classAP__WindVane.html#a91095cb285f76c5887aa6c57466606d2">_true_filt_hz</a>);</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>        <a class="code hl_variable" href="classAP__WindVane.html#af933fdf6c1e2e8750c98e87e1be1c519">_direction_true_cos_filt</a>.<a class="code hl_function" href="classLowPassFilter.html#a1cc5016de137b01080fa0a6fa7fe53cd">set_cutoff_frequency</a>(<a class="code hl_variable" href="classAP__WindVane.html#a91095cb285f76c5887aa6c57466606d2">_true_filt_hz</a>);</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span> </div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>        <a class="code hl_variable" href="classAP__WindVane.html#a3fcc0365f7daa8d235a5c8a576c03576">_speed_true</a> = <a class="code hl_variable" href="classAP__WindVane.html#a2e2782f3e01039d22f863849adab051f">_speed_true_filt</a>.<a class="code hl_function" href="classLowPassFilter.html#aa390849d2e18ff3287f92b89d8657841">apply</a>(<a class="code hl_variable" href="classAP__WindVane.html#ad568c9086b19901c2b4564fe3980eb1c">_speed_true_raw</a>,0.05f);</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>        filtered_sin = <a class="code hl_variable" href="classAP__WindVane.html#af5f2bc32da53c299fa2de4fe218c42d2">_direction_true_sin_filt</a>.<a class="code hl_function" href="classLowPassFilter.html#aa390849d2e18ff3287f92b89d8657841">apply</a>(sinf(<a class="code hl_variable" href="classAP__WindVane.html#a7b7c4509b7841275b7cc6d83ed88e6ea">_direction_true_raw</a>),0.05f);</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>        filtered_cos = <a class="code hl_variable" href="classAP__WindVane.html#af933fdf6c1e2e8750c98e87e1be1c519">_direction_true_cos_filt</a>.<a class="code hl_function" href="classLowPassFilter.html#aa390849d2e18ff3287f92b89d8657841">apply</a>(cosf(<a class="code hl_variable" href="classAP__WindVane.html#a7b7c4509b7841275b7cc6d83ed88e6ea">_direction_true_raw</a>),0.05f);</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>        <a class="code hl_variable" href="classAP__WindVane.html#abc272b10e0487dcf0ddc13d0a90f9bad">_direction_true</a> = atan2f(filtered_sin, filtered_cos);</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>        <a class="code hl_variable" href="classAP__WindVane.html#a3fcc0365f7daa8d235a5c8a576c03576">_speed_true</a> = <a class="code hl_variable" href="classAP__WindVane.html#ad568c9086b19901c2b4564fe3980eb1c">_speed_true_raw</a>;</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>        <a class="code hl_variable" href="classAP__WindVane.html#abc272b10e0487dcf0ddc13d0a90f9bad">_direction_true</a> = <a class="code hl_variable" href="classAP__WindVane.html#a7b7c4509b7841275b7cc6d83ed88e6ea">_direction_true_raw</a>;</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    }</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span> </div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span><span class="preprocessor">#if HAL_LOGGING_ENABLED</span></div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span><span class="comment">// @LoggerMessage: WIND</span></div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span><span class="comment">// @Description: Windvane readings</span></div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span><span class="comment">// @Field: TimeUS: Time since system startup</span></div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span><span class="comment">// @Field: DrRaw: raw apparent wind direction direct from sensor, in body-frame</span></div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span><span class="comment">// @Field: DrApp: Apparent wind direction, in body-frame</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span><span class="comment">// @Field: DrTru: True wind direction</span></div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span><span class="comment">// @Field: SpdRaw: raw wind speed direct from sensor</span></div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span><span class="comment">// @Field: SpdApp: Apparent wind Speed</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span><span class="comment">// @Field: SpdTru: True wind speed</span></div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <a class="code hl_function" href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a>().<a class="code hl_function" href="classAP__Logger.html#abab7cb26825a8dfb1e5e92cf7fcf4152">WriteStreaming</a>(<span class="stringliteral">&quot;WIND&quot;</span>, <span class="stringliteral">&quot;TimeUS,DrRaw,DrApp,DrTru,SpdRaw,SpdApp,SpdTru&quot;</span>,</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>                        <span class="stringliteral">&quot;sddhnnn&quot;</span>, <span class="stringliteral">&quot;F000000&quot;</span>, <span class="stringliteral">&quot;Qffffff&quot;</span>,</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>                        <a class="code hl_function" href="namespaceAP__HAL.html#a7aa0ce7625c9680e30ff4a99940907a5">AP_HAL::micros64</a>(),</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>                        <a class="code hl_define" href="moduletest_8c.html#a903c4797a4c2860e3b9a6a978f98a44d">degrees</a>(<a class="code hl_variable" href="classAP__WindVane.html#a15ed3dfec866170d9adc8efa18aacf90">_direction_apparent_raw</a>),</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>                        <a class="code hl_define" href="moduletest_8c.html#a903c4797a4c2860e3b9a6a978f98a44d">degrees</a>(<a class="code hl_variable" href="classAP__WindVane.html#a29f6e2dd9883e1679085d6851d3c89fd">_direction_apparent</a>),</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>                        <a class="code hl_define" href="moduletest_8c.html#a903c4797a4c2860e3b9a6a978f98a44d">degrees</a>(<a class="code hl_variable" href="classAP__WindVane.html#abc272b10e0487dcf0ddc13d0a90f9bad">_direction_true</a>),</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>                        <a class="code hl_variable" href="classAP__WindVane.html#ad6a95b2df56efb6ea67ffd7b91132533">_speed_apparent_raw</a>,</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>                        <a class="code hl_variable" href="classAP__WindVane.html#a725fbdffe6a6354f85bd317dc4b05127">_speed_apparent</a>,</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>                        <a class="code hl_variable" href="classAP__WindVane.html#a3fcc0365f7daa8d235a5c8a576c03576">_speed_true</a>);</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span> </div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>}</div>
</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span> </div>
<div class="foldopen" id="foldopen00398" data-start="{" data-end="}">
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno"><a class="line" href="classAP__WindVane.html#a2f789a672d821de92cd4c3cdf038724e">  398</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__WindVane.html#a2f789a672d821de92cd4c3cdf038724e">AP_WindVane::record_home_heading</a>()</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>{</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    <a class="code hl_variable" href="classAP__WindVane.html#a05448e00758ea81f7c879ff1562b90e8">_home_heading</a> = <a class="code hl_function" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>().<a class="code hl_function" href="classAP__AHRS.html#a5d84cbacfad4577e8de788aeba05f49c">get_yaw</a>();</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>}</div>
</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span> </div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span><span class="comment">// to start direction calibration from mavlink or other</span></div>
<div class="foldopen" id="foldopen00404" data-start="{" data-end="}">
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno"><a class="line" href="classAP__WindVane.html#afab02f6ab69e882c2f9aa7e33b39c00f">  404</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__WindVane.html#afab02f6ab69e882c2f9aa7e33b39c00f">AP_WindVane::start_direction_calibration</a>()</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>{</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__WindVane.html#a7500cd6e7d98b4e7960d4858beb23b59">enabled</a>() &amp;&amp; (<a class="code hl_variable" href="classAP__WindVane.html#acab97955a9626e216d3577fe3598b572">_calibration</a> == 0)) {</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>        <a class="code hl_variable" href="classAP__WindVane.html#acab97955a9626e216d3577fe3598b572">_calibration</a>.set(1);</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>    }</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>}</div>
</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span> </div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span><span class="comment">// to start speed calibration from mavlink or other</span></div>
<div class="foldopen" id="foldopen00414" data-start="{" data-end="}">
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno"><a class="line" href="classAP__WindVane.html#a37da59f3d4c3ff297451eb64e86f31ce">  414</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classAP__WindVane.html#a37da59f3d4c3ff297451eb64e86f31ce">AP_WindVane::start_speed_calibration</a>()</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>{</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classAP__WindVane.html#a7500cd6e7d98b4e7960d4858beb23b59">enabled</a>() &amp;&amp; (<a class="code hl_variable" href="classAP__WindVane.html#acab97955a9626e216d3577fe3598b572">_calibration</a> == 0)) {</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>        <a class="code hl_variable" href="classAP__WindVane.html#acab97955a9626e216d3577fe3598b572">_calibration</a>.set(2);</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>    }</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>}</div>
</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span> </div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span><span class="comment">// send mavlink wind message</span></div>
<div class="foldopen" id="foldopen00424" data-start="{" data-end="}">
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno"><a class="line" href="classAP__WindVane.html#ac991e16d68d3e664f5a42651d33eb813">  424</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__WindVane.html#ac991e16d68d3e664f5a42651d33eb813">AP_WindVane::send_wind</a>(mavlink_channel_t <a class="code hl_variable" href="examples_2AnalogIn_2AnalogIn_8cpp.html#a130f3ebe4c1bb6993e1094760227ad6a">chan</a>)<span class="keyword"> const</span></div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>    <span class="comment">// exit immediately if not enabled</span></div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classAP__WindVane.html#a7500cd6e7d98b4e7960d4858beb23b59">enabled</a>()) {</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>    }</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span> </div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>    <span class="comment">// send wind</span></div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>    mavlink_msg_wind_send(</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>        <a class="code hl_variable" href="examples_2AnalogIn_2AnalogIn_8cpp.html#a130f3ebe4c1bb6993e1094760227ad6a">chan</a>,</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>        <a class="code hl_function" href="AP__Math_8cpp.html#ad2245faee11bdecf357553e7807dc068">wrap_360</a>(<a class="code hl_define" href="moduletest_8c.html#a903c4797a4c2860e3b9a6a978f98a44d">degrees</a>(<a class="code hl_function" href="classAP__WindVane.html#aa940cbd650e1b766da69899932431938">get_true_wind_direction_rad</a>())),</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>        <a class="code hl_function" href="classAP__WindVane.html#aef84f518c8e7274881d338af8698fca0">get_true_wind_speed</a>(),</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>        0);</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span> </div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>    <span class="comment">// send apparent wind using named floats</span></div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>    <span class="comment">// TODO: create a dedicated MAVLink message</span></div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>    <a class="code hl_function" href="GCS_8h.html#ab53f292b698f9a6a3f029dfdbd5a43de">gcs</a>().<a class="code hl_function" href="classGCS.html#a36bac57d1573fce99894d56aef0f7c59">send_named_float</a>(<span class="stringliteral">&quot;AppWndSpd&quot;</span>, <a class="code hl_function" href="classAP__WindVane.html#a84fafefeb8a985bedf32d23d6512bff1">get_apparent_wind_speed</a>());</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>    <a class="code hl_function" href="GCS_8h.html#ab53f292b698f9a6a3f029dfdbd5a43de">gcs</a>().<a class="code hl_function" href="classGCS.html#a36bac57d1573fce99894d56aef0f7c59">send_named_float</a>(<span class="stringliteral">&quot;AppWndDir&quot;</span>, <a class="code hl_define" href="moduletest_8c.html#a903c4797a4c2860e3b9a6a978f98a44d">degrees</a>(<a class="code hl_function" href="classAP__WindVane.html#af4f62f65c7b8ccfc587e9c31dc6d5dbd">get_apparent_wind_direction_rad</a>()));</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span> </div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>}</div>
</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span> </div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span><span class="comment">// calculate true wind speed and direction from apparent wind</span></div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span><span class="comment">// https://en.wikipedia.org/wiki/Apparent_wind</span></div>
<div class="foldopen" id="foldopen00447" data-start="{" data-end="}">
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno"><a class="line" href="classAP__WindVane.html#a15e29db6e47037c162e78f11b935df9f">  447</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__WindVane.html#a15e29db6e47037c162e78f11b935df9f">AP_WindVane::update_true_wind_speed_and_direction</a>()</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>{</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>    <span class="comment">// if no vehicle speed, can&#39;t do calcs</span></div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>    <a class="code hl_class" href="classVector3.html">Vector3f</a> veh_velocity;</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>().get_velocity_NED(veh_velocity)) {</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>        <span class="comment">// if no vehicle speed use apparent speed and direction directly</span></div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>        <a class="code hl_variable" href="classAP__WindVane.html#a7b7c4509b7841275b7cc6d83ed88e6ea">_direction_true_raw</a> = <a class="code hl_variable" href="classAP__WindVane.html#a15ed3dfec866170d9adc8efa18aacf90">_direction_apparent_raw</a>;</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>        <a class="code hl_variable" href="classAP__WindVane.html#ad568c9086b19901c2b4564fe3980eb1c">_speed_true_raw</a> = <a class="code hl_variable" href="classAP__WindVane.html#a725fbdffe6a6354f85bd317dc4b05127">_speed_apparent</a>;</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>    }</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span> </div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>    <span class="comment">// convert apparent wind speed and direction to 2D vector in same frame as vehicle velocity</span></div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> wind_dir_180 = <a class="code hl_variable" href="classAP__WindVane.html#a15ed3dfec866170d9adc8efa18aacf90">_direction_apparent_raw</a> + <a class="code hl_function" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>().<a class="code hl_function" href="classAP__AHRS.html#a5d84cbacfad4577e8de788aeba05f49c">get_yaw</a>() + <a class="code hl_function" href="AP__Math_8h.html#a49ad7fa2fa2e3d8aa75e8e0ec3f83b99">radians</a>(180);</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>    <span class="keyword">const</span> <a class="code hl_class" href="structVector2.html">Vector2f</a> wind_apparent_vec(cosf(wind_dir_180) * <a class="code hl_variable" href="classAP__WindVane.html#a725fbdffe6a6354f85bd317dc4b05127">_speed_apparent</a>, sinf(wind_dir_180) * <a class="code hl_variable" href="classAP__WindVane.html#a725fbdffe6a6354f85bd317dc4b05127">_speed_apparent</a>);</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span> </div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>    <span class="comment">// add vehicle velocity</span></div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>    <a class="code hl_class" href="structVector2.html">Vector2f</a> wind_true_vec = <a class="code hl_typedef" href="vector2_8h.html#a9f3739462b0605dcb64299fa289b6afe">Vector2f</a>(wind_apparent_vec.<a class="code hl_variable" href="structVector2.html#a78fa1f2ed5e261c7fbeb8f3536a1ee34">x</a> + veh_velocity.<a class="code hl_variable" href="classVector3.html#a1a0f7e168c71ca798099f0ba8a444244">x</a>, wind_apparent_vec.<a class="code hl_variable" href="structVector2.html#a6cfed8355591aa269f4dba43bd806ef9">y</a> + veh_velocity.<a class="code hl_variable" href="classVector3.html#a561df88b28e106e337a25bb86554a569">y</a>);</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span> </div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>    <span class="comment">// calculate true speed and direction</span></div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>    <a class="code hl_variable" href="classAP__WindVane.html#a7b7c4509b7841275b7cc6d83ed88e6ea">_direction_true_raw</a> = <a class="code hl_function" href="AP__Math_8cpp.html#ae77517d032abb1e1b525d2b43ff9a27d">wrap_PI</a>(atan2f(wind_true_vec.<a class="code hl_variable" href="structVector2.html#a6cfed8355591aa269f4dba43bd806ef9">y</a>, wind_true_vec.<a class="code hl_variable" href="structVector2.html#a78fa1f2ed5e261c7fbeb8f3536a1ee34">x</a>) - <a class="code hl_function" href="AP__Math_8h.html#a49ad7fa2fa2e3d8aa75e8e0ec3f83b99">radians</a>(180));</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>    <a class="code hl_variable" href="classAP__WindVane.html#ad568c9086b19901c2b4564fe3980eb1c">_speed_true_raw</a> = wind_true_vec.<a class="code hl_function" href="structVector2.html#aed3cf4803ee803dc1447985ca323178f">length</a>();</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>}</div>
</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span> </div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span><span class="comment">// apparent wind is low, can&#39;t trust sensors, assume true wind has not changed and calculate apparent wind</span></div>
<div class="foldopen" id="foldopen00471" data-start="{" data-end="}">
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno"><a class="line" href="classAP__WindVane.html#a752451273244283e58ecaa003699d6ef">  471</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classAP__WindVane.html#a752451273244283e58ecaa003699d6ef">AP_WindVane::update_apparent_wind_dir_from_true</a>()</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>{</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    <span class="comment">// if no vehicle speed, can&#39;t do calcs</span></div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>    <a class="code hl_class" href="classVector3.html">Vector3f</a> veh_velocity;</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>().get_velocity_NED(veh_velocity)) {</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>    }</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span> </div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>    <span class="comment">// convert true wind speed and direction to 2D vector in same frame as vehicle velocity</span></div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> wind_dir_180 = <a class="code hl_variable" href="classAP__WindVane.html#abc272b10e0487dcf0ddc13d0a90f9bad">_direction_true</a> + <a class="code hl_function" href="AP__Math_8h.html#a49ad7fa2fa2e3d8aa75e8e0ec3f83b99">radians</a>(180);</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>    <span class="keyword">const</span> <a class="code hl_class" href="structVector2.html">Vector2f</a> wind_true_vec(cosf(wind_dir_180) * <a class="code hl_variable" href="classAP__WindVane.html#a3fcc0365f7daa8d235a5c8a576c03576">_speed_true</a>, sinf(wind_dir_180) * <a class="code hl_variable" href="classAP__WindVane.html#a3fcc0365f7daa8d235a5c8a576c03576">_speed_true</a>);</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span> </div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>    <span class="comment">// add vehicle velocity</span></div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>    <a class="code hl_class" href="structVector2.html">Vector2f</a> wind_apparent_vec = <a class="code hl_typedef" href="vector2_8h.html#a9f3739462b0605dcb64299fa289b6afe">Vector2f</a>(wind_true_vec.<a class="code hl_variable" href="structVector2.html#a78fa1f2ed5e261c7fbeb8f3536a1ee34">x</a> - veh_velocity.<a class="code hl_variable" href="classVector3.html#a1a0f7e168c71ca798099f0ba8a444244">x</a>, wind_true_vec.<a class="code hl_variable" href="structVector2.html#a6cfed8355591aa269f4dba43bd806ef9">y</a> - veh_velocity.<a class="code hl_variable" href="classVector3.html#a561df88b28e106e337a25bb86554a569">y</a>);</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span> </div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>    <span class="comment">// calculate apartment speed and direction</span></div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>    <a class="code hl_variable" href="classAP__WindVane.html#a15ed3dfec866170d9adc8efa18aacf90">_direction_apparent_raw</a> = <a class="code hl_function" href="AP__Math_8cpp.html#ae77517d032abb1e1b525d2b43ff9a27d">wrap_PI</a>(atan2f(wind_apparent_vec.<a class="code hl_variable" href="structVector2.html#a6cfed8355591aa269f4dba43bd806ef9">y</a>, wind_apparent_vec.<a class="code hl_variable" href="structVector2.html#a78fa1f2ed5e261c7fbeb8f3536a1ee34">x</a>) - <a class="code hl_function" href="AP__Math_8h.html#a49ad7fa2fa2e3d8aa75e8e0ec3f83b99">radians</a>(180) - <a class="code hl_function" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>().get_yaw());</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>    <a class="code hl_variable" href="classAP__WindVane.html#ad6a95b2df56efb6ea67ffd7b91132533">_speed_apparent_raw</a> = wind_apparent_vec.<a class="code hl_function" href="structVector2.html#aed3cf4803ee803dc1447985ca323178f">length</a>();</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>}</div>
</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span> </div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span><a class="code hl_class" href="classAP__WindVane.html">AP_WindVane</a> *<a class="code hl_variable" href="classAP__WindVane.html#ad560e462671bcd766df9341093ecf690">AP_WindVane::_singleton</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span> </div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespaceAP.html">AP</a> {</div>
<div class="foldopen" id="foldopen00494" data-start="{" data-end="}">
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno"><a class="line" href="namespaceAP.html#a3d234397344391a215f01f280bed7035">  494</a></span>    <a class="code hl_class" href="classAP__WindVane.html">AP_WindVane</a> *<a class="code hl_function" href="namespaceAP.html#a3d234397344391a215f01f280bed7035">windvane</a>()</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>    {</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classAP__WindVane.html#aecc10d6ca30f2e930621539edc4e89df">AP_WindVane::get_singleton</a>();</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>    }</div>
</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>};</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span> </div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span><span class="preprocessor">#endif  </span><span class="comment">// AP_WINDVANE_ENABLED</span></div>
<div class="ttc" id="aAC__AttitudeControl_8cpp_html_a240c1a4ae2a70d1855f91e4a0b1ac938"><div class="ttname"><a href="AC__AttitudeControl_8cpp.html#a240c1a4ae2a70d1855f91e4a0b1ac938">hal</a></div><div class="ttdeci">const AP_HAL::HAL &amp; hal</div><div class="ttdef"><b>Definition</b> <a href="AP__Compass__AK09916_8cpp_source.html#l00059">AP_Compass_AK09916.cpp:59</a></div></div>
<div class="ttc" id="aAHRS__Test_8cpp_html_a90ddf96040cbf0429052dafd4fa64c12"><div class="ttname"><a href="AHRS__Test_8cpp.html#a90ddf96040cbf0429052dafd4fa64c12">serial_manager</a></div><div class="ttdeci">static AP_SerialManager serial_manager</div><div class="ttdef"><b>Definition</b> <a href="AHRS__Test_8cpp_source.html#l00022">AHRS_Test.cpp:22</a></div></div>
<div class="ttc" id="aAP__AHRS_8h_html"><div class="ttname"><a href="AP__AHRS_8h.html">AP_AHRS.h</a></div></div>
<div class="ttc" id="aAP__HAL_8h_html"><div class="ttname"><a href="AP__HAL_8h.html">AP_HAL.h</a></div></div>
<div class="ttc" id="aAP__Logger_8h_html"><div class="ttname"><a href="AP__Logger_8h.html">AP_Logger.h</a></div></div>
<div class="ttc" id="aAP__Math_8cpp_html_ad2245faee11bdecf357553e7807dc068"><div class="ttname"><a href="AP__Math_8cpp.html#ad2245faee11bdecf357553e7807dc068">wrap_360</a></div><div class="ttdeci">float wrap_360(const float angle)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8cpp_source.html#l00181">AP_Math.cpp:181</a></div></div>
<div class="ttc" id="aAP__Math_8cpp_html_ae77517d032abb1e1b525d2b43ff9a27d"><div class="ttname"><a href="AP__Math_8cpp.html#ae77517d032abb1e1b525d2b43ff9a27d">wrap_PI</a></div><div class="ttdeci">ftype wrap_PI(const ftype radian)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8cpp_source.html#l00248">AP_Math.cpp:248</a></div></div>
<div class="ttc" id="aAP__Math_8h_html_a49ad7fa2fa2e3d8aa75e8e0ec3f83b99"><div class="ttname"><a href="AP__Math_8h.html#a49ad7fa2fa2e3d8aa75e8e0ec3f83b99">radians</a></div><div class="ttdeci">static constexpr ftype radians(ftype deg)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00213">AP_Math.h:213</a></div></div>
<div class="ttc" id="aAP__Math_8h_html_a4e3ae698e8f99cec214348ad233e3c41"><div class="ttname"><a href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a></div><div class="ttdeci">bool is_positive(const T fVal1)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00063">AP_Math.h:63</a></div></div>
<div class="ttc" id="aAP__Math_8h_html_a8b6f71a42818d74fd8bfe348108942fa"><div class="ttname"><a href="AP__Math_8h.html#a8b6f71a42818d74fd8bfe348108942fa">is_negative</a></div><div class="ttdeci">bool is_negative(const T fVal1)</div><div class="ttdef"><b>Definition</b> <a href="AP__Math_8h_source.html#l00074">AP_Math.h:74</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a0f9acb038a5283b964b862aea8cc5051"><div class="ttname"><a href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div><div class="ttdeci">#define AP_GROUPEND</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00163">AP_Param.h:163</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_a78a408c84f2a1bafde256ac650142e4d"><div class="ttname"><a href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a></div><div class="ttdeci">#define AP_GROUPINFO(name, idx, clazz, element, def)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00145">AP_Param.h:145</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_ac24e2eb16c2194e975d27e47ddcb7f1c"><div class="ttname"><a href="AP__Param_8h.html#ac24e2eb16c2194e975d27e47ddcb7f1c">AP_GROUPINFO_FLAGS</a></div><div class="ttdeci">#define AP_GROUPINFO_FLAGS(name, idx, clazz, element, def, flags)</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00133">AP_Param.h:133</a></div></div>
<div class="ttc" id="aAP__Param_8h_html_ae25c1c7495435989f8be5781c86be078"><div class="ttname"><a href="AP__Param_8h.html#ae25c1c7495435989f8be5781c86be078">AP_PARAM_FLAG_ENABLE</a></div><div class="ttdeci">#define AP_PARAM_FLAG_ENABLE</div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00087">AP_Param.h:87</a></div></div>
<div class="ttc" id="aAP__SerialManager_8h_html"><div class="ttname"><a href="AP__SerialManager_8h.html">AP_SerialManager.h</a></div></div>
<div class="ttc" id="aAP__WindVane_8cpp_html_ae08c3ca4ba26b63cda0bb3e3c6c02785"><div class="ttname"><a href="AP__WindVane_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a></div><div class="ttdeci">const AP_HAL::HAL &amp; hal</div><div class="ttdef"><b>Definition</b> <a href="AC__PID__test_8cpp_source.html#l00021">AC_PID_test.cpp:21</a></div></div>
<div class="ttc" id="aAP__WindVane_8h_html"><div class="ttname"><a href="AP__WindVane_8h.html">AP_WindVane.h</a></div></div>
<div class="ttc" id="aAP__WindVane_8h_html_aa54bb5638fc00450b70ee86c1618a17b"><div class="ttname"><a href="AP__WindVane_8h.html#aa54bb5638fc00450b70ee86c1618a17b">WINDSPEED_DEFAULT_SPEED_PIN</a></div><div class="ttdeci">#define WINDSPEED_DEFAULT_SPEED_PIN</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00029">AP_WindVane.h:29</a></div></div>
<div class="ttc" id="aAP__WindVane_8h_html_aa87f226b51753f8b59d691d84f0771cb"><div class="ttname"><a href="AP__WindVane_8h.html#aa87f226b51753f8b59d691d84f0771cb">WINDVANE_DEFAULT_PIN</a></div><div class="ttdeci">#define WINDVANE_DEFAULT_PIN</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00026">AP_WindVane.h:26</a></div></div>
<div class="ttc" id="aAP__WindVane_8h_html_ac258ff7a3e6d13ff04d930d680cb8d14"><div class="ttname"><a href="AP__WindVane_8h.html#ac258ff7a3e6d13ff04d930d680cb8d14">WINDSPEED_DEFAULT_VOLT_OFFSET</a></div><div class="ttdeci">#define WINDSPEED_DEFAULT_VOLT_OFFSET</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00034">AP_WindVane.h:34</a></div></div>
<div class="ttc" id="aAP__WindVane_8h_html_ad183da7c6b0d8b5eee19cfe12300349c"><div class="ttname"><a href="AP__WindVane_8h.html#ad183da7c6b0d8b5eee19cfe12300349c">WINDSPEED_DEFAULT_TEMP_PIN</a></div><div class="ttdeci">#define WINDSPEED_DEFAULT_TEMP_PIN</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00032">AP_WindVane.h:32</a></div></div>
<div class="ttc" id="aAP__WindVane__Airspeed_8h_html"><div class="ttname"><a href="AP__WindVane__Airspeed_8h.html">AP_WindVane_Airspeed.h</a></div></div>
<div class="ttc" id="aAP__WindVane__Analog_8h_html"><div class="ttname"><a href="AP__WindVane__Analog_8h.html">AP_WindVane_Analog.h</a></div></div>
<div class="ttc" id="aAP__WindVane__Home_8h_html"><div class="ttname"><a href="AP__WindVane__Home_8h.html">AP_WindVane_Home.h</a></div></div>
<div class="ttc" id="aAP__WindVane__ModernDevice_8h_html"><div class="ttname"><a href="AP__WindVane__ModernDevice_8h.html">AP_WindVane_ModernDevice.h</a></div></div>
<div class="ttc" id="aAP__WindVane__NMEA_8h_html"><div class="ttname"><a href="AP__WindVane__NMEA_8h.html">AP_WindVane_NMEA.h</a></div></div>
<div class="ttc" id="aAP__WindVane__RPM_8h_html"><div class="ttname"><a href="AP__WindVane__RPM_8h.html">AP_WindVane_RPM.h</a></div></div>
<div class="ttc" id="aAP__WindVane__SITL_8h_html"><div class="ttname"><a href="AP__WindVane__SITL_8h.html">AP_WindVane_SITL.h</a></div></div>
<div class="ttc" id="aAP__WindVane__config_8h_html"><div class="ttname"><a href="AP__WindVane__config_8h.html">AP_WindVane_config.h</a></div></div>
<div class="ttc" id="aGCS_8h_html"><div class="ttname"><a href="GCS_8h.html">GCS.h</a></div><div class="ttdoc">Interface definition for the various Ground Control System.</div></div>
<div class="ttc" id="aGCS_8h_html_a266bfe8eda675e1092f045e93932b4a6"><div class="ttname"><a href="GCS_8h.html#a266bfe8eda675e1092f045e93932b4a6">GCS_SEND_TEXT</a></div><div class="ttdeci">#define GCS_SEND_TEXT(severity, format, args...)</div><div class="ttdef"><b>Definition</b> <a href="GCS_8h_source.html#l01349">GCS.h:1349</a></div></div>
<div class="ttc" id="aGCS_8h_html_ab53f292b698f9a6a3f029dfdbd5a43de"><div class="ttname"><a href="GCS_8h.html#ab53f292b698f9a6a3f029dfdbd5a43de">gcs</a></div><div class="ttdeci">GCS &amp; gcs()</div><div class="ttdef"><b>Definition</b> <a href="GCS__Common_8cpp_source.html#l06846">GCS_Common.cpp:6846</a></div></div>
<div class="ttc" id="aclassAP__AHRS_html_a5d84cbacfad4577e8de788aeba05f49c"><div class="ttname"><a href="classAP__AHRS.html#a5d84cbacfad4577e8de788aeba05f49c">AP_AHRS::get_yaw</a></div><div class="ttdeci">float get_yaw() const</div><div class="ttdef"><b>Definition</b> <a href="AP__AHRS_8h_source.html#l00554">AP_AHRS.h:554</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1HAL_html"><div class="ttname"><a href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a></div><div class="ttdef"><b>Definition</b> <a href="HAL_8h_source.html#l00021">HAL.h:21</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1HAL_html_a9337a60383f4264fa96a20dbe43a4e2e"><div class="ttname"><a href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">AP_HAL::HAL::util</a></div><div class="ttdeci">AP_HAL::Util * util</div><div class="ttdef"><b>Definition</b> <a href="HAL_8h_source.html#l00131">HAL.h:131</a></div></div>
<div class="ttc" id="aclassAP__HAL_1_1Util_html_a287a2b82fa30b92c8d52aad61d4d27b7"><div class="ttname"><a href="classAP__HAL_1_1Util.html#a287a2b82fa30b92c8d52aad61d4d27b7">AP_HAL::Util::get_soft_armed</a></div><div class="ttdeci">bool get_soft_armed() const</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL_2Util_8h_source.html#l00018">Util.h:18</a></div></div>
<div class="ttc" id="aclassAP__Logger_html_abab7cb26825a8dfb1e5e92cf7fcf4152"><div class="ttname"><a href="classAP__Logger.html#abab7cb26825a8dfb1e5e92cf7fcf4152">AP_Logger::WriteStreaming</a></div><div class="ttdeci">void WriteStreaming(const char *name, const char *labels, const char *fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_8cpp_source.html#l00992">AP_Logger.cpp:992</a></div></div>
<div class="ttc" id="aclassAP__Param_html_a5f6dcfce1c0a79cf5bd81283e22f3201"><div class="ttname"><a href="classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a></div><div class="ttdeci">static void setup_object_defaults(const void *object_pointer, const struct GroupInfo *group_info)</div><div class="ttdef"><b>Definition</b> <a href="main_8cpp_source.html#l00010">main.cpp:10</a></div></div>
<div class="ttc" id="aclassAP__SerialManager_html"><div class="ttname"><a href="classAP__SerialManager.html">AP_SerialManager</a></div><div class="ttdef"><b>Definition</b> <a href="AP__SerialManager_8h_source.html#l00030">AP_SerialManager.h:30</a></div></div>
<div class="ttc" id="aclassAP__WindVane__Backend_html_a2ff5418cb8acb0643a010bf0b0f3e5fb"><div class="ttname"><a href="classAP__WindVane__Backend.html#a2ff5418cb8acb0643a010bf0b0f3e5fb">AP_WindVane_Backend::calibrate</a></div><div class="ttdeci">virtual void calibrate()</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane__Backend_8cpp_source.html#l00032">AP_WindVane_Backend.cpp:32</a></div></div>
<div class="ttc" id="aclassAP__WindVane__Backend_html_a4730159bc96e7396e07d7d1528ce6178"><div class="ttname"><a href="classAP__WindVane__Backend.html#a4730159bc96e7396e07d7d1528ce6178">AP_WindVane_Backend::update_direction</a></div><div class="ttdeci">virtual void update_direction()</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane__Backend_8h_source.html#l00038">AP_WindVane_Backend.h:38</a></div></div>
<div class="ttc" id="aclassAP__WindVane__Backend_html_a85cda608160fc801fe294168f1058b24"><div class="ttname"><a href="classAP__WindVane__Backend.html#a85cda608160fc801fe294168f1058b24">AP_WindVane_Backend::update_speed</a></div><div class="ttdeci">virtual void update_speed()</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane__Backend_8h_source.html#l00037">AP_WindVane_Backend.h:37</a></div></div>
<div class="ttc" id="aclassAP__WindVane__Backend_html_ac49e769e439171bdf74b13ffd928bd7e"><div class="ttname"><a href="classAP__WindVane__Backend.html#ac49e769e439171bdf74b13ffd928bd7e">AP_WindVane_Backend::init</a></div><div class="ttdeci">virtual void init(const AP_SerialManager &amp;serial_manager)</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane__Backend_8h_source.html#l00034">AP_WindVane_Backend.h:34</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html"><div class="ttname"><a href="classAP__WindVane.html">AP_WindVane</a></div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00038">AP_WindVane.h:39</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a028300bc32cff3dcb9df76b355a563d8a6bda86f607037af5cfc0911181158632"><div class="ttname"><a href="classAP__WindVane.html#a028300bc32cff3dcb9df76b355a563d8a6bda86f607037af5cfc0911181158632">AP_WindVane::WINDSPEED_NMEA</a></div><div class="ttdeci">@ WINDSPEED_NMEA</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00195">AP_WindVane.h:195</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a028300bc32cff3dcb9df76b355a563d8a7448354eac7b261b9793f9becd3bdc8b"><div class="ttname"><a href="classAP__WindVane.html#a028300bc32cff3dcb9df76b355a563d8a7448354eac7b261b9793f9becd3bdc8b">AP_WindVane::WINDSPEED_NONE</a></div><div class="ttdeci">@ WINDSPEED_NONE</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00186">AP_WindVane.h:186</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a028300bc32cff3dcb9df76b355a563d8ad3c188da807541a0164a8ca8564ad338"><div class="ttname"><a href="classAP__WindVane.html#a028300bc32cff3dcb9df76b355a563d8ad3c188da807541a0164a8ca8564ad338">AP_WindVane::WINDVANE_WIND_SENSOR_REV_P</a></div><div class="ttdeci">@ WINDVANE_WIND_SENSOR_REV_P</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00190">AP_WindVane.h:190</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a04b4310af778ab0f8ac058e257d66f20"><div class="ttname"><a href="classAP__WindVane.html#a04b4310af778ab0f8ac058e257d66f20">AP_WindVane::_speed_driver</a></div><div class="ttdeci">AP_WindVane_Backend * _speed_driver</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00126">AP_WindVane.h:126</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a05448e00758ea81f7c879ff1562b90e8"><div class="ttname"><a href="classAP__WindVane.html#a05448e00758ea81f7c879ff1562b90e8">AP_WindVane::_home_heading</a></div><div class="ttdeci">float _home_heading</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00165">AP_WindVane.h:165</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a0b98c68e6983862da0331e1c4779437e"><div class="ttname"><a href="classAP__WindVane.html#a0b98c68e6983862da0331e1c4779437e">AP_WindVane::AP_WindVane_RPM</a></div><div class="ttdeci">friend class AP_WindVane_RPM</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00046">AP_WindVane.h:46</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a0e3858f7f56c708791c429500517bc04"><div class="ttname"><a href="classAP__WindVane.html#a0e3858f7f56c708791c429500517bc04">AP_WindVane::AP_WindVane_SITL</a></div><div class="ttdeci">friend class AP_WindVane_SITL</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00043">AP_WindVane.h:43</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a1171940b945e737b201b66d8852bd2a6"><div class="ttname"><a href="classAP__WindVane.html#a1171940b945e737b201b66d8852bd2a6">AP_WindVane::AP_WindVane_NMEA</a></div><div class="ttdeci">friend class AP_WindVane_NMEA</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00047">AP_WindVane.h:47</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a15e29db6e47037c162e78f11b935df9f"><div class="ttname"><a href="classAP__WindVane.html#a15e29db6e47037c162e78f11b935df9f">AP_WindVane::update_true_wind_speed_and_direction</a></div><div class="ttdeci">void update_true_wind_speed_and_direction()</div><div class="ttdef"><b>Definition</b> <a href="#l00447">AP_WindVane.cpp:447</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a15ed3dfec866170d9adc8efa18aacf90"><div class="ttname"><a href="classAP__WindVane.html#a15ed3dfec866170d9adc8efa18aacf90">AP_WindVane::_direction_apparent_raw</a></div><div class="ttdeci">float _direction_apparent_raw</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00141">AP_WindVane.h:141</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a16513380d05572c05cfffe3d99389c40"><div class="ttname"><a href="classAP__WindVane.html#a16513380d05572c05cfffe3d99389c40">AP_WindVane::_speed_apparent_filt</a></div><div class="ttdeci">LowPassFilterFloat _speed_apparent_filt</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00158">AP_WindVane.h:158</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a210e7a9dfb7a4a6bfc1d298be3b76916"><div class="ttname"><a href="classAP__WindVane.html#a210e7a9dfb7a4a6bfc1d298be3b76916">AP_WindVane::wind_speed_enabled</a></div><div class="ttdeci">bool wind_speed_enabled() const</div><div class="ttdef"><b>Definition</b> <a href="#l00191">AP_WindVane.cpp:191</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a29f6e2dd9883e1679085d6851d3c89fd"><div class="ttname"><a href="classAP__WindVane.html#a29f6e2dd9883e1679085d6851d3c89fd">AP_WindVane::_direction_apparent</a></div><div class="ttdeci">float _direction_apparent</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00142">AP_WindVane.h:142</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a2e2782f3e01039d22f863849adab051f"><div class="ttname"><a href="classAP__WindVane.html#a2e2782f3e01039d22f863849adab051f">AP_WindVane::_speed_true_filt</a></div><div class="ttdeci">LowPassFilterFloat _speed_true_filt</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00159">AP_WindVane.h:159</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a2f789a672d821de92cd4c3cdf038724e"><div class="ttname"><a href="classAP__WindVane.html#a2f789a672d821de92cd4c3cdf038724e">AP_WindVane::record_home_heading</a></div><div class="ttdeci">void record_home_heading()</div><div class="ttdef"><b>Definition</b> <a href="#l00398">AP_WindVane.cpp:398</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a354bce01ac6cbf0454fe0de02b7edf5f"><div class="ttname"><a href="classAP__WindVane.html#a354bce01ac6cbf0454fe0de02b7edf5f">AP_WindVane::_direction_type</a></div><div class="ttdeci">AP_Int8 _direction_type</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00109">AP_WindVane.h:109</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a37da59f3d4c3ff297451eb64e86f31ce"><div class="ttname"><a href="classAP__WindVane.html#a37da59f3d4c3ff297451eb64e86f31ce">AP_WindVane::start_speed_calibration</a></div><div class="ttdeci">bool start_speed_calibration()</div><div class="ttdef"><b>Definition</b> <a href="#l00414">AP_WindVane.cpp:414</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a3fcc0365f7daa8d235a5c8a576c03576"><div class="ttname"><a href="classAP__WindVane.html#a3fcc0365f7daa8d235a5c8a576c03576">AP_WindVane::_speed_true</a></div><div class="ttdeci">float _speed_true</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00157">AP_WindVane.h:157</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a41472688357a9cc2a3a1e8c0a8c2fb70"><div class="ttname"><a href="classAP__WindVane.html#a41472688357a9cc2a3a1e8c0a8c2fb70">AP_WindVane::AP_WindVane_Airspeed</a></div><div class="ttdeci">friend class AP_WindVane_Airspeed</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00045">AP_WindVane.h:45</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a418ee084488180de4fe9feb6c8ec4480"><div class="ttname"><a href="classAP__WindVane.html#a418ee084488180de4fe9feb6c8ec4480">AP_WindVane::_direction_tack</a></div><div class="ttdeci">float _direction_tack</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00145">AP_WindVane.h:145</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a4a050c1989398f484b95f3385fefebe2a222f8bb5d85359fe72a876208943a776"><div class="ttname"><a href="classAP__WindVane.html#a4a050c1989398f484b95f3385fefebe2a222f8bb5d85359fe72a876208943a776">AP_WindVane::WINDVANE_NONE</a></div><div class="ttdeci">@ WINDVANE_NONE</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00168">AP_WindVane.h:168</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a4a050c1989398f484b95f3385fefebe2a770c603fb2bcd0675e8af5ea4806ee74"><div class="ttname"><a href="classAP__WindVane.html#a4a050c1989398f484b95f3385fefebe2a770c603fb2bcd0675e8af5ea4806ee74">AP_WindVane::WINDVANE_HOME_HEADING</a></div><div class="ttdeci">@ WINDVANE_HOME_HEADING</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00170">AP_WindVane.h:170</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a4a050c1989398f484b95f3385fefebe2a8c06777924be8efabb0b1f9c5bec7adb"><div class="ttname"><a href="classAP__WindVane.html#a4a050c1989398f484b95f3385fefebe2a8c06777924be8efabb0b1f9c5bec7adb">AP_WindVane::WINDVANE_ANALOG_PIN</a></div><div class="ttdeci">@ WINDVANE_ANALOG_PIN</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00174">AP_WindVane.h:174</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a4a050c1989398f484b95f3385fefebe2aed7f01bc657b1d565fca64d41de4e552"><div class="ttname"><a href="classAP__WindVane.html#a4a050c1989398f484b95f3385fefebe2aed7f01bc657b1d565fca64d41de4e552">AP_WindVane::WINDVANE_NMEA</a></div><div class="ttdeci">@ WINDVANE_NMEA</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00177">AP_WindVane.h:177</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a4a050c1989398f484b95f3385fefebe2afceb1dbf3b3db35e3e92e9825ebbfea0"><div class="ttname"><a href="classAP__WindVane.html#a4a050c1989398f484b95f3385fefebe2afceb1dbf3b3db35e3e92e9825ebbfea0">AP_WindVane::WINDVANE_PWM_PIN</a></div><div class="ttdeci">@ WINDVANE_PWM_PIN</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00171">AP_WindVane.h:171</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a4be87cdbcdac2f146d3b9b1b09aa1e8a"><div class="ttname"><a href="classAP__WindVane.html#a4be87cdbcdac2f146d3b9b1b09aa1e8a">AP_WindVane::update</a></div><div class="ttdeci">void update()</div><div class="ttdef"><b>Definition</b> <a href="#l00279">AP_WindVane.cpp:279</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a4f44693a270b770cf3a432c48bd4cb1f"><div class="ttname"><a href="classAP__WindVane.html#a4f44693a270b770cf3a432c48bd4cb1f">AP_WindVane::AP_WindVane_ModernDevice</a></div><div class="ttdeci">friend class AP_WindVane_ModernDevice</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00044">AP_WindVane.h:44</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a522beeb34b8b941ba38466c8523284c2"><div class="ttname"><a href="classAP__WindVane.html#a522beeb34b8b941ba38466c8523284c2">AP_WindVane::init</a></div><div class="ttdeci">void init(const class AP_SerialManager &amp;serial_manager)</div><div class="ttdef"><b>Definition</b> <a href="#l00197">AP_WindVane.cpp:197</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a610204f0facddb725a4d172b7c2cc7bd"><div class="ttname"><a href="classAP__WindVane.html#a610204f0facddb725a4d172b7c2cc7bd">AP_WindVane::_dir_speed_cutoff</a></div><div class="ttdeci">AP_Float _dir_speed_cutoff</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00117">AP_WindVane.h:117</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a619cfaf982b4dcffdbc6788ffc914338"><div class="ttname"><a href="classAP__WindVane.html#a619cfaf982b4dcffdbc6788ffc914338">AP_WindVane::AP_WindVane_Analog</a></div><div class="ttdeci">friend class AP_WindVane_Analog</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00042">AP_WindVane.h:42</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a725fbdffe6a6354f85bd317dc4b05127"><div class="ttname"><a href="classAP__WindVane.html#a725fbdffe6a6354f85bd317dc4b05127">AP_WindVane::_speed_apparent</a></div><div class="ttdeci">float _speed_apparent</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00155">AP_WindVane.h:155</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a7500cd6e7d98b4e7960d4858beb23b59"><div class="ttname"><a href="classAP__WindVane.html#a7500cd6e7d98b4e7960d4858beb23b59">AP_WindVane::enabled</a></div><div class="ttdeci">bool enabled() const</div><div class="ttdef"><b>Definition</b> <a href="#l00185">AP_WindVane.cpp:185</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a752451273244283e58ecaa003699d6ef"><div class="ttname"><a href="classAP__WindVane.html#a752451273244283e58ecaa003699d6ef">AP_WindVane::update_apparent_wind_dir_from_true</a></div><div class="ttdeci">void update_apparent_wind_dir_from_true()</div><div class="ttdef"><b>Definition</b> <a href="#l00471">AP_WindVane.cpp:471</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a7b7c4509b7841275b7cc6d83ed88e6ea"><div class="ttname"><a href="classAP__WindVane.html#a7b7c4509b7841275b7cc6d83ed88e6ea">AP_WindVane::_direction_true_raw</a></div><div class="ttdeci">float _direction_true_raw</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00143">AP_WindVane.h:143</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a7fe5da9d9a94378622fed263f2da65da"><div class="ttname"><a href="classAP__WindVane.html#a7fe5da9d9a94378622fed263f2da65da">AP_WindVane::var_info</a></div><div class="ttdeci">static const struct AP_Param::GroupInfo var_info[]</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00038">AP_WindVane.h:38</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a84fafefeb8a985bedf32d23d6512bff1"><div class="ttname"><a href="classAP__WindVane.html#a84fafefeb8a985bedf32d23d6512bff1">AP_WindVane::get_apparent_wind_speed</a></div><div class="ttdeci">float get_apparent_wind_speed() const</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00076">AP_WindVane.h:76</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a91095cb285f76c5887aa6c57466606d2"><div class="ttname"><a href="classAP__WindVane.html#a91095cb285f76c5887aa6c57466606d2">AP_WindVane::_true_filt_hz</a></div><div class="ttdeci">AP_Float _true_filt_hz</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00123">AP_WindVane.h:123</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_a98c561802a637468e25dd7f322e0a07d"><div class="ttname"><a href="classAP__WindVane.html#a98c561802a637468e25dd7f322e0a07d">AP_WindVane::_current_tack</a></div><div class="ttdeci">Sailboat_Tack _current_tack</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00162">AP_WindVane.h:162</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_aa268f0fc99bd1ad71c315295af40c929a486b834e7a2a615c74b02eb084e3d70f"><div class="ttname"><a href="classAP__WindVane.html#aa268f0fc99bd1ad71c315295af40c929a486b834e7a2a615c74b02eb084e3d70f">AP_WindVane::TACK_PORT</a></div><div class="ttdeci">@ TACK_PORT</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00086">AP_WindVane.h:86</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_aa268f0fc99bd1ad71c315295af40c929ac665f2fbeb11cb3c860181d2e8890262"><div class="ttname"><a href="classAP__WindVane.html#aa268f0fc99bd1ad71c315295af40c929ac665f2fbeb11cb3c860181d2e8890262">AP_WindVane::TACK_STARBOARD</a></div><div class="ttdeci">@ TACK_STARBOARD</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00088">AP_WindVane.h:87</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_aa940cbd650e1b766da69899932431938"><div class="ttname"><a href="classAP__WindVane.html#aa940cbd650e1b766da69899932431938">AP_WindVane::get_true_wind_direction_rad</a></div><div class="ttdeci">float get_true_wind_direction_rad() const</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00073">AP_WindVane.h:73</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_aaa76bf3a703e3ca433dbe546c657763d"><div class="ttname"><a href="classAP__WindVane.html#aaa76bf3a703e3ca433dbe546c657763d">AP_WindVane::AP_WindVane</a></div><div class="ttdeci">AP_WindVane()</div><div class="ttdef"><b>Definition</b> <a href="#l00165">AP_WindVane.cpp:165</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_aab0fc0539d9af3f20558d4fd980a494c"><div class="ttname"><a href="classAP__WindVane.html#aab0fc0539d9af3f20558d4fd980a494c">AP_WindVane::_tack_cos_filt</a></div><div class="ttdeci">LowPassFilterFloat _tack_cos_filt</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00151">AP_WindVane.h:151</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_ab6e4b38ce9ba31b2ee1be06c978eb5db"><div class="ttname"><a href="classAP__WindVane.html#ab6e4b38ce9ba31b2ee1be06c978eb5db">AP_WindVane::_speed_sensor_type</a></div><div class="ttdeci">AP_Int8 _speed_sensor_type</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00118">AP_WindVane.h:118</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_ab7df6bd2aeb23b16c1dce4ce4e80234b"><div class="ttname"><a href="classAP__WindVane.html#ab7df6bd2aeb23b16c1dce4ce4e80234b">AP_WindVane::_direction_driver</a></div><div class="ttdeci">AP_WindVane_Backend * _direction_driver</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00125">AP_WindVane.h:125</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_abc272b10e0487dcf0ddc13d0a90f9bad"><div class="ttname"><a href="classAP__WindVane.html#abc272b10e0487dcf0ddc13d0a90f9bad">AP_WindVane::_direction_true</a></div><div class="ttdeci">float _direction_true</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00144">AP_WindVane.h:144</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_ac8731618a7f85f1a0c60f12e26ff0f82"><div class="ttname"><a href="classAP__WindVane.html#ac8731618a7f85f1a0c60f12e26ff0f82">AP_WindVane::_direction_apparent_sin_filt</a></div><div class="ttdeci">LowPassFilterFloat _direction_apparent_sin_filt</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00146">AP_WindVane.h:146</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_ac935719dfcc4a870aaac39c0154b1200"><div class="ttname"><a href="classAP__WindVane.html#ac935719dfcc4a870aaac39c0154b1200">AP_WindVane::AP_WindVane_Home</a></div><div class="ttdeci">friend class AP_WindVane_Home</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00041">AP_WindVane.h:41</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_ac991e16d68d3e664f5a42651d33eb813"><div class="ttname"><a href="classAP__WindVane.html#ac991e16d68d3e664f5a42651d33eb813">AP_WindVane::send_wind</a></div><div class="ttdeci">void send_wind(mavlink_channel_t chan) const</div><div class="ttdef"><b>Definition</b> <a href="#l00424">AP_WindVane.cpp:424</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_aca98a59f335b5638ecc139af21355fa9"><div class="ttname"><a href="classAP__WindVane.html#aca98a59f335b5638ecc139af21355fa9">AP_WindVane::_tack_sin_filt</a></div><div class="ttdeci">LowPassFilterFloat _tack_sin_filt</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00150">AP_WindVane.h:150</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_acab97955a9626e216d3577fe3598b572"><div class="ttname"><a href="classAP__WindVane.html#acab97955a9626e216d3577fe3598b572">AP_WindVane::_calibration</a></div><div class="ttdeci">AP_Int8 _calibration</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00116">AP_WindVane.h:116</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_ad560e462671bcd766df9341093ecf690"><div class="ttname"><a href="classAP__WindVane.html#ad560e462671bcd766df9341093ecf690">AP_WindVane::_singleton</a></div><div class="ttdeci">static AP_WindVane * _singleton</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00203">AP_WindVane.h:203</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_ad568c9086b19901c2b4564fe3980eb1c"><div class="ttname"><a href="classAP__WindVane.html#ad568c9086b19901c2b4564fe3980eb1c">AP_WindVane::_speed_true_raw</a></div><div class="ttdeci">float _speed_true_raw</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00156">AP_WindVane.h:156</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_ad6a95b2df56efb6ea67ffd7b91132533"><div class="ttname"><a href="classAP__WindVane.html#ad6a95b2df56efb6ea67ffd7b91132533">AP_WindVane::_speed_apparent_raw</a></div><div class="ttdeci">float _speed_apparent_raw</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00154">AP_WindVane.h:154</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_ad97a49d03de098cfebbb1a4581b7afdc"><div class="ttname"><a href="classAP__WindVane.html#ad97a49d03de098cfebbb1a4581b7afdc">AP_WindVane::_speed_filt_hz</a></div><div class="ttdeci">AP_Float _speed_filt_hz</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00122">AP_WindVane.h:122</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_adc003117ef9cf4d22f4d4bf2697d7512"><div class="ttname"><a href="classAP__WindVane.html#adc003117ef9cf4d22f4d4bf2697d7512">AP_WindVane::_direction_apparent_cos_filt</a></div><div class="ttdeci">LowPassFilterFloat _direction_apparent_cos_filt</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00147">AP_WindVane.h:147</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_aecc10d6ca30f2e930621539edc4e89df"><div class="ttname"><a href="classAP__WindVane.html#aecc10d6ca30f2e930621539edc4e89df">AP_WindVane::get_singleton</a></div><div class="ttdeci">static AP_WindVane * get_singleton()</div><div class="ttdef"><b>Definition</b> <a href="#l00179">AP_WindVane.cpp:179</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_aef84f518c8e7274881d338af8698fca0"><div class="ttname"><a href="classAP__WindVane.html#aef84f518c8e7274881d338af8698fca0">AP_WindVane::get_true_wind_speed</a></div><div class="ttdeci">float get_true_wind_speed() const</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00079">AP_WindVane.h:79</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_aefc6239be92f5661cc68b55ab1c327bd"><div class="ttname"><a href="classAP__WindVane.html#aefc6239be92f5661cc68b55ab1c327bd">AP_WindVane::_dir_filt_hz</a></div><div class="ttdeci">AP_Float _dir_filt_hz</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00115">AP_WindVane.h:115</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_af4f62f65c7b8ccfc587e9c31dc6d5dbd"><div class="ttname"><a href="classAP__WindVane.html#af4f62f65c7b8ccfc587e9c31dc6d5dbd">AP_WindVane::get_apparent_wind_direction_rad</a></div><div class="ttdeci">float get_apparent_wind_direction_rad() const</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00070">AP_WindVane.h:70</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_af5f2bc32da53c299fa2de4fe218c42d2"><div class="ttname"><a href="classAP__WindVane.html#af5f2bc32da53c299fa2de4fe218c42d2">AP_WindVane::_direction_true_sin_filt</a></div><div class="ttdeci">LowPassFilterFloat _direction_true_sin_filt</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00148">AP_WindVane.h:148</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_af933fdf6c1e2e8750c98e87e1be1c519"><div class="ttname"><a href="classAP__WindVane.html#af933fdf6c1e2e8750c98e87e1be1c519">AP_WindVane::_direction_true_cos_filt</a></div><div class="ttdeci">LowPassFilterFloat _direction_true_cos_filt</div><div class="ttdef"><b>Definition</b> <a href="AP__WindVane_8h_source.html#l00149">AP_WindVane.h:149</a></div></div>
<div class="ttc" id="aclassAP__WindVane_html_afab02f6ab69e882c2f9aa7e33b39c00f"><div class="ttname"><a href="classAP__WindVane.html#afab02f6ab69e882c2f9aa7e33b39c00f">AP_WindVane::start_direction_calibration</a></div><div class="ttdeci">bool start_direction_calibration()</div><div class="ttdef"><b>Definition</b> <a href="#l00404">AP_WindVane.cpp:404</a></div></div>
<div class="ttc" id="aclassGCS_html_a36bac57d1573fce99894d56aef0f7c59"><div class="ttname"><a href="classGCS.html#a36bac57d1573fce99894d56aef0f7c59">GCS::send_named_float</a></div><div class="ttdeci">void send_named_float(const char *name, float value) const</div><div class="ttdef"><b>Definition</b> <a href="GCS_8cpp_source.html#l00107">GCS.cpp:107</a></div></div>
<div class="ttc" id="aclassLowPassFilter_html_a1cc5016de137b01080fa0a6fa7fe53cd"><div class="ttname"><a href="classLowPassFilter.html#a1cc5016de137b01080fa0a6fa7fe53cd">LowPassFilter::set_cutoff_frequency</a></div><div class="ttdeci">void set_cutoff_frequency(float cutoff_freq)</div><div class="ttdef"><b>Definition</b> <a href="LowPassFilter_8cpp_source.html#l00101">LowPassFilter.cpp:101</a></div></div>
<div class="ttc" id="aclassLowPassFilter_html_aa390849d2e18ff3287f92b89d8657841"><div class="ttname"><a href="classLowPassFilter.html#aa390849d2e18ff3287f92b89d8657841">LowPassFilter::apply</a></div><div class="ttdeci">T apply(T sample, float dt)</div><div class="ttdef"><b>Definition</b> <a href="LowPassFilter_8cpp_source.html#l00118">LowPassFilter.cpp:118</a></div></div>
<div class="ttc" id="aclassVector3_html"><div class="ttname"><a href="classVector3.html">Vector3&lt; float &gt;</a></div></div>
<div class="ttc" id="aclassVector3_html_a1a0f7e168c71ca798099f0ba8a444244"><div class="ttname"><a href="classVector3.html#a1a0f7e168c71ca798099f0ba8a444244">Vector3::x</a></div><div class="ttdeci">T x</div><div class="ttdef"><b>Definition</b> <a href="vector3_8h_source.html#l00076">vector3.h:76</a></div></div>
<div class="ttc" id="aclassVector3_html_a561df88b28e106e337a25bb86554a569"><div class="ttname"><a href="classVector3.html#a561df88b28e106e337a25bb86554a569">Vector3::y</a></div><div class="ttdeci">T y</div><div class="ttdef"><b>Definition</b> <a href="vector3_8h_source.html#l00076">vector3.h:76</a></div></div>
<div class="ttc" id="aexamples_2AnalogIn_2AnalogIn_8cpp_html_a130f3ebe4c1bb6993e1094760227ad6a"><div class="ttname"><a href="examples_2AnalogIn_2AnalogIn_8cpp.html#a130f3ebe4c1bb6993e1094760227ad6a">chan</a></div><div class="ttdeci">AP_HAL::AnalogSource * chan</div><div class="ttdef"><b>Definition</b> <a href="examples_2AnalogIn_2AnalogIn_8cpp_source.html#l00025">AnalogIn.cpp:25</a></div></div>
<div class="ttc" id="amoduletest_8c_html_a903c4797a4c2860e3b9a6a978f98a44d"><div class="ttname"><a href="moduletest_8c.html#a903c4797a4c2860e3b9a6a978f98a44d">degrees</a></div><div class="ttdeci">#define degrees(x)</div><div class="ttdef"><b>Definition</b> <a href="moduletest_8c_source.html#l00023">moduletest.c:23</a></div></div>
<div class="ttc" id="anamespaceAP__HAL_html_a52edeef7d5ffaa365e1229b87c170307"><div class="ttname"><a href="namespaceAP__HAL.html#a52edeef7d5ffaa365e1229b87c170307">AP_HAL::panic</a></div><div class="ttdeci">void panic(const char *errormsg,...) FMT_PRINTF(1</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL__ChibiOS_2system_8cpp_source.html#l00327">system.cpp:327</a></div></div>
<div class="ttc" id="anamespaceAP__HAL_html_a7aa0ce7625c9680e30ff4a99940907a5"><div class="ttname"><a href="namespaceAP__HAL.html#a7aa0ce7625c9680e30ff4a99940907a5">AP_HAL::micros64</a></div><div class="ttdeci">uint64_t micros64()</div><div class="ttdef"><b>Definition</b> <a href="AP__HAL__ChibiOS_2system_8cpp_source.html#l00387">system.cpp:387</a></div></div>
<div class="ttc" id="anamespaceAP_html"><div class="ttname"><a href="namespaceAP.html">AP</a></div><div class="ttdef"><b>Definition</b> <a href="AC__Avoid_8cpp_source.html#l01481">AC_Avoid.cpp:1481</a></div></div>
<div class="ttc" id="anamespaceAP_html_a3d234397344391a215f01f280bed7035"><div class="ttname"><a href="namespaceAP.html#a3d234397344391a215f01f280bed7035">AP::windvane</a></div><div class="ttdeci">AP_WindVane * windvane()</div><div class="ttdef"><b>Definition</b> <a href="#l00494">AP_WindVane.cpp:494</a></div></div>
<div class="ttc" id="anamespaceAP_html_a99432cfdb696952c9b7146f155a815aa"><div class="ttname"><a href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a></div><div class="ttdeci">AP_AHRS &amp; ahrs()</div><div class="ttdef"><b>Definition</b> <a href="AP__AHRS_8cpp_source.html#l03558">AP_AHRS.cpp:3558</a></div></div>
<div class="ttc" id="anamespaceAP_html_aa35bfac1ea2da16f110e8e72db7b3b20"><div class="ttname"><a href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a></div><div class="ttdeci">AP_Logger &amp; logger()</div><div class="ttdef"><b>Definition</b> <a href="AP__Logger_8cpp_source.html#l01740">AP_Logger.cpp:1740</a></div></div>
<div class="ttc" id="astructAP__Param_1_1GroupInfo_html"><div class="ttname"><a href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a></div><div class="ttdef"><b>Definition</b> <a href="AP__Param_8h_source.html#l00199">AP_Param.h:199</a></div></div>
<div class="ttc" id="astructVector2_html"><div class="ttname"><a href="structVector2.html">Vector2&lt; float &gt;</a></div></div>
<div class="ttc" id="astructVector2_html_a6cfed8355591aa269f4dba43bd806ef9"><div class="ttname"><a href="structVector2.html#a6cfed8355591aa269f4dba43bd806ef9">Vector2::y</a></div><div class="ttdeci">T y</div><div class="ttdef"><b>Definition</b> <a href="vector2_8h_source.html#l00044">vector2.h:44</a></div></div>
<div class="ttc" id="astructVector2_html_a78fa1f2ed5e261c7fbeb8f3536a1ee34"><div class="ttname"><a href="structVector2.html#a78fa1f2ed5e261c7fbeb8f3536a1ee34">Vector2::x</a></div><div class="ttdeci">T x</div><div class="ttdef"><b>Definition</b> <a href="vector2_8h_source.html#l00044">vector2.h:44</a></div></div>
<div class="ttc" id="astructVector2_html_aed3cf4803ee803dc1447985ca323178f"><div class="ttname"><a href="structVector2.html#aed3cf4803ee803dc1447985ca323178f">Vector2::length</a></div><div class="ttdeci">T length(void) const</div><div class="ttdef"><b>Definition</b> <a href="vector2_8cpp_source.html#l00030">vector2.cpp:30</a></div></div>
<div class="ttc" id="avector2_8h_html_a9f3739462b0605dcb64299fa289b6afe"><div class="ttname"><a href="vector2_8h.html#a9f3739462b0605dcb64299fa289b6afe">Vector2f</a></div><div class="ttdeci">Vector2&lt; float &gt; Vector2f</div><div class="ttdef"><b>Definition</b> <a href="vector2_8h_source.html#l00297">vector2.h:297</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 22 2024 16:14:15 for APM:Libraries by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
